"use strict";var winningColor,playerColor,moveUp,coinRed=document.querySelector(".main-coinflip__red"),coinBlack=document.querySelector(".main-coinflip__black"),redBtn=document.querySelector(".main-coinflip__button--red"),blackBtn=document.querySelector(".main-coinflip__button--black"),betInput=document.querySelector(".main-coinflip__input"),winAudio=new Audio("./dist/audio/win.wav"),betAudio=new Audio("./dist/audio/bet.wav"),balanceAmount=document.querySelector(".nav__list-item-balance-amount"),clearBtn=document.querySelector("#clear"),lastBtn=document.querySelector("#last"),plusOneBtn=document.querySelector("#plus1"),plusTenBtn=document.querySelector("#plus10"),plusOneHundredBtn=document.querySelector("#plus100"),plusOneThousandBtn=document.querySelector("#plus1000"),halfBtn=document.querySelector("#half"),timesTwoBtn=document.querySelector("#x2"),maxBtn=document.querySelector("#max"),betAmount=0,lastBetAmount=0,flipping=!1,setWinningCoin=function(){var t=Math.floor(2*Math.random());flipping=!0,removeBalance(),0===t?(coinRed.classList.add("coinflip-red"),coinBlack.classList.add("coinflip-black"),winningColor="red",setTimeout(function(){coinRed.style.zIndex="1"},3500)):1===t&&(coinRed.classList.add("coinflip-red"),coinBlack.classList.add("coinflip-black"),winningColor="black",setTimeout(function(){coinRed.style.zIndex="0"},3500)),setTimeout(function(){coinRed.classList.remove("coinflip-red"),coinBlack.classList.remove("coinflip-black"),flipping=!1,addMoneyToBalance()},6e3)},addMoneyToBalance=function(){var t,e,n,o;playerColor===winningColor&&(winAudio.play(),betAmount*=2,e=parseFloat(balanceAmount.textContent)+betAmount,balanceAmount.textContent=e.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent)),(t=document.createElement("p")).setAttribute("class","win"),t.textContent=betAmount.toFixed(2),e=Math.floor(30*Math.random()+20),n=Math.floor(35*Math.random()+30),t.style.top="".concat(e,"%"),t.style.left="".concat(n,"%"),document.body.append(t),o=e,moveUp=setInterval(function(){o-=.5,t.style.top="".concat(o,"%")},100),setTimeout(function(){document.body.lastElementChild.remove(),clearInterval(moveUp)},2e3),betAmount=0)},removeBalance=function(){var t=parseFloat(balanceAmount.textContent)-betAmount;balanceAmount.textContent=t.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent))};redBtn.addEventListener("click",function(){var t=localStorage.getItem("Balance");0<betInput.value&&!1===flipping&&betInput.value<=parseFloat(t)&&(playerColor="red",betAmount=betInput.value,betInput.value=0,lastBetAmount=betAmount,betAudio.play(),setWinningCoin())}),blackBtn.addEventListener("click",function(){var t=localStorage.getItem("Balance");0<betInput.value&&!1===flipping&&betInput.value<=parseFloat(t)&&(playerColor="black",betAmount=betInput.value,betInput.value=0,lastBetAmount=betAmount,betAudio.play(),setWinningCoin())}),clearBtn.addEventListener("click",function(){betInput.value=0}),lastBtn.addEventListener("click",function(){0!==lastBetAmount&&(betInput.value=lastBetAmount)}),plusOneBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=t+1}),plusTenBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=t+10}),plusOneHundredBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=t+100}),plusOneThousandBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=t+1e3}),halfBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=t/2}),timesTwoBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=2*t}),maxBtn.addEventListener("click",function(){betInput.value=localStorage.getItem("Balance")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvaW5mbGlwLmpzIl0sIm5hbWVzIjpbInRpbWVzVHdvQnRuIiwibWF4QnRuIiwibGFzdEJldEFtb3VudCIsImNvaW5SZWQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb2luQmxhY2siLCJyZWRCdG4iLCJibGFja0J0biIsImJldElucHV0Iiwid2luQXVkaW8iLCJBdWRpbyIsImJldEF1ZGlvIiwiYmFsYW5jZUFtb3VudCIsImNsZWFyQnRuIiwibGFzdEJ0biIsInBsdXNPbmVCdG4iLCJwbHVzVGVuQnRuIiwicGx1c09uZUh1bmRyZWRCdG4iLCJwbHVzT25lVGhvdXNhbmRCdG4iLCJoYWxmQnRuIiwid2lubmluZ0NvbG9yIiwicGxheWVyQ29sb3IiLCJiZXRBbW91bnQiLCJtb3ZlVXAiLCJzZXRXaW5uaW5nQ29pbiIsIk1hdGgiLCJmbG9vciIsImZsaXBwaW5nIiwicmVtb3ZlQmFsYW5jZSIsImNsYXNzTGlzdCIsImFkZCIsInNldFRpbWVvdXQiLCJzdHlsZSIsInJhbmRvbU51bSIsInpJbmRleCIsImFkZE1vbmV5VG9CYWxhbmNlIiwicmVtb3ZlIiwiYW1vdW50VmFsdWUiLCJ3aW5Qb3BVcCIsIm1vdmVVcFZhbHVlIiwidGV4dENvbnRlbnQiLCJsb2NhbFN0b3JhZ2UiLCJzZXRBdHRyaWJ1dGUiLCJyYW5kb21Gcm9tVG9wIiwicmFuZG9tIiwicmFuZG9tRnJvbUxlZnQiLCJsZWZ0IiwiY3JlYXRlRWxlbWVudCIsInRvRml4ZWQiLCJ0b3AiLCJjb25jYXQiLCJjbGVhckludGVydmFsIiwic2V0SW50ZXJ2YWwiLCJwYXJzZUZsb2F0IiwidmFsdWUiLCJib2R5IiwibGFzdEVsZW1lbnRDaGlsZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJiYWxhbmNlIiwiZ2V0SXRlbSIsInBsYXkiXSwibWFwcGluZ3MiOiJhQUFBLElBZU1BLGFBQ0FDLFlBSUZDLE9BcEJFQyxRQUFVQyxTQUFTQyxjQUFjLHFCQUFxQixFQUN0REMsVUFBWUYsU0FBU0MsY0FBYyx1QkFB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QyxTQUFTOEMsS0FBSyxFQUNyQzlDLFNBQVM4QyxNQUFRQSxFQUFRLEVBQzFCLENBQUMsRUFFRHJDLGtCQUFrQndDLGlCQUFpQixRQUFTLFdBQzNDLElBQUlILEVBQVFELFdBQVc3QyxTQUFTOEMsS0FBSyxFQUNyQzlDLFNBQVM4QyxNQUFRQSxFQUFRLEdBQzFCLENBQUMsRUFFRHBDLG1CQUFtQnVDLGlCQUFpQixRQUFTLFdBQzVDLElBQUlILEVBQVFELFdBQVc3QyxTQUFTOEMsS0FBSyxFQUNyQzlDLFNBQVM4QyxNQUFRQSxFQUFRLEdBQzFCLENBQUMsRUFFRG5DLFFBQVFzQyxpQkFBaUIsUUFBUyxXQUNqQyxJQUFJSCxFQUFRRCxXQUFXN0MsU0FBUzhDLEtBQUssRUFDckM5QyxTQUFTOEMsTUFBUUEsRUFBUSxDQUMxQixDQUFDLEVBRUR2RCxZQUFZMEQsaUJBQWlCLFFBQVMsV0FDckMsSUFBSUgsRUFBUUQsV0FBVzdDLFNBQVM4QyxLQUFLLEVBQ3JDOUMsU0FBUzhDLE1BQWdCLEVBQVJBLENBQ2xCLENBQUMsRUFFRHRELE9BQU95RCxpQkFBaUIsUUFBUyxXQUNoQ2pELFNBQVM4QyxNQUFRYixhQUFha0IsUUFBUSxTQUFTLENBQ2hELENBQUMiLCJmaWxlIjoiY29pbmZsaXAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgY29pblJlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb2luZmxpcF9fcmVkXCIpO1xyXG5jb25zdCBjb2luQmxhY2sgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY29pbmZsaXBfX2JsYWNrXCIpO1xyXG5jb25zdCByZWRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY29pbmZsaXBfX2J1dHRvbi0tcmVkXCIpO1xyXG5jb25zdCBibGFja0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb2luZmxpcF9fYnV0dG9uLS1ibGFja1wiKTtcclxuY29uc3QgYmV0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY29pbmZsaXBfX2lucHV0XCIpO1xyXG5jb25zdCB3aW5BdWRpbyA9IG5ldyBBdWRpbyhcIi4vZGlzdC9hdWRpby93aW4ud2F2XCIpO1xyXG5jb25zdCBiZXRBdWRpbyA9IG5ldyBBdWRpbyhcIi4vZGlzdC9hdWRpby9iZXQud2F2XCIpO1xyXG5jb25zdCBiYWxhbmNlQW1vdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX2xpc3QtaXRlbS1iYWxhbmNlLWFtb3VudFwiKTtcclxuY29uc3QgY2xlYXJCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2NsZWFyXCIpO1xyXG5jb25zdCBsYXN0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNsYXN0XCIpO1xyXG5jb25zdCBwbHVzT25lQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbHVzMVwiKTtcclxuY29uc3QgcGx1c1RlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGx1czEwXCIpO1xyXG5jb25zdCBwbHVzT25lSHVuZHJlZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGx1czEwMFwiKTtcclxuY29uc3QgcGx1c09uZVRob3VzYW5kQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbHVzMTAwMFwiKTtcclxuY29uc3QgaGFsZkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjaGFsZlwiKTtcclxuY29uc3QgdGltZXNUd29CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3gyXCIpO1xyXG5jb25zdCBtYXhCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI21heFwiKTtcclxubGV0IHdpbm5pbmdDb2xvcjtcclxubGV0IHBsYXllckNvbG9yO1xyXG5sZXQgYmV0QW1vdW50ID0gMDtcclxubGV0IGxhc3RCZXRBbW91bnQgPSAwO1xyXG5sZXQgZmxpcHBpbmcgPSBmYWxzZTtcclxubGV0IG1vdmVVcDtcclxuXHJcbmNvbnN0IHNldFdpbm5pbmdDb2luID0gKCkgPT4ge1xyXG5cdGNvbnN0IHJhbmRvbU51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDIpO1xyXG5cclxuXHRmbGlwcGluZyA9IHRydWU7XHJcblx0cmVtb3ZlQmFsYW5jZSgpO1xyXG5cclxuXHRpZiAocmFuZG9tTnVtID09PSAwKSB7XHJcblx0XHRjb2luUmVkLmNsYXNzTGlzdC5hZGQoXCJjb2luZmxpcC1yZWRcIik7XHJcblx0XHRjb2luQmxhY2suY2xhc3NMaXN0LmFkZChcImNvaW5mbGlwLWJsYWNrXCIpO1xyXG5cdFx0d2lubmluZ0NvbG9yID0gXCJyZWRcIjtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0Y29pblJlZC5zdHlsZS56SW5kZXggPSBcIjFcIjtcclxuXHRcdH0sIDM1MDApO1xyXG5cdH0gZWxzZSBpZiAocmFuZG9tTnVtID09PSAxKSB7XHJcblx0XHRjb2luUmVkLmNsYXNzTGlzdC5hZGQoXCJjb2luZmxpcC1yZWRcIik7XHJcblx0XHRjb2luQmxhY2suY2xhc3NMaXN0LmFkZChcImNvaW5mbGlwLWJsYWNrXCIpO1xyXG5cdFx0d2lubmluZ0NvbG9yID0gXCJibGFja1wiO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRjb2luUmVkLnN0eWxlLnpJbmRleCA9IFwiMFwiO1xyXG5cdFx0fSwgMzUwMCk7XHJcblx0fVxyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGNvaW5SZWQuY2xhc3NMaXN0LnJlbW92ZShcImNvaW5mbGlwLXJlZFwiKTtcclxuXHRcdGNvaW5CbGFjay5jbGFzc0xpc3QucmVtb3ZlKFwiY29pbmZsaXAtYmxhY2tcIik7XHJcblx0XHRmbGlwcGluZyA9IGZhbHNlO1xyXG5cdFx0YWRkTW9uZXlUb0JhbGFuY2UoKTtcclxuXHR9LCA2MDAwKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZE1vbmV5VG9CYWxhbmNlID0gKCkgPT4ge1xyXG5cdGlmIChwbGF5ZXJDb2xvciA9PT0gd2lubmluZ0NvbG9yKSB7XHJcblx0XHR3aW5BdWRpby5wbGF5KCk7XHJcblx0XHRiZXRBbW91bnQgKj0gMjtcclxuXHRcdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0XHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSArIGJldEFtb3VudDtcclxuXHRcdGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSB2YWx1ZS50b0ZpeGVkKDIpO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJCYWxhbmNlXCIsIGAke2JhbGFuY2VBbW91bnQudGV4dENvbnRlbnR9YCk7XHJcblxyXG5cdFx0Y29uc3Qgd2luUG9wVXAgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdHdpblBvcFVwLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwid2luXCIpO1xyXG5cdFx0d2luUG9wVXAudGV4dENvbnRlbnQgPSBiZXRBbW91bnQudG9GaXhlZCgyKTtcclxuXHRcdGNvbnN0IHJhbmRvbUZyb21Ub3AgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAzMCArIDIwKTtcclxuXHRcdGNvbnN0IHJhbmRvbUZyb21MZWZ0ID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzUgKyAzMCk7XHJcblxyXG5cdFx0d2luUG9wVXAuc3R5bGUudG9wID0gYCR7cmFuZG9tRnJvbVRvcH0lYDtcclxuXHRcdHdpblBvcFVwLnN0eWxlLmxlZnQgPSBgJHtyYW5kb21Gcm9tTGVmdH0lYDtcclxuXHJcblx0XHRkb2N1bWVudC5ib2R5LmFwcGVuZCh3aW5Qb3BVcCk7XHJcblxyXG5cdFx0bGV0IG1vdmVVcFZhbHVlID0gcmFuZG9tRnJvbVRvcDtcclxuXHJcblx0XHRtb3ZlVXAgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XHJcblx0XHRcdG1vdmVVcFZhbHVlIC09IDAuNTtcclxuXHRcdFx0d2luUG9wVXAuc3R5bGUudG9wID0gYCR7bW92ZVVwVmFsdWV9JWA7XHJcblx0XHR9LCAxMDApO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRkb2N1bWVudC5ib2R5Lmxhc3RFbGVtZW50Q2hpbGQucmVtb3ZlKCk7XHJcblx0XHRcdGNsZWFySW50ZXJ2YWwobW92ZVVwKTtcclxuXHRcdH0sIDIwMDApO1xyXG5cclxuXHRcdGJldEFtb3VudCA9IDA7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlQmFsYW5jZSA9ICgpID0+IHtcclxuXHRsZXQgYW1vdW50VmFsdWUgPSBwYXJzZUZsb2F0KGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQpO1xyXG5cdGxldCB2YWx1ZSA9IGFtb3VudFZhbHVlIC0gYmV0QW1vdW50O1xyXG5cdGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSB2YWx1ZS50b0ZpeGVkKDIpO1xyXG5cdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCBgJHtiYWxhbmNlQW1vdW50LnRleHRDb250ZW50fWApO1xyXG59O1xyXG5cclxucmVkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0Y29uc3QgYmFsYW5jZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKTtcclxuXHJcblx0aWYgKFxyXG5cdFx0YmV0SW5wdXQudmFsdWUgPiAwICYmXHJcblx0XHRmbGlwcGluZyA9PT0gZmFsc2UgJiZcclxuXHRcdGJldElucHV0LnZhbHVlIDw9IHBhcnNlRmxvYXQoYmFsYW5jZSlcclxuXHQpIHtcclxuXHRcdHBsYXllckNvbG9yID0gXCJyZWRcIjtcclxuXHRcdGJldEFtb3VudCA9IGJldElucHV0LnZhbHVlO1xyXG5cdFx0YmV0SW5wdXQudmFsdWUgPSAwO1xyXG5cdFx0bGFzdEJldEFtb3VudCA9IGJldEFtb3VudDtcclxuXHRcdGJldEF1ZGlvLnBsYXkoKTtcclxuXHRcdHNldFdpbm5pbmdDb2luKCk7XHJcblx0fVxyXG59KTtcclxuXHJcbmJsYWNrQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0Y29uc3QgYmFsYW5jZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKTtcclxuXHJcblx0aWYgKFxyXG5cdFx0YmV0SW5wdXQudmFsdWUgPiAwICYmXHJcblx0XHRmbGlwcGluZyA9PT0gZmFsc2UgJiZcclxuXHRcdGJldElucHV0LnZhbHVlIDw9IHBhcnNlRmxvYXQoYmFsYW5jZSlcclxuXHQpIHtcclxuXHRcdHBsYXllckNvbG9yID0gXCJibGFja1wiO1xyXG5cdFx0YmV0QW1vdW50ID0gYmV0SW5wdXQudmFsdWU7XHJcblx0XHRiZXRJbnB1dC52YWx1ZSA9IDA7XHJcblx0XHRsYXN0QmV0QW1vdW50ID0gYmV0QW1vdW50O1xyXG5cdFx0YmV0QXVkaW8ucGxheSgpO1xyXG5cdFx0c2V0V2lubmluZ0NvaW4oKTtcclxuXHR9XHJcbn0pO1xyXG5cclxuY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRiZXRJbnB1dC52YWx1ZSA9IDA7XHJcbn0pO1xyXG5cclxubGFzdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdGlmIChsYXN0QmV0QW1vdW50ICE9PSAwKSB7XHJcblx0XHRiZXRJbnB1dC52YWx1ZSA9IGxhc3RCZXRBbW91bnQ7XHJcblx0fVxyXG59KTtcclxuXHJcbnBsdXNPbmVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRsZXQgdmFsdWUgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKTtcclxuXHRiZXRJbnB1dC52YWx1ZSA9IHZhbHVlICsgMTtcclxufSk7XHJcblxyXG5wbHVzVGVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0bGV0IHZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSk7XHJcblx0YmV0SW5wdXQudmFsdWUgPSB2YWx1ZSArIDEwO1xyXG59KTtcclxuXHJcbnBsdXNPbmVIdW5kcmVkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0bGV0IHZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSk7XHJcblx0YmV0SW5wdXQudmFsdWUgPSB2YWx1ZSArIDEwMDtcclxufSk7XHJcblxyXG5wbHVzT25lVGhvdXNhbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRsZXQgdmFsdWUgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKTtcclxuXHRiZXRJbnB1dC52YWx1ZSA9IHZhbHVlICsgMTAwMDtcclxufSk7XHJcblxyXG5oYWxmQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0bGV0IHZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSk7XHJcblx0YmV0SW5wdXQudmFsdWUgPSB2YWx1ZSAvIDI7XHJcbn0pO1xyXG5cclxudGltZXNUd29CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRsZXQgdmFsdWUgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKTtcclxuXHRiZXRJbnB1dC52YWx1ZSA9IHZhbHVlICogMjtcclxufSk7XHJcblxyXG5tYXhCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRiZXRJbnB1dC52YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKTtcclxufSk7XHJcbiJdfQ==
