"use strict";var winningColor,playerColor,moveUp,coinRed=document.querySelector(".main-coinflip__red"),coinBlack=document.querySelector(".main-coinflip__black"),redBtn=document.querySelector(".main-coinflip__button--red"),blackBtn=document.querySelector(".main-coinflip__button--black"),betInput=document.querySelector(".main-coinflip__input"),balanceAmountMobile=document.querySelector(".nav__balance-amount"),winAudio=new Audio("./dist/audio/win.wav"),betAudio=new Audio("./dist/audio/bet.wav"),balanceAmount=document.querySelector(".nav__list-item-balance-amount"),clearBtn=document.querySelector("#clear"),lastBtn=document.querySelector("#last"),plusOneBtn=document.querySelector("#plus1"),plusTenBtn=document.querySelector("#plus10"),plusOneHundredBtn=document.querySelector("#plus100"),plusOneThousandBtn=document.querySelector("#plus1000"),halfBtn=document.querySelector("#half"),timesTwoBtn=document.querySelector("#x2"),maxBtn=document.querySelector("#max"),betAmount=0,lastBetAmount=0,flipping=!1,setWinningCoin=function(){var e=Math.floor(2*Math.random());flipping=!0,removeBalance(),0===e?(coinRed.classList.add("coinflip-red"),coinBlack.classList.add("coinflip-black"),winningColor="red",setTimeout(function(){coinRed.style.zIndex="1"},3500)):1===e&&(coinRed.classList.add("coinflip-red"),coinBlack.classList.add("coinflip-black"),winningColor="black",setTimeout(function(){coinRed.style.zIndex="0"},3500)),setTimeout(function(){coinRed.classList.remove("coinflip-red"),coinBlack.classList.remove("coinflip-black"),flipping=!1,addMoneyToBalance()},6e3)},addMoneyToBalance=function(){var e,t,n,o;playerColor===winningColor&&(winAudio.play(),betAmount*=2,t=parseFloat(balanceAmount.textContent)+betAmount,balanceAmount.textContent=t.toFixed(2),balanceAmountMobile.textContent=t.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent)),(e=document.createElement("p")).setAttribute("class","win"),e.textContent=betAmount.toFixed(2),t=Math.floor(30*Math.random()+20),n=Math.floor(35*Math.random()+30),e.style.top="".concat(t,"%"),e.style.left="".concat(n,"%"),document.body.append(e),o=t,moveUp=setInterval(function(){o-=.5,e.style.top="".concat(o,"%")},100),setTimeout(function(){document.body.lastElementChild.remove(),clearInterval(moveUp)},2e3),betAmount=0)},removeBalance=function(){var e=parseFloat(balanceAmount.textContent)-betAmount;balanceAmount.textContent=e.toFixed(2),balanceAmountMobile.textContent=e.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent))};redBtn.addEventListener("click",function(){var e=localStorage.getItem("Balance");0<betInput.value&&!1===flipping&&betInput.value<=parseFloat(e)&&(playerColor="red",betAmount=betInput.value,betInput.value=0,lastBetAmount=betAmount,betAudio.play(),setWinningCoin())}),blackBtn.addEventListener("click",function(){var e=localStorage.getItem("Balance");0<betInput.value&&!1===flipping&&betInput.value<=parseFloat(e)&&(playerColor="black",betAmount=betInput.value,betInput.value=0,lastBetAmount=betAmount,betAudio.play(),setWinningCoin())}),clearBtn.addEventListener("click",function(){betInput.value=0}),lastBtn.addEventListener("click",function(){0!==lastBetAmount&&(betInput.value=lastBetAmount)}),plusOneBtn.addEventListener("click",function(){var e=parseFloat(betInput.value);betInput.value=e+1}),plusTenBtn.addEventListener("click",function(){var e=parseFloat(betInput.value);betInput.value=e+10}),plusOneHundredBtn.addEventListener("click",function(){var e=parseFloat(betInput.value);betInput.value=e+100}),plusOneThousandBtn.addEventListener("click",function(){var e=parseFloat(betInput.value);betInput.value=e+1e3}),halfBtn.addEventListener("click",function(){var e=parseFloat(betInput.value);betInput.value=e/2}),timesTwoBtn.addEventListener("click",function(){var e=parseFloat(betInput.value);betInput.value=2*e}),maxBtn.addEventListener("click",function(){betInput.value=localStorage.getItem("Balance")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvaW5mbGlwLmpzIl0sIm5hbWVzIjpbInRpbWVzVHdvQnRuIiwibWF4QnRuIiwibGFzdEJldEFtb3VudCIsImNvaW5SZWQiLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjb2luQmxhY2siLCJyZWRCdG4iLCJibGFja0J0biIsImJldElucHV0IiwiYmFsYW5jZUFtb3VudE1vYmlsZSIsIndpbkF1ZGlvIiwiQXVkaW8iLCJiZXRBdWRpbyIsImJhbGFuY2VBbW91bnQiLCJjbGVhckJ0biIsImxhc3RCdG4iLCJwbHVzT25lQnRuIiwicGx1c1RlbkJ0biIsInBsdXNPbmVIdW5kcmVkQnRuIiwicGx1c09uZVRob3VzYW5kQnRuIiwiaGFsZkJ0biIsIndpbm5pbmdDb2xvciIsInBsYXllckNvbG9yIiwiYmV0QW1vdW50IiwibW92ZVVwIiwic2V0V2lubmluZ0NvaW4iLCJNYXRoIiwiZmxvb3IiLCJmbGlwcGluZyIsInJlbW92ZUJhbGFuY2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRUaW1lb3V0Iiwic3R5bGUiLCJyYW5kb21OdW0iLCJ6SW5kZXgiLCJhZGRNb25leVRvQmFsYW5jZSIsInJlbW92ZSIsImFtb3VudFZhbHVlIiwid2luUG9wVXAiLCJtb3ZlVXBWYWx1ZSIsInRleHRDb250ZW50IiwibG9jYWxTdG9yYWdlIiwiY3JlYXRlRWxlbWVudCIsInRvRml4ZWQiLCJyYW5kb20iLCJyYW5kb21Gcm9tTGVmdCIsImxlZnQiLCJyYW5kb21Gcm9tVG9wIiwidG9wIiwiY29uY2F0IiwiY2xlYXJJbnRlcnZhbCIsInNldEludGVydmFsIiwicGFyc2VGbG9hdCIsInZhbHVlIiwic2V0SXRlbSIsImFkZEV2ZW50TGlzdGVuZXIiLCJnZXRJdGVtIiwiYmFsYW5jZSIsInBsYXkiXSwibWFwcGluZ3MiOiJhQUFBLElBZ0JNQSxhQUNBQyxZQUlGQyxPQXJCRUMsUUFBVUMsU0FBU0MsY0FBYyxxQkFBcUIsRUFDdERDLFVBQVlGLFNBQVNDLGNBQWMsdUJBQXVCLEVBRDFE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SUYsRUFBUUQsV0FBVzdDLFNBQVM4QyxLQUFLLEVBQ3JDOUMsU0FBUzhDLE1BQVFBLEVBQVEsQ0FDMUIsQ0FBQyxFQUVEckMsV0FBV3VDLGlCQUFpQixRQUFTLFdBQ3BDLElBQUlGLEVBQVFELFdBQVc3QyxTQUFTOEMsS0FBSyxFQUNyQzlDLFNBQVM4QyxNQUFRQSxFQUFRLEVBQzFCLENBQUMsRUFFRHBDLGtCQUFrQnNDLGlCQUFpQixRQUFTLFdBQzNDLElBQUlGLEVBQVFELFdBQVc3QyxTQUFTOEMsS0FBSyxFQUNyQzlDLFNBQVM4QyxNQUFRQSxFQUFRLEdBQzFCLENBQUMsRUFFRG5DLG1CQUFtQnFDLGlCQUFpQixRQUFTLFdBQzVDLElBQUlGLEVBQVFELFdBQVc3QyxTQUFTOEMsS0FBSyxFQUNyQzlDLFNBQVM4QyxNQUFRQSxFQUFRLEdBQzFCLENBQUMsRUFFRGxDLFFBQVFvQyxpQkFBaUIsUUFBUyxXQUNqQyxJQUFJRixFQUFRRCxXQUFXN0MsU0FBUzhDLEtBQUssRUFDckM5QyxTQUFTOEMsTUFBUUEsRUFBUSxDQUMxQixDQUFDLEVBRUR2RCxZQUFZeUQsaUJBQWlCLFFBQVMsV0FDckMsSUFBSUYsRUFBUUQsV0FBVzdDLFNBQVM4QyxLQUFLLEVBQ3JDOUMsU0FBUzhDLE1BQWdCLEVBQVJBLENBQ2xCLENBQUMsRUFFRHRELE9BQU93RCxpQkFBaUIsUUFBUyxXQUNoQ2hELFNBQVM4QyxNQUFRWixhQUFhZSxRQUFRLFNBQVMsQ0FDaEQsQ0FBQyIsImZpbGUiOiJjb2luZmxpcC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBjb2luUmVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvaW5mbGlwX19yZWRcIik7XHJcbmNvbnN0IGNvaW5CbGFjayA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb2luZmxpcF9fYmxhY2tcIik7XHJcbmNvbnN0IHJlZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb2luZmxpcF9fYnV0dG9uLS1yZWRcIik7XHJcbmNvbnN0IGJsYWNrQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNvaW5mbGlwX19idXR0b24tLWJsYWNrXCIpO1xyXG5jb25zdCBiZXRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jb2luZmxpcF9faW5wdXRcIik7XHJcbmNvbnN0IGJhbGFuY2VBbW91bnRNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fYmFsYW5jZS1hbW91bnRcIik7XHJcbmNvbnN0IHdpbkF1ZGlvID0gbmV3IEF1ZGlvKFwiLi9kaXN0L2F1ZGlvL3dpbi53YXZcIik7XHJcbmNvbnN0IGJldEF1ZGlvID0gbmV3IEF1ZGlvKFwiLi9kaXN0L2F1ZGlvL2JldC53YXZcIik7XHJcbmNvbnN0IGJhbGFuY2VBbW91bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fbGlzdC1pdGVtLWJhbGFuY2UtYW1vdW50XCIpO1xyXG5jb25zdCBjbGVhckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2xlYXJcIik7XHJcbmNvbnN0IGxhc3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xhc3RcIik7XHJcbmNvbnN0IHBsdXNPbmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BsdXMxXCIpO1xyXG5jb25zdCBwbHVzVGVuQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbHVzMTBcIik7XHJcbmNvbnN0IHBsdXNPbmVIdW5kcmVkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbHVzMTAwXCIpO1xyXG5jb25zdCBwbHVzT25lVGhvdXNhbmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BsdXMxMDAwXCIpO1xyXG5jb25zdCBoYWxmQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNoYWxmXCIpO1xyXG5jb25zdCB0aW1lc1R3b0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjeDJcIik7XHJcbmNvbnN0IG1heEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWF4XCIpO1xyXG5sZXQgd2lubmluZ0NvbG9yO1xyXG5sZXQgcGxheWVyQ29sb3I7XHJcbmxldCBiZXRBbW91bnQgPSAwO1xyXG5sZXQgbGFzdEJldEFtb3VudCA9IDA7XHJcbmxldCBmbGlwcGluZyA9IGZhbHNlO1xyXG5sZXQgbW92ZVVwO1xyXG5cclxuY29uc3Qgc2V0V2lubmluZ0NvaW4gPSAoKSA9PiB7XHJcblx0Y29uc3QgcmFuZG9tTnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMik7XHJcblxyXG5cdGZsaXBwaW5nID0gdHJ1ZTtcclxuXHRyZW1vdmVCYWxhbmNlKCk7XHJcblxyXG5cdGlmIChyYW5kb21OdW0gPT09IDApIHtcclxuXHRcdGNvaW5SZWQuY2xhc3NMaXN0LmFkZChcImNvaW5mbGlwLXJlZFwiKTtcclxuXHRcdGNvaW5CbGFjay5jbGFzc0xpc3QuYWRkKFwiY29pbmZsaXAtYmxhY2tcIik7XHJcblx0XHR3aW5uaW5nQ29sb3IgPSBcInJlZFwiO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRjb2luUmVkLnN0eWxlLnpJbmRleCA9IFwiMVwiO1xyXG5cdFx0fSwgMzUwMCk7XHJcblx0fSBlbHNlIGlmIChyYW5kb21OdW0gPT09IDEpIHtcclxuXHRcdGNvaW5SZWQuY2xhc3NMaXN0LmFkZChcImNvaW5mbGlwLXJlZFwiKTtcclxuXHRcdGNvaW5CbGFjay5jbGFzc0xpc3QuYWRkKFwiY29pbmZsaXAtYmxhY2tcIik7XHJcblx0XHR3aW5uaW5nQ29sb3IgPSBcImJsYWNrXCI7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdGNvaW5SZWQuc3R5bGUuekluZGV4ID0gXCIwXCI7XHJcblx0XHR9LCAzNTAwKTtcclxuXHR9XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0Y29pblJlZC5jbGFzc0xpc3QucmVtb3ZlKFwiY29pbmZsaXAtcmVkXCIpO1xyXG5cdFx0Y29pbkJsYWNrLmNsYXNzTGlzdC5yZW1vdmUoXCJjb2luZmxpcC1ibGFja1wiKTtcclxuXHRcdGZsaXBwaW5nID0gZmFsc2U7XHJcblx0XHRhZGRNb25leVRvQmFsYW5jZSgpO1xyXG5cdH0sIDYwMDApO1xyXG59O1xyXG5cclxuY29uc3QgYWRkTW9uZXlUb0JhbGFuY2UgPSAoKSA9PiB7XHJcblx0aWYgKHBsYXllckNvbG9yID09PSB3aW5uaW5nQ29sb3IpIHtcclxuXHRcdHdpbkF1ZGlvLnBsYXkoKTtcclxuXHRcdGJldEFtb3VudCAqPSAyO1xyXG5cdFx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRcdGxldCB2YWx1ZSA9IGFtb3VudFZhbHVlICsgYmV0QW1vdW50O1xyXG5cdFx0YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcblx0XHRiYWxhbmNlQW1vdW50TW9iaWxlLnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCBgJHtiYWxhbmNlQW1vdW50LnRleHRDb250ZW50fWApO1xyXG5cclxuXHRcdGNvbnN0IHdpblBvcFVwID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0XHR3aW5Qb3BVcC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIndpblwiKTtcclxuXHRcdHdpblBvcFVwLnRleHRDb250ZW50ID0gYmV0QW1vdW50LnRvRml4ZWQoMik7XHJcblx0XHRjb25zdCByYW5kb21Gcm9tVG9wID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMzAgKyAyMCk7XHJcblx0XHRjb25zdCByYW5kb21Gcm9tTGVmdCA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDM1ICsgMzApO1xyXG5cclxuXHRcdHdpblBvcFVwLnN0eWxlLnRvcCA9IGAke3JhbmRvbUZyb21Ub3B9JWA7XHJcblx0XHR3aW5Qb3BVcC5zdHlsZS5sZWZ0ID0gYCR7cmFuZG9tRnJvbUxlZnR9JWA7XHJcblxyXG5cdFx0ZG9jdW1lbnQuYm9keS5hcHBlbmQod2luUG9wVXApO1xyXG5cclxuXHRcdGxldCBtb3ZlVXBWYWx1ZSA9IHJhbmRvbUZyb21Ub3A7XHJcblxyXG5cdFx0bW92ZVVwID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG5cdFx0XHRtb3ZlVXBWYWx1ZSAtPSAwLjU7XHJcblx0XHRcdHdpblBvcFVwLnN0eWxlLnRvcCA9IGAke21vdmVVcFZhbHVlfSVgO1xyXG5cdFx0fSwgMTAwKTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0ZG9jdW1lbnQuYm9keS5sYXN0RWxlbWVudENoaWxkLnJlbW92ZSgpO1xyXG5cdFx0XHRjbGVhckludGVydmFsKG1vdmVVcCk7XHJcblx0XHR9LCAyMDAwKTtcclxuXHJcblx0XHRiZXRBbW91bnQgPSAwO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZUJhbGFuY2UgPSAoKSA9PiB7XHJcblx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSAtIGJldEFtb3VudDtcclxuXHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxuXHRiYWxhbmNlQW1vdW50TW9iaWxlLnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxuXHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIkJhbGFuY2VcIiwgYCR7YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudH1gKTtcclxufTtcclxuXHJcbnJlZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdGNvbnN0IGJhbGFuY2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIik7XHJcblxyXG5cdGlmIChcclxuXHRcdGJldElucHV0LnZhbHVlID4gMCAmJlxyXG5cdFx0ZmxpcHBpbmcgPT09IGZhbHNlICYmXHJcblx0XHRiZXRJbnB1dC52YWx1ZSA8PSBwYXJzZUZsb2F0KGJhbGFuY2UpXHJcblx0KSB7XHJcblx0XHRwbGF5ZXJDb2xvciA9IFwicmVkXCI7XHJcblx0XHRiZXRBbW91bnQgPSBiZXRJbnB1dC52YWx1ZTtcclxuXHRcdGJldElucHV0LnZhbHVlID0gMDtcclxuXHRcdGxhc3RCZXRBbW91bnQgPSBiZXRBbW91bnQ7XHJcblx0XHRiZXRBdWRpby5wbGF5KCk7XHJcblx0XHRzZXRXaW5uaW5nQ29pbigpO1xyXG5cdH1cclxufSk7XHJcblxyXG5ibGFja0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdGNvbnN0IGJhbGFuY2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIik7XHJcblxyXG5cdGlmIChcclxuXHRcdGJldElucHV0LnZhbHVlID4gMCAmJlxyXG5cdFx0ZmxpcHBpbmcgPT09IGZhbHNlICYmXHJcblx0XHRiZXRJbnB1dC52YWx1ZSA8PSBwYXJzZUZsb2F0KGJhbGFuY2UpXHJcblx0KSB7XHJcblx0XHRwbGF5ZXJDb2xvciA9IFwiYmxhY2tcIjtcclxuXHRcdGJldEFtb3VudCA9IGJldElucHV0LnZhbHVlO1xyXG5cdFx0YmV0SW5wdXQudmFsdWUgPSAwO1xyXG5cdFx0bGFzdEJldEFtb3VudCA9IGJldEFtb3VudDtcclxuXHRcdGJldEF1ZGlvLnBsYXkoKTtcclxuXHRcdHNldFdpbm5pbmdDb2luKCk7XHJcblx0fVxyXG59KTtcclxuXHJcbmNsZWFyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0YmV0SW5wdXQudmFsdWUgPSAwO1xyXG59KTtcclxuXHJcbmxhc3RCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRpZiAobGFzdEJldEFtb3VudCAhPT0gMCkge1xyXG5cdFx0YmV0SW5wdXQudmFsdWUgPSBsYXN0QmV0QW1vdW50O1xyXG5cdH1cclxufSk7XHJcblxyXG5wbHVzT25lQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0bGV0IHZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSk7XHJcblx0YmV0SW5wdXQudmFsdWUgPSB2YWx1ZSArIDE7XHJcbn0pO1xyXG5cclxucGx1c1RlbkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdGxldCB2YWx1ZSA9IHBhcnNlRmxvYXQoYmV0SW5wdXQudmFsdWUpO1xyXG5cdGJldElucHV0LnZhbHVlID0gdmFsdWUgKyAxMDtcclxufSk7XHJcblxyXG5wbHVzT25lSHVuZHJlZEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdGxldCB2YWx1ZSA9IHBhcnNlRmxvYXQoYmV0SW5wdXQudmFsdWUpO1xyXG5cdGJldElucHV0LnZhbHVlID0gdmFsdWUgKyAxMDA7XHJcbn0pO1xyXG5cclxucGx1c09uZVRob3VzYW5kQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0bGV0IHZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSk7XHJcblx0YmV0SW5wdXQudmFsdWUgPSB2YWx1ZSArIDEwMDA7XHJcbn0pO1xyXG5cclxuaGFsZkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdGxldCB2YWx1ZSA9IHBhcnNlRmxvYXQoYmV0SW5wdXQudmFsdWUpO1xyXG5cdGJldElucHV0LnZhbHVlID0gdmFsdWUgLyAyO1xyXG59KTtcclxuXHJcbnRpbWVzVHdvQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0bGV0IHZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSk7XHJcblx0YmV0SW5wdXQudmFsdWUgPSB2YWx1ZSAqIDI7XHJcbn0pO1xyXG5cclxubWF4QnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0YmV0SW5wdXQudmFsdWUgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIik7XHJcbn0pO1xyXG4iXX0=
