"use strict";var currentWinningItemPrice,openBtn=document.querySelector(".open-btn"),caseBox=document.querySelector(".case"),winningItemBox=document.querySelector(".winning-item"),winningImg=document.querySelector(".winning-item img"),winningButton=document.querySelector(".winning-item-button"),spinningBtn=document.querySelector(".open-btn--spinning"),openAudio=new Audio("./dist/audio/open.mp3"),itemsAnubisPrice=[[1521.09],[98.28]],itemsAnubisImg=[["./dist/img/knife5050/doppler.png"],["./dist/img/knife5050/navaja.png"]],itemsAnubisName=[["Karambit | Doppler"],["Navaja | Safari Mesh"]],gold="linear-gradient(180deg, black 40%, rgba(255,248,0, .5) 100%",red="linear-gradient(180deg, black 40%, rgba(222, 76, 65, .5) 100%)",pink="linear-gradient(180deg, black 40%, rgba(255, 50, 240, .5) 100%)",purple="linear-gradient(180deg, black 40%, rgba(125, 50, 255, .5) 100%)",lightBlue="linear-gradient(180deg, black 40%, rgba(160, 211, 255, .5) 100%)",blue="linear-gradient(180deg, black 40%, rgba(50, 113, 255, .5) 100%)",grey="linear-gradient(180deg, black 40%, rgba(78, 78, 78, .5) 100%)",opened=!1,balanceAmount=document.querySelector(".nav__list-item-balance-amount"),addBalance=(balanceAmount.textContent=localStorage.getItem("Balance"),function(){var e=parseFloat(balanceAmount.textContent)+currentWinningItemPrice;balanceAmount.textContent=e.toFixed(2)}),removeBalanceOnOpen=function(){var e=parseFloat(balanceAmount.textContent)-800;balanceAmount.textContent=e.toFixed(2)},startOpeningAnimation=function(){caseBox.classList.add("open-anim"),addItems(),opened=!0,setTimeout(function(){opened=!1,resetOpening()},6500)},setWinningItem=function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),o=(o=e)<=50?0:1,e=(n.style.background=e<=50?gold:grey,Math.floor(Math.random()*itemsAnubisImg[o].length));n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[o][e]),a.setAttribute("alt",itemsAnubisName[o][e]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[o][e],console.log(itemsAnubisName[o][e]),n.append(a,i),t.append(n),caseBox.append(t),currentWinningItemPrice=itemsAnubisPrice[o][e],removeBalanceOnOpen(),openBtn.classList.add("hidden"),spinningBtn.classList.remove("hidden"),setTimeout(function(){addBalance(),localStorage.setItem("Balance","".concat(balanceAmount.textContent))},5500),setTimeout(function(){t.remove(),openBtn.classList.remove("hidden"),spinningBtn.classList.add("hidden")},6500)},addItems=function(){for(var e=0;e<=10;e++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),o=(o=e)<=50?0:1,s=Math.floor(Math.random()*itemsAnubisImg[o].length);n.style.background=e<=50?gold:grey,n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[o][s]),a.setAttribute("alt",itemsAnubisName[o][s]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[o][s],n.append(a,i),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}();setWinningItem();for(var t=0;t<=4;t++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),o=(o=e)<=50?0:1,s=Math.floor(Math.random()*itemsAnubisImg[o].length);n.style.background=e<=50?gold:grey,n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[o][s]),a.setAttribute("alt",itemsAnubisName[o][s]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[o][s],n.append(a,i),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}()},resetOpening=function(){caseBox.classList.remove("open-anim")};openBtn.addEventListener("click",function(){!1===opened&&800<=parseFloat(balanceAmount.textContent)&&(startOpeningAnimation(),openAudio.play())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtuaWZlNTA1MC5qcyJdLCJuYW1lcyI6WyJhZGRCYWxhbmNlIiwib3BlbkJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNhc2VCb3giLCJ3aW5uaW5nSXRlbUJveCIsIndpbm5pbmdJbWciLCJ3aW5uaW5nQnV0dG9uIiwic3Bpbm5pbmdCdG4iLCJvcGVuQXVkaW8iLCJBdWRpbyIsImdvbGQiLCJyZWQiLCJwaW5rIiwicHVycGxlIiwibGlnaHRCbHVlIiwiZ3JleSIsImN1cnJlbnRXaW5uaW5nSXRlbVByaWNlIiwiYmFsYW5jZUFtb3VudCIsImFtb3VudFZhbHVlIiwicGFyc2VGbG9hdCIsInRleHRDb250ZW50IiwicmVtb3ZlQmFsYW5jZU9uT3BlbiIsImxvY2FsU3RvcmFnZSIsInRvRml4ZWQiLCJ2YWx1ZSIsImFkZEl0ZW1zIiwic2V0VGltZW91dCIsInJlc2V0T3BlbmluZyIsInNldFdpbm5pbmdJdGVtIiwid2lubmluZ0l0ZW1OdW1iZXIiLCJmbG9vciIsIndpbm5pbmdJdGVtRGl2Iiwib3BlbmVkIiwid2lubmluZ0l0ZW0iLCJ3aW5uaW5nSXRlbVRleHQiLCJjaGFuY2VzIiwiTWF0aCIsInJhbmRvbSIsImJhY2tncm91bmQiLCJjcmVhdGVFbGVtZW50Iiwid2lubmluZ0l0ZW1JbWciLCJyYW5kb21JdGVtRnJvbUNvbG9yIiwiYXBwZW5kIiwiaXRlbXNBbnViaXNQcmljZSIsInJlbW92ZSIsIml0ZW1zQW51YmlzSW1nIiwibGVuZ3RoIiwic2V0QXR0cmlidXRlIiwiY2xhc3NMaXN0IiwiYWRkIiwiaXRlbXNBbnViaXNOYW1lIiwiX2xvb3AiLCJub3JtYWxJdGVtRGl2Iiwibm9ybWFsSXRlbSIsImNvbnNvbGUiLCJub3JtYWxJdGVtVGV4dCIsIm5vcm1hbEl0ZW1OdW1iZXIiLCJub3JtYWxJdGVtSW1nIiwiY29uY2F0IiwiaSIsIl9sb29wMiIsInN0eWxlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0YXJ0T3BlbmluZ0FuaW1hdGlvbiIsInBs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ZXNDb250ZW50IjpbImNvbnN0IG9wZW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9wZW4tYnRuXCIpO1xyXG5jb25zdCBjYXNlQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXNlXCIpO1xyXG5jb25zdCB3aW5uaW5nSXRlbUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmluZy1pdGVtXCIpO1xyXG5jb25zdCB3aW5uaW5nSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uaW5nLWl0ZW0gaW1nXCIpO1xyXG5jb25zdCB3aW5uaW5nQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uaW5nLWl0ZW0tYnV0dG9uXCIpO1xyXG5jb25zdCBzcGlubmluZ0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3Blbi1idG4tLXNwaW5uaW5nXCIpO1xyXG5jb25zdCBvcGVuQXVkaW8gPSBuZXcgQXVkaW8oXCIuL2Rpc3QvYXVkaW8vb3Blbi5tcDNcIik7XHJcbmNvbnN0IGl0ZW1zQW51YmlzUHJpY2UgPSBbWzE1MjEuMDldLCBbOTguMjhdXTtcclxuY29uc3QgaXRlbXNBbnViaXNJbWcgPSBbXHJcblx0W1wiLi9kaXN0L2ltZy9rbmlmZTUwNTAvZG9wcGxlci5wbmdcIl0sXHJcblx0W1wiLi9kaXN0L2ltZy9rbmlmZTUwNTAvbmF2YWphLnBuZ1wiXSxcclxuXTtcclxuY29uc3QgaXRlbXNBbnViaXNOYW1lID0gW1tcIkthcmFtYml0IHwgRG9wcGxlclwiXSwgW1wiTmF2YWphIHwgU2FmYXJpIE1lc2hcIl1dO1xyXG5jb25zdCBnb2xkID0gXCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoMjU1LDI0OCwwLCAuNSkgMTAwJVwiO1xyXG5jb25zdCByZWQgPSBcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSgyMjIsIDc2LCA2NSwgLjUpIDEwMCUpXCI7XHJcbmNvbnN0IHBpbmsgPSBcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSgyNTUsIDUwLCAyNDAsIC41KSAxMDAlKVwiO1xyXG5jb25zdCBwdXJwbGUgPVxyXG5cdFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDEyNSwgNTAsIDI1NSwgLjUpIDEwMCUpXCI7XHJcbmNvbnN0IGxpZ2h0Qmx1ZSA9XHJcblx0XCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoMTYwLCAyMTEsIDI1NSwgLjUpIDEwMCUpXCI7XHJcbmNvbnN0IGJsdWUgPSBcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSg1MCwgMTEzLCAyNTUsIC41KSAxMDAlKVwiO1xyXG5jb25zdCBncmV5ID0gXCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoNzgsIDc4LCA3OCwgLjUpIDEwMCUpXCI7XHJcbmxldCBvcGVuZWQgPSBmYWxzZTtcclxubGV0IGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlO1xyXG5jb25zdCBiYWxhbmNlQW1vdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX2xpc3QtaXRlbS1iYWxhbmNlLWFtb3VudFwiKTtcclxuXHJcbmJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIik7XHJcblxyXG5jb25zdCBhZGRCYWxhbmNlID0gKCkgPT4ge1xyXG5cdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0bGV0IHZhbHVlID0gYW1vdW50VmFsdWUgKyBjdXJyZW50V2lubmluZ0l0ZW1QcmljZTtcclxuXHJcblx0YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVCYWxhbmNlT25PcGVuID0gKCkgPT4ge1xyXG5cdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0bGV0IHZhbHVlID0gYW1vdW50VmFsdWUgLSA4MDA7XHJcblxyXG5cdGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSB2YWx1ZS50b0ZpeGVkKDIpO1xyXG59O1xyXG5cclxuY29uc3Qgc3RhcnRPcGVuaW5nQW5pbWF0aW9uID0gKCkgPT4ge1xyXG5cdGNhc2VCb3guY2xhc3NMaXN0LmFkZChcIm9wZW4tYW5pbVwiKTtcclxuXHRhZGRJdGVtcygpO1xyXG5cdG9wZW5lZCA9IHRydWU7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0b3BlbmVkID0gZmFsc2U7XHJcblx0XHRyZXNldE9wZW5pbmcoKTtcclxuXHR9LCA2NTAwKTtcclxufTtcclxuXHJcbmNvbnN0IHNldFdpbm5pbmdJdGVtID0gKCkgPT4ge1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdGxldCBjaGFuY2VzID0gd2lubmluZ0l0ZW1OdW1iZXI7XHJcblxyXG5cdGlmIChjaGFuY2VzIDw9IDUwKSB7XHJcblx0XHRjaGFuY2VzID0gMDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y2hhbmNlcyA9IDE7XHJcblx0fVxyXG5cclxuXHRpZiAod2lubmluZ0l0ZW1OdW1iZXIgPD0gNTApIHtcclxuXHRcdHdpbm5pbmdJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBnb2xkO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gZ3JleTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHJhbmRvbUl0ZW1Gcm9tQ29sb3IgPSBNYXRoLmZsb29yKFxyXG5cdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdCk7XHJcblxyXG5cdHdpbm5pbmdJdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtXCIpO1xyXG5cdHdpbm5pbmdJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLWltZ1wiKTtcclxuXHR3aW5uaW5nSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcInNyY1wiLFxyXG5cdFx0aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHQpO1xyXG5cdHdpbm5pbmdJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFwiYWx0XCIsXHJcblx0XHRpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHQpO1xyXG5cdHdpbm5pbmdJdGVtVGV4dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1uYW1lXCIpO1xyXG5cdHdpbm5pbmdJdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0Y29uc29sZS5sb2coaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdKTtcclxuXHJcblx0d2lubmluZ0l0ZW0uYXBwZW5kKHdpbm5pbmdJdGVtSW1nLCB3aW5uaW5nSXRlbVRleHQpO1xyXG5cdHdpbm5pbmdJdGVtRGl2LmFwcGVuZCh3aW5uaW5nSXRlbSk7XHJcblx0Y2FzZUJveC5hcHBlbmQod2lubmluZ0l0ZW1EaXYpO1xyXG5cclxuXHRjdXJyZW50V2lubmluZ0l0ZW1QcmljZSA9IGl0ZW1zQW51YmlzUHJpY2VbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdHJlbW92ZUJhbGFuY2VPbk9wZW4oKTtcclxuXHJcblx0b3BlbkJ0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdHNwaW5uaW5nQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0YWRkQmFsYW5jZSgpO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJCYWxhbmNlXCIsIGAke2JhbGFuY2VBbW91bnQudGV4dENvbnRlbnR9YCk7XHJcblx0fSwgNTUwMCk7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0d2lubmluZ0l0ZW1EaXYucmVtb3ZlKCk7XHJcblx0XHRvcGVuQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHRzcGlubmluZ0J0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdH0sIDY1MDApO1xyXG59O1xyXG5cclxuY29uc3QgYWRkSXRlbXMgPSAoKSA9PiB7XHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPD0gMTA7IGkrKykge1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG5cdFx0bGV0IGNoYW5jZXMgPSBub3JtYWxJdGVtTnVtYmVyO1xyXG5cclxuXHRcdGlmIChjaGFuY2VzIDw9IDUwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAwO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDE7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRcdE1hdGgucmFuZG9tKCkgKiBpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXS5sZW5ndGhcclxuXHRcdCk7XHJcblxyXG5cdFx0aWYgKG5vcm1hbEl0ZW1OdW1iZXIgPD0gNTApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gZ29sZDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGdyZXk7XHJcblx0XHR9XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwic3JjXCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwiYWx0XCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0XHRub3JtYWxJdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0XHRub3JtYWxJdGVtLmFwcGVuZChub3JtYWxJdGVtSW1nLCBub3JtYWxJdGVtVGV4dCk7XHJcblx0XHRub3JtYWxJdGVtRGl2LmFwcGVuZChub3JtYWxJdGVtKTtcclxuXHRcdGNhc2VCb3guYXBwZW5kKG5vcm1hbEl0ZW1EaXYpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRub3JtYWxJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0fSwgNjUwMCk7XHJcblx0fVxyXG5cclxuXHRzZXRXaW5uaW5nSXRlbSgpO1xyXG5cclxuXHRmb3IgKGxldCBpID0gMDsgaSA8PSA0OyBpKyspIHtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGxldCBjaGFuY2VzID0gbm9ybWFsSXRlbU51bWJlcjtcclxuXHJcblx0XHRpZiAoY2hhbmNlcyA8PSA1MCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNoYW5jZXMgPSAxO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHJhbmRvbUl0ZW1Gcm9tQ29sb3IgPSBNYXRoLmZsb29yKFxyXG5cdFx0XHRNYXRoLnJhbmRvbSgpICogaXRlbXNBbnViaXNJbWdbY2hhbmNlc10ubGVuZ3RoXHJcblx0XHQpO1xyXG5cclxuXHRcdGlmIChub3JtYWxJdGVtTnVtYmVyIDw9IDUwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGdvbGQ7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBncmV5O1xyXG5cdFx0fVxyXG5cclxuXHRcdG5vcm1hbEl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLWltZ1wiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcInNyY1wiLFxyXG5cdFx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcImFsdFwiLFxyXG5cdFx0XHRpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtVGV4dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1uYW1lXCIpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5hcHBlbmQobm9ybWFsSXRlbUltZywgbm9ybWFsSXRlbVRleHQpO1xyXG5cdFx0bm9ybWFsSXRlbURpdi5hcHBlbmQobm9ybWFsSXRlbSk7XHJcblx0XHRjYXNlQm94LmFwcGVuZChub3JtYWxJdGVtRGl2KTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0bm9ybWFsSXRlbURpdi5yZW1vdmUoKTtcclxuXHRcdH0sIDY1MDApO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IHJlc2V0T3BlbmluZyA9ICgpID0+IHtcclxuXHRjYXNlQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuLWFuaW1cIik7XHJcbn07XHJcblxyXG5vcGVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0aWYgKG9wZW5lZCA9PT0gZmFsc2UgJiYgcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KSA+PSA4MDApIHtcclxuXHRcdHN0YXJ0T3BlbmluZ0FuaW1hdGlvbigpO1xyXG5cdFx0b3BlbkF1ZGlvLnBsYXkoKTtcclxuXHR9XHJcbn0pO1xyXG4iXX0=
