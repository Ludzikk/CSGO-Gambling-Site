"use strict";var currentWinningItemPrice,openBtn=document.querySelector(".open-btn"),caseBox=document.querySelector(".case"),winningItemBox=document.querySelector(".winning-item"),winningImg=document.querySelector(".winning-item img"),winningButton=document.querySelector(".winning-item-button"),openAudio=new Audio("./dist/audio/open.mp3"),itemsAnubisPrice=[[1521.09],[98.28]],itemsAnubisImg=[["./dist/img/knife5050/doppler.png"],["./dist/img/knife5050/navaja.png"]],itemsAnubisName=[["Karambit | Doppler"],["Navaja | Safari Mesh"]],gold="radial-gradient(circle, rgba(255,248,0,.7) 0%, rgba(0, 0, 0, 1) 75%",red="radial-gradient(circle, rgba(135, 0, 0, .7) 0%, rgba(0, 0, 0, 1) 75%",pink="radial-gradient(circle, rgba(255, 50, 240, .5) 0%, rgba(0, 0, 0, 1) 75%)",purple="radial-gradient(circle, rgba(125, 50, 255, .5) 0%, rgba(0, 0, 0, 1) 75%)",lightBlue="radial-gradient(circle, rgba(160, 211, 255, .5) 0%, rgba(0, 0, 0, 1) 75%)",blue="radial-gradient(circle, rgba(50, 113, 255, .5) 0%, rgba(0, 0, 0, 1) 75%)",grey="radial-gradient(circle, rgba(78, 78, 78, .5) 0%, rgba(0, 0, 0, 1) 75%)",opened=!1,balanceAmount=document.querySelector(".nav__list-item-balance-amount"),addBalance=(balanceAmount.textContent=localStorage.getItem("Balance"),function(){var e=parseFloat(balanceAmount.textContent)+currentWinningItemPrice;balanceAmount.textContent=e.toFixed(2)}),removeBalanceOnOpen=function(){var e=parseFloat(balanceAmount.textContent)-800;balanceAmount.textContent=e.toFixed(2)},startOpeningAnimation=function(){caseBox.classList.add("open-anim"),addItems(),opened=!0,setTimeout(function(){opened=!1,resetOpening()},6500)},setWinningItem=function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),r=(r=e)<=50?0:1,e=(n.style.background=e<=50?gold:grey,Math.floor(Math.random()*itemsAnubisImg[r].length));n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[r][e]),a.setAttribute("alt",itemsAnubisName[r][e]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[r][e],console.log(itemsAnubisName[r][e]),n.append(a,i),t.append(n),caseBox.append(t),currentWinningItemPrice=itemsAnubisPrice[r][e],removeBalanceOnOpen(),setTimeout(function(){addBalance(),localStorage.setItem("Balance","".concat(balanceAmount.textContent))},5500),setTimeout(function(){t.remove()},6500)},addItems=function(){for(var e=0;e<=10;e++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),r=(r=e)<=50?0:1,o=Math.floor(Math.random()*itemsAnubisImg[r].length);n.style.background=e<=50?gold:grey,n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[r][o]),a.setAttribute("alt",itemsAnubisName[r][o]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[r][o],n.append(a,i),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}();setWinningItem();for(var t=0;t<=4;t++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),r=(r=e)<=50?0:1,o=Math.floor(Math.random()*itemsAnubisImg[r].length);n.style.background=e<=50?gold:grey,n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[r][o]),a.setAttribute("alt",itemsAnubisName[r][o]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[r][o],n.append(a,i),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}()},resetOpening=function(){caseBox.classList.remove("open-anim")};openBtn.addEventListener("click",function(){!1===opened&&800<=parseFloat(balanceAmount.textContent)&&(startOpeningAnimation(),openAudio.play())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtuaWZlNTA1MC5qcyJdLCJuYW1lcyI6WyJjdXJyZW50V2lubmluZ0l0ZW1QcmljZSIsIm9wZW5CdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjYXNlQm94Iiwid2lubmluZ0l0ZW1Cb3giLCJ3aW5uaW5nSW1nIiwid2lubmluZ0J1dHRvbiIsIm9wZW5BdWRpbyIsIkF1ZGlvIiwiZ29sZCIsInJlZCIsInBpbmsiLCJsaWdodEJsdWUiLCJncmV5IiwiYmFsYW5jZUFtb3VudCIsImFtb3VudFZhbHVlIiwicmVtb3ZlQmFsYW5jZU9uT3BlbiIsImFkZEJhbGFuY2UiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3RhcnRPcGVuaW5nQW5pbWF0aW9uIiwidGV4dENvbnRlbnQiLCJ2YWx1ZSIsInRvRml4ZWQiLCJyZXNldE9wZW5pbmciLCJwYXJzZUZsb2F0Iiwid2lubmluZ0l0ZW1OdW1iZXIiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJ3aW5uaW5nSXRlbUltZyIsIndpbm5pbmdJdGVtVGV4dCIsImNyZWF0ZUVsZW1lbnQiLCJhZGRJdGVtcyIsImNoYW5jZXMiLCJvcGVuZWQiLCJzZXRUaW1lb3V0Iiwid2lubmluZ0l0ZW0iLCJiYWNrZ3JvdW5kIiwicmFuZG9tSXRlbUZyb21Db2xvciIsInNldEF0dHJpYnV0ZSIsIml0ZW1zQW51YmlzSW1nIiwiY29uc29sZSIsImxvZyIsIndpbm5pbmdJdGVtRGl2Iiwic3R5bGUiLCJsZW5ndGgiLCJfbG9vcCIsIm5vcm1hbEl0ZW1OdW1iZXIiLCJub3JtYWxJdGVtRGl2Iiwibm9ybWFsSXRlbUltZyIsIml0ZW1zQW51YmlzTmFtZSIsImFwcGVuZCIsIm5vcm1hbEl0ZW1UZXh0Iiwibm9ybWFsSXRlbSIsInJlbW92ZSIsInNldFdpbm5pbmdJdGVtIiwiaSIsIl9sb29wMiIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJwbGF5Il0sIm1hcHBpbmdzIjoiYUFBQSxJQW9DQ0Esd0JBcENLQyxRQUFV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LEVBS2hERSxHQURHQSxFQUZVYyxJQUVDLEdBQ0osRUFFQSxFQUdMVCxFQUFzQlosS0FBS0MsTUFDaENELEtBQUtFLE9BQU8sRUFBSVksZUFBZVAsR0FBU1ksTUFDekMsRUFHQ1EsRUFBV1QsTUFBTVAsV0FEZFUsR0FBb0IsR0FDT3ZDLEtBRUFJLEtBRy9CeUMsRUFBV2QsYUFBYSxRQUFTLFdBQVcsRUFDNUNVLEVBQWNWLGFBQWEsUUFBUyxlQUFlLEVBQ25EVSxFQUFjVixhQUNiLE1BQ0FDLGVBQWVQLEdBQVNLLEVBQ3pCLEVBQ0FXLEVBQWNWLGFBQ2IsTUFDQVcsZ0JBQWdCakIsR0FBU0ssRUFDMUIsRUFDQWMsRUFBZWIsYUFBYSxRQUFTLGdCQUFnQixFQUNyRGEsRUFBZWhDLFlBQWM4QixnQkFBZ0JqQixHQUFTSyxHQUV0RGUsRUFBV0YsT0FBT0YsRUFBZUcsQ0FBYyxFQUMvQ0osRUFBY0csT0FBT0UsQ0FBVSxFQUMvQm5ELFFBQVFpRCxPQUFPSCxDQUFhLEVBRTVCYixXQUFXLFdBQ1ZhLEVBQWNNLE9BQU8sQ0FDdEIsRUFBRyxJQUFJLENBQ1IsRUE3QzJCLENBOEM1QixFQUVNL0IsYUFBZSxXQUNwQnJCLFFBQVF5RCxVQUFVTCxPQUFPLFdBQVcsQ0FDckMsRUFFQXZELFFBQVEyRCxpQkFBaUIsUUFBUyxXQUNsQixDQUFBLElBQVh4QixRQUE2RCxLQUF6Q1YsV0FBV1gsY0FBY08sV0FBVyxJQUMzREQsc0JBQXNCLEVBQ3RCYixVQUFVc0QsS0FBSyxFQUVqQixDQUFDIiwiZmlsZSI6ImtuaWZlNTA1MC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBvcGVuQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcGVuLWJ0blwiKTtcclxuY29uc3QgY2FzZUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FzZVwiKTtcclxuY29uc3Qgd2lubmluZ0l0ZW1Cb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbVwiKTtcclxuY29uc3Qgd2lubmluZ0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmluZy1pdGVtIGltZ1wiKTtcclxuY29uc3Qgd2lubmluZ0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmluZy1pdGVtLWJ1dHRvblwiKTtcclxuY29uc3Qgb3BlbkF1ZGlvID0gbmV3IEF1ZGlvKFwiLi9kaXN0L2F1ZGlvL29wZW4ubXAzXCIpO1xyXG5jb25zdCBpdGVtc0FudWJpc1ByaWNlID0gW1sxNTIxLjA5XSwgWzk4LjI4XV07XHJcbmNvbnN0IGl0ZW1zQW51YmlzSW1nID0gW1xyXG5cdFtcIi4vZGlzdC9pbWcva25pZmU1MDUwL2RvcHBsZXIucG5nXCJdLFxyXG5cdFtcIi4vZGlzdC9pbWcva25pZmU1MDUwL25hdmFqYS5wbmdcIl0sXHJcbl07XHJcbmNvbnN0IGl0ZW1zQW51YmlzTmFtZSA9IFtbXCJLYXJhbWJpdCB8IERvcHBsZXJcIl0sIFtcIk5hdmFqYSB8IFNhZmFyaSBNZXNoXCJdXTtcclxuY29uc3QgZ29sZCA9IFwicmFkaWFsLWdyYWRpZW50KGNpcmNsZSwgcmdiYSgyNTUsMjQ4LDAsLjcpIDAlLCByZ2JhKDAsIDAsIDAsIDEpIDc1JVwiO1xyXG5jb25zdCByZWQgPVxyXG5cdFwicmFkaWFsLWdyYWRpZW50KGNpcmNsZSwgcmdiYSgxMzUsIDAsIDAsIC43KSAwJSwgcmdiYSgwLCAwLCAwLCAxKSA3NSVcIjtcclxuY29uc3QgcGluayA9XHJcblx0XCJyYWRpYWwtZ3JhZGllbnQoY2lyY2xlLCByZ2JhKDI1NSwgNTAsIDI0MCwgLjUpIDAlLCByZ2JhKDAsIDAsIDAsIDEpIDc1JSlcIjtcclxuY29uc3QgcHVycGxlID1cclxuXHRcInJhZGlhbC1ncmFkaWVudChjaXJjbGUsIHJnYmEoMTI1LCA1MCwgMjU1LCAuNSkgMCUsIHJnYmEoMCwgMCwgMCwgMSkgNzUlKVwiO1xyXG5jb25zdCBsaWdodEJsdWUgPVxyXG5cdFwicmFkaWFsLWdyYWRpZW50KGNpcmNsZSwgcmdiYSgxNjAsIDIxMSwgMjU1LCAuNSkgMCUsIHJnYmEoMCwgMCwgMCwgMSkgNzUlKVwiO1xyXG5jb25zdCBibHVlID1cclxuXHRcInJhZGlhbC1ncmFkaWVudChjaXJjbGUsIHJnYmEoNTAsIDExMywgMjU1LCAuNSkgMCUsIHJnYmEoMCwgMCwgMCwgMSkgNzUlKVwiO1xyXG5jb25zdCBncmV5ID1cclxuXHRcInJhZGlhbC1ncmFkaWVudChjaXJjbGUsIHJnYmEoNzgsIDc4LCA3OCwgLjUpIDAlLCByZ2JhKDAsIDAsIDAsIDEpIDc1JSlcIjtcclxubGV0IG9wZW5lZCA9IGZhbHNlO1xyXG5sZXQgY3VycmVudFdpbm5pbmdJdGVtUHJpY2U7XHJcbmNvbnN0IGJhbGFuY2VBbW91bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fbGlzdC1pdGVtLWJhbGFuY2UtYW1vdW50XCIpO1xyXG5cclxuYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKTtcclxuXHJcbmNvbnN0IGFkZEJhbGFuY2UgPSAoKSA9PiB7XHJcblx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSArIGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlO1xyXG5cclxuXHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZUJhbGFuY2VPbk9wZW4gPSAoKSA9PiB7XHJcblx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSAtIDgwMDtcclxuXHJcblx0YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcbn07XHJcblxyXG5jb25zdCBzdGFydE9wZW5pbmdBbmltYXRpb24gPSAoKSA9PiB7XHJcblx0Y2FzZUJveC5jbGFzc0xpc3QuYWRkKFwib3Blbi1hbmltXCIpO1xyXG5cdGFkZEl0ZW1zKCk7XHJcblx0b3BlbmVkID0gdHJ1ZTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRvcGVuZWQgPSBmYWxzZTtcclxuXHRcdHJlc2V0T3BlbmluZygpO1xyXG5cdH0sIDY1MDApO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0V2lubmluZ0l0ZW0gPSAoKSA9PiB7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0bGV0IGNoYW5jZXMgPSB3aW5uaW5nSXRlbU51bWJlcjtcclxuXHJcblx0aWYgKGNoYW5jZXMgPD0gNTApIHtcclxuXHRcdGNoYW5jZXMgPSAwO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjaGFuY2VzID0gMTtcclxuXHR9XHJcblxyXG5cdGlmICh3aW5uaW5nSXRlbU51bWJlciA8PSA1MCkge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGdvbGQ7XHJcblx0fSBlbHNlIHtcclxuXHRcdHdpbm5pbmdJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBncmV5O1xyXG5cdH1cclxuXHJcblx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRNYXRoLnJhbmRvbSgpICogaXRlbXNBbnViaXNJbWdbY2hhbmNlc10ubGVuZ3RoXHJcblx0KTtcclxuXHJcblx0d2lubmluZ0l0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdHdpbm5pbmdJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFwic3JjXCIsXHJcblx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdCk7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XCJhbHRcIixcclxuXHRcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdCk7XHJcblx0d2lubmluZ0l0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0d2lubmluZ0l0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRjb25zb2xlLmxvZyhpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl0pO1xyXG5cclxuXHR3aW5uaW5nSXRlbS5hcHBlbmQod2lubmluZ0l0ZW1JbWcsIHdpbm5pbmdJdGVtVGV4dCk7XHJcblx0d2lubmluZ0l0ZW1EaXYuYXBwZW5kKHdpbm5pbmdJdGVtKTtcclxuXHRjYXNlQm94LmFwcGVuZCh3aW5uaW5nSXRlbURpdik7XHJcblxyXG5cdGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlID0gaXRlbXNBbnViaXNQcmljZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0cmVtb3ZlQmFsYW5jZU9uT3BlbigpO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGFkZEJhbGFuY2UoKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCBgJHtiYWxhbmNlQW1vdW50LnRleHRDb250ZW50fWApO1xyXG5cdH0sIDU1MDApO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHdpbm5pbmdJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdH0sIDY1MDApO1xyXG59O1xyXG5cclxuY29uc3QgYWRkSXRlbXMgPSAoKSA9PiB7XHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPD0gMTA7IGkrKykge1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG5cdFx0bGV0IGNoYW5jZXMgPSBub3JtYWxJdGVtTnVtYmVyO1xyXG5cclxuXHRcdGlmIChjaGFuY2VzIDw9IDUwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAwO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDE7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRcdE1hdGgucmFuZG9tKCkgKiBpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXS5sZW5ndGhcclxuXHRcdCk7XHJcblxyXG5cdFx0aWYgKG5vcm1hbEl0ZW1OdW1iZXIgPD0gNTApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gZ29sZDtcclxuXHRcdH0gIGVsc2Uge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBncmV5O1xyXG5cdFx0fVxyXG5cclxuXHRcdG5vcm1hbEl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLWltZ1wiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcInNyY1wiLFxyXG5cdFx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcImFsdFwiLFxyXG5cdFx0XHRpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtVGV4dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1uYW1lXCIpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5hcHBlbmQobm9ybWFsSXRlbUltZywgbm9ybWFsSXRlbVRleHQpO1xyXG5cdFx0bm9ybWFsSXRlbURpdi5hcHBlbmQobm9ybWFsSXRlbSk7XHJcblx0XHRjYXNlQm94LmFwcGVuZChub3JtYWxJdGVtRGl2KTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0bm9ybWFsSXRlbURpdi5yZW1vdmUoKTtcclxuXHRcdH0sIDY1MDApO1xyXG5cdH1cclxuXHJcblx0c2V0V2lubmluZ0l0ZW0oKTtcclxuXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPD0gNDsgaSsrKSB7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcblx0XHRsZXQgY2hhbmNlcyA9IG5vcm1hbEl0ZW1OdW1iZXI7XHJcblxyXG5cdFx0aWYgKGNoYW5jZXMgPD0gNTApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDA7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjaGFuY2VzID0gMTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAobm9ybWFsSXRlbU51bWJlciA8PSA1MCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBnb2xkO1xyXG5cdFx0fSAgZWxzZSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGdyZXk7XHJcblx0XHR9XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwic3JjXCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwiYWx0XCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0XHRub3JtYWxJdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0XHRub3JtYWxJdGVtLmFwcGVuZChub3JtYWxJdGVtSW1nLCBub3JtYWxJdGVtVGV4dCk7XHJcblx0XHRub3JtYWxJdGVtRGl2LmFwcGVuZChub3JtYWxJdGVtKTtcclxuXHRcdGNhc2VCb3guYXBwZW5kKG5vcm1hbEl0ZW1EaXYpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRub3JtYWxJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0fSwgNjUwMCk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgcmVzZXRPcGVuaW5nID0gKCkgPT4ge1xyXG5cdGNhc2VCb3guY2xhc3NMaXN0LnJlbW92ZShcIm9wZW4tYW5pbVwiKTtcclxufTtcclxuXHJcbm9wZW5CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRpZiAob3BlbmVkID09PSBmYWxzZSAmJiBwYXJzZUZsb2F0KGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQpID49IDgwMCkge1xyXG5cdFx0c3RhcnRPcGVuaW5nQW5pbWF0aW9uKCk7XHJcblx0XHRvcGVuQXVkaW8ucGxheSgpO1xyXG5cdH1cclxufSk7XHJcbiJdfQ==
