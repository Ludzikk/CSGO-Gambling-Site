"use strict";var currentWinningItemPrice,openBtn=document.querySelector(".open-btn"),caseBox=document.querySelector(".case"),winningItemBox=document.querySelector(".winning-item"),winningImg=document.querySelector(".winning-item img"),winningButton=document.querySelector(".winning-item-button"),spinningBtn=document.querySelector(".open-btn--spinning"),balanceAmountMobile=document.querySelector(".nav__balance-amount"),openAudio=new Audio("./dist/audio/open.mp3"),itemsAnubisPrice=[[1521.09],[98.28]],itemsAnubisImg=[["./dist/img/knife5050/doppler.png"],["./dist/img/knife5050/navaja.png"]],itemsAnubisName=[["Karambit | Doppler"],["Navaja | Safari Mesh"]],gold="linear-gradient(180deg, black 40%, rgba(255,248,0, .5) 100%",red="linear-gradient(180deg, black 40%, rgba(222, 76, 65, .5) 100%)",pink="linear-gradient(180deg, black 40%, rgba(255, 50, 240, .5) 100%)",purple="linear-gradient(180deg, black 40%, rgba(125, 50, 255, .5) 100%)",lightBlue="linear-gradient(180deg, black 40%, rgba(160, 211, 255, .5) 100%)",blue="linear-gradient(180deg, black 40%, rgba(50, 113, 255, .5) 100%)",grey="linear-gradient(180deg, black 40%, rgba(78, 78, 78, .5) 100%)",opened=!1,balanceAmount=document.querySelector(".nav__list-item-balance-amount"),addBalance=(balanceAmount.textContent=localStorage.getItem("Balance"),function(){var e=parseFloat(balanceAmount.textContent)+currentWinningItemPrice;balanceAmount.textContent=e.toFixed(2),balanceAmountMobile.textContent=e.toFixed(2)}),removeBalanceOnOpen=function(){var e=parseFloat(balanceAmount.textContent)-800;balanceAmount.textContent=e.toFixed(2),balanceAmountMobile.textContent=e.toFixed(2)},startOpeningAnimation=function(){caseBox.classList.add("open-anim"),addItems(),opened=!0,setTimeout(function(){opened=!1,resetOpening()},6500)},setWinningItem=function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),o=(o=e)<=50?0:1,e=(n.style.background=e<=50?gold:grey,Math.floor(Math.random()*itemsAnubisImg[o].length));n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[o][e]),a.setAttribute("alt",itemsAnubisName[o][e]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[o][e],n.append(a,i),t.append(n),caseBox.append(t),currentWinningItemPrice=itemsAnubisPrice[o][e],removeBalanceOnOpen(),openBtn.classList.add("hidden"),spinningBtn.classList.remove("hidden"),setTimeout(function(){addBalance(),localStorage.setItem("Balance","".concat(balanceAmount.textContent))},5500),setTimeout(function(){t.remove(),openBtn.classList.remove("hidden"),spinningBtn.classList.add("hidden")},6500)},addItems=function(){for(var e=0;e<=10;e++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),o=(o=e)<=50?0:1,m=Math.floor(Math.random()*itemsAnubisImg[o].length);n.style.background=e<=50?gold:grey,n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[o][m]),a.setAttribute("alt",itemsAnubisName[o][m]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[o][m],n.append(a,i),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}();setWinningItem();for(var t=0;t<=4;t++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),o=(o=e)<=50?0:1,m=Math.floor(Math.random()*itemsAnubisImg[o].length);n.style.background=e<=50?gold:grey,n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[o][m]),a.setAttribute("alt",itemsAnubisName[o][m]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[o][m],n.append(a,i),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}()},resetOpening=function(){caseBox.classList.remove("open-anim")};openBtn.addEventListener("click",function(){!1===opened&&800<=parseFloat(balanceAmount.textContent)&&(startOpeningAnimation(),openAudio.play())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImtuaWZlNTA1MC5qcyJdLCJuYW1lcyI6WyJhZGRCYWxhbmNlIiwib3BlbkJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNhc2VCb3giLCJ3aW5uaW5nSXRlbUJveCIsIndpbm5pbmdJbWciLCJ3aW5uaW5nQnV0dG9uIiwic3Bpbm5pbmdCdG4iLCJiYWxhbmNlQW1vdW50TW9iaWxlIiwib3BlbkF1ZGlvIiwiQXVkaW8iLCJnb2xkIiwicmVkIiwicGluayIsInB1cnBsZSIsImxpZ2h0Qmx1ZSIsImdyZXkiLCJjdXJyZW50V2lubmluZ0l0ZW1QcmljZSIsImJhbGFuY2VBbW91bnQiLCJhbW91bnRWYWx1ZSIsInBhcnNlRmxvYXQiLCJ0ZXh0Q29udGVudCIsImxvY2FsU3RvcmFnZSIsInRvRml4ZWQiLCJ2YWx1ZSIsInJlbW92ZUJhbGFuY2VPbk9wZW4iLCJvcGVuZWQiLCJzZXRXaW5uaW5nSXRlbSIsIndpbm5pbmdJdGVtTnVtYmVyIiwiZmxvb3IiLCJhZGRJdGVtcyIsIndpbm5pbmdJdGVtRGl2Iiwid2lubmluZ0l0ZW0iLCJzZXRUaW1lb3V0Iiwid2lubmluZ0l0ZW1UZXh0IiwiY2hhbmNlcyIsInJlc2V0T3BlbmluZyIsIk1hdGgiLCJyYW5kb20iLCJiYWNrZ3JvdW5kIiwiY3JlYXRlRWxlbWVudCIsIndpbm5pbmdJdGVtSW1nIiwicmFuZG9tSXRlbUZyb21Db2xvciIsImFwcGVuZCIsIml0ZW1zQW51YmlzSW1nIiwibGVuZ3RoIiwic2V0QXR0cmlidXRlIiwiY2xhc3NMaXN0IiwiaXRlbXNBbnViaXNOYW1lIiwibm9ybWFsSXRlbU51bWJlciIsIm5vcm1hbEl0ZW0iLCJub3JtYWxJdGVtSW1nIiwiaXRlbXNBbnViaXNQcmljZSIsInN0eWxlIiwicmVtb3ZlIiwiY29uY2F0Iiwibm9ybWFsSXRlbVRleHQiLCJub3JtYWxJdGVtRGl2IiwiYWRkIiwiaSIsIl9sb29wIiwiX2xvb3AyIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0YXJ0T3BlbmluZ0Fu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QXNCLEVBQ3RCdEQsVUFBVXVELEtBQUssRUFFakIsQ0FBQyIsImZpbGUiOiJrbmlmZTUwNTAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgb3BlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3Blbi1idG5cIik7XHJcbmNvbnN0IGNhc2VCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhc2VcIik7XHJcbmNvbnN0IHdpbm5pbmdJdGVtQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uaW5nLWl0ZW1cIik7XHJcbmNvbnN0IHdpbm5pbmdJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbSBpbWdcIik7XHJcbmNvbnN0IHdpbm5pbmdCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbS1idXR0b25cIik7XHJcbmNvbnN0IHNwaW5uaW5nQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcGVuLWJ0bi0tc3Bpbm5pbmdcIik7XHJcbmNvbnN0IGJhbGFuY2VBbW91bnRNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fYmFsYW5jZS1hbW91bnRcIik7XHJcbmNvbnN0IG9wZW5BdWRpbyA9IG5ldyBBdWRpbyhcIi4vZGlzdC9hdWRpby9vcGVuLm1wM1wiKTtcclxuY29uc3QgaXRlbXNBbnViaXNQcmljZSA9IFtbMTUyMS4wOV0sIFs5OC4yOF1dO1xyXG5jb25zdCBpdGVtc0FudWJpc0ltZyA9IFtcclxuXHRbXCIuL2Rpc3QvaW1nL2tuaWZlNTA1MC9kb3BwbGVyLnBuZ1wiXSxcclxuXHRbXCIuL2Rpc3QvaW1nL2tuaWZlNTA1MC9uYXZhamEucG5nXCJdLFxyXG5dO1xyXG5jb25zdCBpdGVtc0FudWJpc05hbWUgPSBbW1wiS2FyYW1iaXQgfCBEb3BwbGVyXCJdLCBbXCJOYXZhamEgfCBTYWZhcmkgTWVzaFwiXV07XHJcbmNvbnN0IGdvbGQgPSBcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSgyNTUsMjQ4LDAsIC41KSAxMDAlXCI7XHJcbmNvbnN0IHJlZCA9IFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDIyMiwgNzYsIDY1LCAuNSkgMTAwJSlcIjtcclxuY29uc3QgcGluayA9IFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDI1NSwgNTAsIDI0MCwgLjUpIDEwMCUpXCI7XHJcbmNvbnN0IHB1cnBsZSA9XHJcblx0XCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoMTI1LCA1MCwgMjU1LCAuNSkgMTAwJSlcIjtcclxuY29uc3QgbGlnaHRCbHVlID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSgxNjAsIDIxMSwgMjU1LCAuNSkgMTAwJSlcIjtcclxuY29uc3QgYmx1ZSA9IFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDUwLCAxMTMsIDI1NSwgLjUpIDEwMCUpXCI7XHJcbmNvbnN0IGdyZXkgPSBcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSg3OCwgNzgsIDc4LCAuNSkgMTAwJSlcIjtcclxubGV0IG9wZW5lZCA9IGZhbHNlO1xyXG5sZXQgY3VycmVudFdpbm5pbmdJdGVtUHJpY2U7XHJcbmNvbnN0IGJhbGFuY2VBbW91bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fbGlzdC1pdGVtLWJhbGFuY2UtYW1vdW50XCIpO1xyXG5cclxuYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKTtcclxuXHJcbmNvbnN0IGFkZEJhbGFuY2UgPSAoKSA9PiB7XHJcblx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSArIGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlO1xyXG5cclxuXHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxuXHRiYWxhbmNlQW1vdW50TW9iaWxlLnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZUJhbGFuY2VPbk9wZW4gPSAoKSA9PiB7XHJcblx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSAtIDgwMDtcclxuXHJcblx0YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcblx0YmFsYW5jZUFtb3VudE1vYmlsZS50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcbn07XHJcblxyXG5jb25zdCBzdGFydE9wZW5pbmdBbmltYXRpb24gPSAoKSA9PiB7XHJcblx0Y2FzZUJveC5jbGFzc0xpc3QuYWRkKFwib3Blbi1hbmltXCIpO1xyXG5cdGFkZEl0ZW1zKCk7XHJcblx0b3BlbmVkID0gdHJ1ZTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRvcGVuZWQgPSBmYWxzZTtcclxuXHRcdHJlc2V0T3BlbmluZygpO1xyXG5cdH0sIDY1MDApO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0V2lubmluZ0l0ZW0gPSAoKSA9PiB7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0bGV0IGNoYW5jZXMgPSB3aW5uaW5nSXRlbU51bWJlcjtcclxuXHJcblx0aWYgKGNoYW5jZXMgPD0gNTApIHtcclxuXHRcdGNoYW5jZXMgPSAwO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjaGFuY2VzID0gMTtcclxuXHR9XHJcblxyXG5cdGlmICh3aW5uaW5nSXRlbU51bWJlciA8PSA1MCkge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGdvbGQ7XHJcblx0fSBlbHNlIHtcclxuXHRcdHdpbm5pbmdJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBncmV5O1xyXG5cdH1cclxuXHJcblx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRNYXRoLnJhbmRvbSgpICogaXRlbXNBbnViaXNJbWdbY2hhbmNlc10ubGVuZ3RoXHJcblx0KTtcclxuXHJcblx0d2lubmluZ0l0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdHdpbm5pbmdJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFwic3JjXCIsXHJcblx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdCk7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XCJhbHRcIixcclxuXHRcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdCk7XHJcblx0d2lubmluZ0l0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0d2lubmluZ0l0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHR3aW5uaW5nSXRlbS5hcHBlbmQod2lubmluZ0l0ZW1JbWcsIHdpbm5pbmdJdGVtVGV4dCk7XHJcblx0d2lubmluZ0l0ZW1EaXYuYXBwZW5kKHdpbm5pbmdJdGVtKTtcclxuXHRjYXNlQm94LmFwcGVuZCh3aW5uaW5nSXRlbURpdik7XHJcblxyXG5cdGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlID0gaXRlbXNBbnViaXNQcmljZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0cmVtb3ZlQmFsYW5jZU9uT3BlbigpO1xyXG5cclxuXHRvcGVuQnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0c3Bpbm5pbmdCdG4uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRhZGRCYWxhbmNlKCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIkJhbGFuY2VcIiwgYCR7YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudH1gKTtcclxuXHR9LCA1NTAwKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHR3aW5uaW5nSXRlbURpdi5yZW1vdmUoKTtcclxuXHRcdG9wZW5CdG4uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHRcdHNwaW5uaW5nQnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0fSwgNjUwMCk7XHJcbn07XHJcblxyXG5jb25zdCBhZGRJdGVtcyA9ICgpID0+IHtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8PSAxMDsgaSsrKSB7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcblx0XHRsZXQgY2hhbmNlcyA9IG5vcm1hbEl0ZW1OdW1iZXI7XHJcblxyXG5cdFx0aWYgKGNoYW5jZXMgPD0gNTApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDA7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjaGFuY2VzID0gMTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAobm9ybWFsSXRlbU51bWJlciA8PSA1MCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBnb2xkO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gZ3JleTtcclxuXHRcdH1cclxuXHJcblx0XHRub3JtYWxJdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1pbWdcIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJzcmNcIixcclxuXHRcdFx0aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJhbHRcIixcclxuXHRcdFx0aXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0tbmFtZVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRcdG5vcm1hbEl0ZW0uYXBwZW5kKG5vcm1hbEl0ZW1JbWcsIG5vcm1hbEl0ZW1UZXh0KTtcclxuXHRcdG5vcm1hbEl0ZW1EaXYuYXBwZW5kKG5vcm1hbEl0ZW0pO1xyXG5cdFx0Y2FzZUJveC5hcHBlbmQobm9ybWFsSXRlbURpdik7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdG5vcm1hbEl0ZW1EaXYucmVtb3ZlKCk7XHJcblx0XHR9LCA2NTAwKTtcclxuXHR9XHJcblxyXG5cdHNldFdpbm5pbmdJdGVtKCk7XHJcblxyXG5cdGZvciAobGV0IGkgPSAwOyBpIDw9IDQ7IGkrKykge1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG5cdFx0bGV0IGNoYW5jZXMgPSBub3JtYWxJdGVtTnVtYmVyO1xyXG5cclxuXHRcdGlmIChjaGFuY2VzIDw9IDUwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAwO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDE7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRcdE1hdGgucmFuZG9tKCkgKiBpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXS5sZW5ndGhcclxuXHRcdCk7XHJcblxyXG5cdFx0aWYgKG5vcm1hbEl0ZW1OdW1iZXIgPD0gNTApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gZ29sZDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGdyZXk7XHJcblx0XHR9XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwic3JjXCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwiYWx0XCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0XHRub3JtYWxJdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0XHRub3JtYWxJdGVtLmFwcGVuZChub3JtYWxJdGVtSW1nLCBub3JtYWxJdGVtVGV4dCk7XHJcblx0XHRub3JtYWxJdGVtRGl2LmFwcGVuZChub3JtYWxJdGVtKTtcclxuXHRcdGNhc2VCb3guYXBwZW5kKG5vcm1hbEl0ZW1EaXYpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRub3JtYWxJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0fSwgNjUwMCk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgcmVzZXRPcGVuaW5nID0gKCkgPT4ge1xyXG5cdGNhc2VCb3guY2xhc3NMaXN0LnJlbW92ZShcIm9wZW4tYW5pbVwiKTtcclxufTtcclxuXHJcbm9wZW5CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRpZiAob3BlbmVkID09PSBmYWxzZSAmJiBwYXJzZUZsb2F0KGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQpID49IDgwMCkge1xyXG5cdFx0c3RhcnRPcGVuaW5nQW5pbWF0aW9uKCk7XHJcblx0XHRvcGVuQXVkaW8ucGxheSgpO1xyXG5cdH1cclxufSk7XHJcbiJdfQ==
