"use strict";var currentWinningItemPrice,openBtn=document.querySelector(".open-btn"),caseBox=document.querySelector(".case"),winningItemBox=document.querySelector(".winning-item"),winningImg=document.querySelector(".winning-item img"),winningButton=document.querySelector(".winning-item-button"),spinningBtn=document.querySelector(".open-btn--spinning"),balanceAmountMobile=document.querySelector(".nav__balance-amount"),openAudio=new Audio("./dist/audio/open.mp3"),itemsAnubisPrice=[[1085],[463,585],[92]],itemsAnubisImg=[["./dist/img/glove/slingshot.png"],["./dist/img/glove/marblefade.png","./dist/img/glove/cobaltskulls.png"],["./dist/img/glove/unhinged.png"]],itemsAnubisName=[["Sport Gloves | Slingshot"],["Specialist Gloves | Marble Fade","Hand Wraps | Cobalt Skulls"],["Broken Fang Gloves | Unhinged"]],red="linear-gradient(180deg, black 40%, rgba(222, 76, 65, .5) 100%)",opened=!1,balanceAmount=document.querySelector(".nav__list-item-balance-amount"),addBalance=(balanceAmount.textContent=localStorage.getItem("Balance"),function(){var e=parseFloat(balanceAmount.textContent)+currentWinningItemPrice;balanceAmount.textContent=e.toFixed(2),balanceAmountMobile.textContent=e.toFixed(2)}),removeBalanceOnOpen=function(){var e=parseFloat(balanceAmount.textContent)-200;balanceAmount.textContent=e.toFixed(2),balanceAmountMobile.textContent=e.toFixed(2)},startOpeningAnimation=function(){caseBox.classList.add("open-anim"),addItems(),opened=!0,setTimeout(function(){opened=!1,resetOpening()},6500)},setWinningItem=function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),e=(e=e)<=10?0:10<e&&e<=40?1:2,o=(n.style.background=red,Math.floor(Math.random()*itemsAnubisImg[e].length));n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[e][o]),i.setAttribute("alt",itemsAnubisName[e][o]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[e][o],n.append(i,a),t.append(n),caseBox.append(t),currentWinningItemPrice=itemsAnubisPrice[e][o],removeBalanceOnOpen(),openBtn.classList.add("hidden"),spinningBtn.classList.remove("hidden"),setTimeout(function(){addBalance(),localStorage.setItem("Balance","".concat(balanceAmount.textContent))},5500),setTimeout(function(){t.remove(),openBtn.classList.remove("hidden"),spinningBtn.classList.add("hidden")},6500)},addItems=function(){for(var e=0;e<=10;e++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),e=(e=e)<=10?0:10<e&&e<=40?1:2,o=Math.floor(Math.random()*itemsAnubisImg[e].length);n.style.background=red,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[e][o]),i.setAttribute("alt",itemsAnubisName[e][o]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[e][o],n.append(i,a),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}();setWinningItem();for(var t=0;t<=4;t++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),e=(e=e)<=10?0:10<e&&e<=40?1:2,o=Math.floor(Math.random()*itemsAnubisImg[e].length);n.style.background=red,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[e][o]),i.setAttribute("alt",itemsAnubisName[e][o]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[e][o],n.append(i,a),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}()},resetOpening=function(){caseBox.classList.remove("open-anim")};openBtn.addEventListener("click",function(){!1===opened&&2e3<=parseFloat(balanceAmount.textContent)&&(startOpeningAnimation(),openAudio.play())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdsb3ZlY2FzZS5qcyJdLCJuYW1lcyI6WyJiYWxhbmNlQW1vdW50Iiwib3BlbkJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNhc2VCb3giLCJ3aW5uaW5nSXRlbUJveCIsIndpbm5pbmdJbWciLCJ3aW5uaW5nQnV0dG9uIiwic3Bpbm5pbmdCdG4iLCJiYWxhbmNlQW1vdW50TW9iaWxlIiwib3BlbkF1ZGlvIiwiQXVkaW8iLCJvcGVuZWQiLCJhbW91bnRWYWx1ZSIsInRleHRDb250ZW50IiwidG9GaXhlZCIsInZhbHVlIiwicmVtb3ZlQmFsYW5jZU9uT3BlbiIsImxvY2FsU3RvcmFnZSIsInN0YXJ0T3BlbmluZ0FuaW1hdGlvbiIsImFkZCIsInNldFRpbWVvdXQiLCJyZXNldE9wZW5pbmciLCJwYXJzZUZsb2F0Iiwic2V0V2lubmluZ0l0ZW0iLCJ3aW5uaW5nSXRlbSIsImNyZWF0ZUVsZW1lbnQiLCJ3aW5uaW5nSXRlbUltZyIsImFkZEl0ZW1zIiwid2lubmluZ0l0ZW1UZXh0IiwiY2hhbmNlcyIsImJhY2tncm91bmQiLCJyYW5kb21JdGVtRnJvbUNvbG9yIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiaXRlbXNBbnViaXNJbWciLCJzZXRBdHRyaWJ1dGUiLCJpdGVtc0FudWJpc05hbWUiLCJ3aW5uaW5nSXRlbURpdiIsImFwcGVuZCIsImN1cnJlbnRXaW5uaW5nSXRlbVByaWNlIiwiY2xhc3NMaXN0IiwiYWRkQmFsYW5jZSIsInJlZCIsImxlbmd0aCIsIl9sb29wIiwibm9ybWFsSXRlbURpdiIsIm5vcm1hbEl0ZW1JbWciLCJub3JtYWxJdGVtTnVtYmVyIiwiaXRlbXNBbnViaXNQcmljZSIsIm5vcm1hbEl0ZW1UZXh0IiwicmVtb3ZlIiwiX2xvb3AyIiwiaSIsIm5vcm1hbEl0ZW0iLCJhZGRFdmVudExpc3RlbmVyIiwic3R5bGUiLCJwbGF5Il0sIm1hcHBpbmdzIjoiYUFBQSxJQThCQ0Esd0JBOUJLQyxRQUFVQyxTQUFTQyxjQUFjLFdBQVcsRUFDNUNDLFFBQVVGLFNBQVNDLGNBQWMsT0FBTyxFQUR4Q0YsZUFBbUJFLFNBQUFBLGNBQWMsZUFBWSxFQUM3Q0MsV0FBVUYsU0FBU0MsY0FBYyxtQkFBUSxFQUN6Q0UsY0FBaUJILFNBQVNDLGNBQWMsc0JBQWdCLEVBQ3hERyxZQUFhSixTQUFTQyxjQUFjLHFCQUFvQixFQUN4REksb0JBQXdCTCxTQUFDQyxjQUFjLHNCQUF1QixFQUM5REssVUFBY04sSUFBQUEsTUFBU0MsdUJBQWMsRUFDckNNLGlCQUFtQixDQUFHUCxDQUFBQSxNQUFRLENBQUNDLElBQUFBLEtBQUFBLENBQUFBLEtBQy9CTyxlQUFnQkMsQ0FDdEIsQ0FBQSxrQ0FDQSxDQUFBLGtDQUNFLHFDQUlGLENBQUEsa0NBTUlDLGdCQUFjLENBQ2xCLENBQUEsNEJBQ0EsQ0FBQSxrQ0FBK0JULDhCQUUvQkgsQ0FBQUEsa0NBR0thLElBQUFBLGlFQUNKRCxPQUFTLENBQUEsRUFHVEgsY0FBb0JLLFNBQUFBLGNBQW9CQyxnQ0FBVSxFQUs5Q0MsWUFGTGhCLGNBQU1pQixZQUFzQkMsYUFBdEJELFFBQUFBLFNBQTRCLEVBRXJCSixXQVRaLElBWUFKLEVBRGNLLFdBQWNFLGNBQWNGLFdBQUUsRUFDeEJBLHdCQUdyQmQsY0FBTW1CLFlBQXdCSCxFQUFBRCxRQUF4QkksQ0FBQUEsRUFYTFYsb0JBWWtCVyxZQUFlSixFQUFDRCxRQUFBLENBQUEsQ0FYbkMsR0FlQ00sb0JBQWlCLFdBWmpCLElBY0NDLEVBRGNDLFdBQUF2QixjQUFBYyxXQUFBLEVBQ0EsSUFFZmQsY0FBQWMsWUFBQUUsRUFBQUQsUUFBQSxDQUFBLEVBRUROLG9CQUF1QkssWUFBakJVLEVBQUFBLFFBQXVCLENBQUEsQ0FiN0IsRUFnQk9DLHNCQUF1QkMsV0FiN0J0QixRQWNNdUIsVUFBQUEsSUFBaUJ6QixXQUFTd0IsRUFiaENFLFNBY01DLEVBYk5qQixPQWNJa0IsQ0FBQUEsRUFaSlQsV0FlUSxXQUNSVCxPQUFPLENBQUEsRUFkTlUsYUFlVyxDQWRaLEVBZUMsSUFBQSxDQWRGLEVBa0JDRyxlQUFrQk0sV0FmbEIsSUFpQk1DLEVBQW1CQyxLQUFPQyxNQUNsQixJQUR3QkQsS0FDakNFLE9BQU8sQ0FBS0MsRUFHakJYLEVBQVlZLFNBQWFYLGNBQW9CLEtBQUMsRUFDOUNDLEVBQWVVLFNBQWFYLGNBQVMsSUFBQSxFQUNyQ0MsRUFBZVUsU0FDZFgsY0FDQVUsS0FBZU4sRUFFaEJILEVBQWVVLFNBQ2RYLGNBQ0FZLEdBQUFBLEVBTURDLEdBREFkLEVBSEFJLElBR1lXLEdBQ1pELEVBQ2VBLEdBQVBDLEdBQU9ELEdBQWUsR0FFOUJFLEVBSVFDLEVBTUxWLEdBakNIUCxFQStCQ2tCLE1BQVlaLFdBQUFhLElBRUxYLEtBQUFDLE1BRVJiLEtBQUFBLE9BQVcsRUFBQWUsZUFBTU4sR0FBQWUsTUEvQmpCLEdBRUFwQixFQWdDQ2pCLGFBQXNCWSxRQUFJLFdBQVMsRUEvQnBDTyxFQWdDUVUsYUFBQSxRQUFBLGVBQUEsRUFDUlYsRUFBQVUsYUFFRCxNQUF1QkQsZUFBQU4sR0FBQWdCLEVBL0J0QixFQUNBbkIsRUFpQ09vQixhQWhDTixNQUNBVCxnQkFpQ01VLEdBQWdCOUMsRUFoQ3ZCLEVBQ0EyQixFQWtDWVEsYUFBR1ksUUFBZ0IsZ0JBQUEsRUFqQy9CcEIsRUFtQ1lmLFlBQVF3QixnQkFBQVIsR0FBQUUsR0FqQ3BCUCxFQW1DUWUsT0FBSVYsRUFBZ0JBLENBQWUsRUFsQzNDUyxFQW1DWUMsT0FBQ2YsQ0FBQSxFQWxDYnJCLFFBbUNFb0MsT0FBTUQsQ0FBQSxFQWpDUkUsd0JBbUNDUyxpQkFBQXBCLEdBQUFFLEdBakNEZixvQkF1Q2tCYyxFQXJDbEI5QixRQXdDQytDLFVBQWNYLElBQUFBLFFBQWEsRUF2QzVCN0IsWUF3Q0N3QyxVQUFjWCxPQUFZLFFBRXpCRCxFQXhDRmYsV0E4Q0M4QixXQTdDQVIsV0E4Q0FRLEVBN0NBakMsYUErQ1dzQixRQUFPUSxVQUFBQSxHQUFBQSxPQUFlRyxjQUFjckMsV0FBQyxDQUFBLENBOUNqRCxFQStDQ2lDLElBQUFBLEVBN0NEMUIsV0FnRENBLFdBL0NBa0IsRUFnRENRLE9BQWNLLEVBL0NmbkQsUUFnREd5QyxVQUFLVSxPQUFBLFFBQUEsRUFDVDVDLFlBQUNrQyxVQUFBdEIsSUFBQSxRQUFBLENBL0NELEVBSUEsSUFBSyxDQUhOLEVBZ0RDSSxTQUFlLFdBN0NmLElBNkNnQixJQUFDNkIsRUFBQSxFQUFBQyxHQUFBLEdBQUFELENBQUFBLEdBQUFBLENBQUQsV0E1Q2YsSUErQ01KLEVBQW1CaEIsS0FBS0MsTUFBc0IsSUFBaEJELEtBQUtFLE9BQU8sQ0FBTyxFQUNqRFksRUFBZ0I3QyxTQUFTd0IsY0FBYyxLQUFLLEVBQzVDNkIsRUFBYXJELFNBQVN3QixjQUFjLElBQUksRUFDeENzQixFQUFnQjlDLFNBQVN3QixjQUFjLEtBQUssRUFDNUN5QixFQUFpQmpELFNBQVN3QixjQUFjLEdBQUcsRUExQ2hESSxHQWdEQUEsRUFGVW1CLElBRUFuQixHQUNILEVBQ0QsR0FBQUEsR0FBQUEsR0FBQSxHQUNDLEVBR0ZFLEVBT05nQixFQUEwQmYsS0FBQ0MsTUFyRDFCRCxLQXNERGUsT0FBQUEsRUFBY1gsZUFDYlAsR0FDQU0sTUF2REQsRUFFQW1CLEVBNERBSixNQUFlckMsV0FBVzhCLElBMUQxQlcsRUE2REFSLGFBQXFCUSxRQUFVLFdBQUMsRUE1RGhDUCxFQTZEUVIsYUFBT08sUUFBYyxlQUFBLEVBNUQ3QkMsRUE4RFdYLGFBN0RWLE1BQ0FELGVBOERPTixHQUFBRSxFQUNULEVBM0NBZ0IsRUFBYVgsYUFqQlgsTUFpQnlCQyxnQkFBQVIsR0FBQUUsRUE0QzNCLEVBRURtQixFQUFrQmQsYUFBWmYsUUFBQUEsZ0JBQXFCLEVBQzFCbEIsRUFBUXNDLFlBQWlCSixnQkFBWVIsR0FBQUUsR0FHdEMvQixFQUFRdUQsT0FBQUEsRUFBMEJMLENBQU0sRUFDdkNKLEVBQVVQLE9BQVVlLENBQUloQyxFQTVEdkJuQixRQTZEQWUsT0FBQUEsQ0FBdUIsRUFFeEJFLFdBQUEsV0FDQzBCLEVBQUFLLE9BQUEsQ0E1REEsRUFBRyxJQUFJLENBQ1IsRUFFaUJDLEVBQWpCN0IsZUFBZSxFQUVmLElBRmlCLElBRVI4QixFQUFJLEVBQUdBLEdBQUssRUFBR0EsQ0FBQyxHQUFFRCxDQUZWLFdBR2hCLElBQU1KLEVBQW1CaEIsS0FBS0MsTUFBc0IsSUFBaEJELEtBQUtFLE9BQU8sQ0FBTyxFQUNqRFksRUFBZ0I3QyxTQUFTd0IsY0FBYyxLQUFLLEVBQzVDNkIsRUFBYXJELFNBQVN3QixjQUFjLElBQUksRUFDeENzQixFQUFnQjlDLFNBQVN3QixjQUFjLEtBQUssRUFDNUN5QixFQUFpQmpELFNBQVN3QixjQUFjLEdBQUcsRUFLaERJLEdBREdBLEVBRlVtQixJQUVDLEdBQ0osRUFDVSxHQUFWbkIsR0FBZ0JBLEdBQVcsR0FDM0IsRUFFQSxFQUdMRSxFQUFzQkMsS0FBS0MsTUFDaENELEtBQUtFLE9BQU8sRUFBSUMsZUFBZU4sR0FBU2UsTUFDekMsRUFFQVUsRUFBV0UsTUFBTTFCLFdBQWFhLElBRTlCVyxFQUFXbEIsYUFBYSxRQUFTLFdBQVcsRUFDNUNXLEVBQWNYLGFBQWEsUUFBUyxlQUFlLEVBQ25EVyxFQUFjWCxhQUNiLE1BQ0FELGVBQWVOLEdBQVNFLEVBQ3pCLEVBQ0FnQixFQUFjWCxhQUNiLE1BQ0FDLGdCQUFnQlIsR0FBU0UsRUFDMUIsRUFDQW1CLEVBQWVkLGFBQWEsUUFBUyxnQkFBZ0IsRUFDckRjLEVBQWVyQyxZQUFjd0IsZ0JBQWdCUixHQUFTRSxHQUV0RHVCLEVBQVdmLE9BQU9RLEVBQWVHLENBQWMsRUFDL0NKLEVBQWNQLE9BQU9lLENBQVUsRUFDL0JuRCxRQUFRb0MsT0FBT08sQ0FBYSxFQUU1QjFCLFdBQVcsV0FDVjBCLEVBQWNLLE9BQU8sQ0FDdEIsRUFBRyxJQUFJLENBQ1IsRUEzQzJCLENBNEM1QixFQUVNOUIsYUFBZSxXQUNwQmxCLFFBQVFzQyxVQUFVVSxPQUFPLFdBQVcsQ0FDckMsRUFFQW5ELFFBQVF1RCxpQkFBaUIsUUFBUyxXQUNsQixDQUFBLElBQVg1QyxRQUE2RCxLQUF6Q1csV0FBV3ZCLGNBQWNjLFdBQVcsSUFDM0RLLHNCQUFzQixFQUN0QlQsVUFBVWdELEtBQUssRUFFakIsQ0FBQyIsImZpbGUiOiJnbG92ZWNhc2UubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgb3BlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3Blbi1idG5cIik7XHJcbmNvbnN0IGNhc2VCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhc2VcIik7XHJcbmNvbnN0IHdpbm5pbmdJdGVtQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uaW5nLWl0ZW1cIik7XHJcbmNvbnN0IHdpbm5pbmdJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbSBpbWdcIik7XHJcbmNvbnN0IHdpbm5pbmdCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbS1idXR0b25cIik7XHJcbmNvbnN0IHNwaW5uaW5nQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcGVuLWJ0bi0tc3Bpbm5pbmdcIik7XHJcbmNvbnN0IGJhbGFuY2VBbW91bnRNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fYmFsYW5jZS1hbW91bnRcIik7XHJcbmNvbnN0IG9wZW5BdWRpbyA9IG5ldyBBdWRpbyhcIi4vZGlzdC9hdWRpby9vcGVuLm1wM1wiKTtcclxuY29uc3QgaXRlbXNBbnViaXNQcmljZSA9IFtbMTA4NV0sIFs0NjMsIDU4NV0sIFs5Ml1dO1xyXG5jb25zdCBpdGVtc0FudWJpc0ltZyA9IFtcclxuXHRbXCIuL2Rpc3QvaW1nL2dsb3ZlL3NsaW5nc2hvdC5wbmdcIl0sXHJcblx0W1wiLi9kaXN0L2ltZy9nbG92ZS9tYXJibGVmYWRlLnBuZ1wiLCBcIi4vZGlzdC9pbWcvZ2xvdmUvY29iYWx0c2t1bGxzLnBuZ1wiXSxcclxuXHRbXCIuL2Rpc3QvaW1nL2dsb3ZlL3VuaGluZ2VkLnBuZ1wiXSxcclxuXTtcclxuY29uc3QgaXRlbXNBbnViaXNOYW1lID0gW1xyXG5cdFtcIlNwb3J0IEdsb3ZlcyB8IFNsaW5nc2hvdFwiXSxcclxuXHRbXCJTcGVjaWFsaXN0IEdsb3ZlcyB8IE1hcmJsZSBGYWRlXCIsIFwiSGFuZCBXcmFwcyB8IENvYmFsdCBTa3VsbHNcIl0sXHJcblx0W1wiQnJva2VuIEZhbmcgR2xvdmVzIHwgVW5oaW5nZWRcIl0sXHJcbl07XHJcbmNvbnN0IHJlZCA9IFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDIyMiwgNzYsIDY1LCAuNSkgMTAwJSlcIjtcclxubGV0IG9wZW5lZCA9IGZhbHNlO1xyXG5sZXQgY3VycmVudFdpbm5pbmdJdGVtUHJpY2U7XHJcbmNvbnN0IGJhbGFuY2VBbW91bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fbGlzdC1pdGVtLWJhbGFuY2UtYW1vdW50XCIpO1xyXG5cclxuYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKTtcclxuXHJcbmNvbnN0IGFkZEJhbGFuY2UgPSAoKSA9PiB7XHJcblx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSArIGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlO1xyXG5cclxuXHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxuXHRiYWxhbmNlQW1vdW50TW9iaWxlLnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZUJhbGFuY2VPbk9wZW4gPSAoKSA9PiB7XHJcblx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSAtIDIwMDtcclxuXHJcblx0YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcblx0YmFsYW5jZUFtb3VudE1vYmlsZS50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcbn07XHJcblxyXG5jb25zdCBzdGFydE9wZW5pbmdBbmltYXRpb24gPSAoKSA9PiB7XHJcblx0Y2FzZUJveC5jbGFzc0xpc3QuYWRkKFwib3Blbi1hbmltXCIpO1xyXG5cdGFkZEl0ZW1zKCk7XHJcblx0b3BlbmVkID0gdHJ1ZTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRvcGVuZWQgPSBmYWxzZTtcclxuXHRcdHJlc2V0T3BlbmluZygpO1xyXG5cdH0sIDY1MDApO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0V2lubmluZ0l0ZW0gPSAoKSA9PiB7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0bGV0IGNoYW5jZXMgPSB3aW5uaW5nSXRlbU51bWJlcjtcclxuXHJcblx0aWYgKGNoYW5jZXMgPD0gMTApIHtcclxuXHRcdGNoYW5jZXMgPSAwO1xyXG5cdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDEwICYmIGNoYW5jZXMgPD0gNDApIHtcclxuXHRcdGNoYW5jZXMgPSAxO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjaGFuY2VzID0gMjtcclxuXHR9XHJcblxyXG5cdHdpbm5pbmdJdGVtLnN0eWxlLmJhY2tncm91bmQgPSByZWQ7XHJcblxyXG5cdGNvbnN0IHJhbmRvbUl0ZW1Gcm9tQ29sb3IgPSBNYXRoLmZsb29yKFxyXG5cdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdCk7XHJcblxyXG5cdHdpbm5pbmdJdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtXCIpO1xyXG5cdHdpbm5pbmdJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLWltZ1wiKTtcclxuXHR3aW5uaW5nSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcInNyY1wiLFxyXG5cdFx0aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHQpO1xyXG5cdHdpbm5pbmdJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFwiYWx0XCIsXHJcblx0XHRpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHQpO1xyXG5cdHdpbm5pbmdJdGVtVGV4dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1uYW1lXCIpO1xyXG5cdHdpbm5pbmdJdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0d2lubmluZ0l0ZW0uYXBwZW5kKHdpbm5pbmdJdGVtSW1nLCB3aW5uaW5nSXRlbVRleHQpO1xyXG5cdHdpbm5pbmdJdGVtRGl2LmFwcGVuZCh3aW5uaW5nSXRlbSk7XHJcblx0Y2FzZUJveC5hcHBlbmQod2lubmluZ0l0ZW1EaXYpO1xyXG5cclxuXHRjdXJyZW50V2lubmluZ0l0ZW1QcmljZSA9IGl0ZW1zQW51YmlzUHJpY2VbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdHJlbW92ZUJhbGFuY2VPbk9wZW4oKTtcclxuXHJcblx0b3BlbkJ0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdHNwaW5uaW5nQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0YWRkQmFsYW5jZSgpO1xyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJCYWxhbmNlXCIsIGAke2JhbGFuY2VBbW91bnQudGV4dENvbnRlbnR9YCk7XHJcblx0fSwgNTUwMCk7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0d2lubmluZ0l0ZW1EaXYucmVtb3ZlKCk7XHJcblx0XHRvcGVuQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHRzcGlubmluZ0J0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdH0sIDY1MDApO1xyXG59O1xyXG5cclxuY29uc3QgYWRkSXRlbXMgPSAoKSA9PiB7XHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPD0gMTA7IGkrKykge1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG5cdFx0bGV0IGNoYW5jZXMgPSBub3JtYWxJdGVtTnVtYmVyO1xyXG5cclxuXHRcdGlmIChjaGFuY2VzIDw9IDEwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAwO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuY2VzID4gMTAgJiYgY2hhbmNlcyA8PSA0MCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNoYW5jZXMgPSAyO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHJhbmRvbUl0ZW1Gcm9tQ29sb3IgPSBNYXRoLmZsb29yKFxyXG5cdFx0XHRNYXRoLnJhbmRvbSgpICogaXRlbXNBbnViaXNJbWdbY2hhbmNlc10ubGVuZ3RoXHJcblx0XHQpO1xyXG5cclxuXHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHJcblx0XHRub3JtYWxJdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1pbWdcIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJzcmNcIixcclxuXHRcdFx0aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJhbHRcIixcclxuXHRcdFx0aXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0tbmFtZVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRcdG5vcm1hbEl0ZW0uYXBwZW5kKG5vcm1hbEl0ZW1JbWcsIG5vcm1hbEl0ZW1UZXh0KTtcclxuXHRcdG5vcm1hbEl0ZW1EaXYuYXBwZW5kKG5vcm1hbEl0ZW0pO1xyXG5cdFx0Y2FzZUJveC5hcHBlbmQobm9ybWFsSXRlbURpdik7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdG5vcm1hbEl0ZW1EaXYucmVtb3ZlKCk7XHJcblx0XHR9LCA2NTAwKTtcclxuXHR9XHJcblxyXG5cdHNldFdpbm5pbmdJdGVtKCk7XHJcblxyXG5cdGZvciAobGV0IGkgPSAwOyBpIDw9IDQ7IGkrKykge1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG5cdFx0bGV0IGNoYW5jZXMgPSBub3JtYWxJdGVtTnVtYmVyO1xyXG5cclxuXHRcdGlmIChjaGFuY2VzIDw9IDEwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAwO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuY2VzID4gMTAgJiYgY2hhbmNlcyA8PSA0MCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNoYW5jZXMgPSAyO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHJhbmRvbUl0ZW1Gcm9tQ29sb3IgPSBNYXRoLmZsb29yKFxyXG5cdFx0XHRNYXRoLnJhbmRvbSgpICogaXRlbXNBbnViaXNJbWdbY2hhbmNlc10ubGVuZ3RoXHJcblx0XHQpO1xyXG5cclxuXHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHJcblx0XHRub3JtYWxJdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1pbWdcIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJzcmNcIixcclxuXHRcdFx0aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJhbHRcIixcclxuXHRcdFx0aXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0tbmFtZVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRcdG5vcm1hbEl0ZW0uYXBwZW5kKG5vcm1hbEl0ZW1JbWcsIG5vcm1hbEl0ZW1UZXh0KTtcclxuXHRcdG5vcm1hbEl0ZW1EaXYuYXBwZW5kKG5vcm1hbEl0ZW0pO1xyXG5cdFx0Y2FzZUJveC5hcHBlbmQobm9ybWFsSXRlbURpdik7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdG5vcm1hbEl0ZW1EaXYucmVtb3ZlKCk7XHJcblx0XHR9LCA2NTAwKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCByZXNldE9wZW5pbmcgPSAoKSA9PiB7XHJcblx0Y2FzZUJveC5jbGFzc0xpc3QucmVtb3ZlKFwib3Blbi1hbmltXCIpO1xyXG59O1xyXG5cclxub3BlbkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdGlmIChvcGVuZWQgPT09IGZhbHNlICYmIHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCkgPj0gMjAwMCkge1xyXG5cdFx0c3RhcnRPcGVuaW5nQW5pbWF0aW9uKCk7XHJcblx0XHRvcGVuQXVkaW8ucGxheSgpO1xyXG5cdH1cclxufSk7XHJcbiJdfQ==
