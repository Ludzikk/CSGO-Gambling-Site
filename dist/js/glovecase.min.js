"use strict";var currentWinningItemPrice,openBtn=document.querySelector(".open-btn"),caseBox=document.querySelector(".case"),winningItemBox=document.querySelector(".winning-item"),winningImg=document.querySelector(".winning-item img"),winningButton=document.querySelector(".winning-item-button"),spinningBtn=document.querySelector(".open-btn--spinning"),balanceAmountMobile=document.querySelector(".nav__balance-amount"),openAudio=new Audio("./dist/audio/open.mp3"),itemsAnubisPrice=[[1085],[463,585],[92]],itemsAnubisImg=[["./dist/img/glove/slingshot.png"],["./dist/img/glove/marblefade.png","./dist/img/glove/cobaltskulls.png"],["./dist/img/glove/unhinged.png"]],itemsAnubisName=[["Sport Gloves | Slingshot"],["Specialist Gloves | Marble Fade","Hand Wraps | Cobalt Skulls"],["Broken Fang Gloves | Unhinged"]],red="linear-gradient(180deg, black 40%, rgba(222, 76, 65, .5) 100%)",opened=!1,balanceAmount=document.querySelector(".nav__list-item-balance-amount"),addBalance=(balanceAmount.textContent=localStorage.getItem("Balance"),function(){var e=parseFloat(balanceAmount.textContent)+currentWinningItemPrice;balanceAmount.textContent=e.toFixed(2),balanceAmountMobile.textContent=e.toFixed(2)}),removeBalanceOnOpen=function(){var e=parseFloat(balanceAmount.textContent)-200;balanceAmount.textContent=e.toFixed(2),balanceAmountMobile.textContent=e.toFixed(2)},startOpeningAnimation=function(){caseBox.classList.add("open-anim"),addItems(),opened=!0,setTimeout(function(){opened=!1,resetOpening()},6500)},setWinningItem=function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),o=(o=e)<=10?0:10<o&&o<=40?1:2,m=(n.style.background=red,Math.floor(Math.random()*itemsAnubisImg[o].length));n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[o][m]),i.setAttribute("alt",itemsAnubisName[o][m]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[o][m],n.append(i,a),t.append(n),caseBox.append(t),currentWinningItemPrice=itemsAnubisPrice[o][m],removeBalanceOnOpen(),openBtn.classList.add("hidden"),spinningBtn.classList.remove("hidden"),setTimeout(function(){addBalance(),localStorage.setItem("Balance","".concat(balanceAmount.textContent)),id++;var e=document.createElement("div"),t=document.createElement("img"),n=document.createElement("div"),i=document.createElement("p"),a=document.createElement("p"),s=document.createElement("img");e.setAttribute("class","main__dropsbox-item main__dropsbox-item--gold"),e.setAttribute("id",id),t.setAttribute("class","main__dropsbox-item-img"),t.setAttribute("src","".concat(itemsAnubisImg[o][m])),t.setAttribute("alt","".concat(itemsAnubisImg[o][m])),a.setAttribute("class","main__dropsbox-item-name"),i.setAttribute("class","main__dropsbox-item-price"),s.setAttribute("class","main__dropsbox-item-pricebox-img"),s.setAttribute("src","./dist/img/other/coin.png"),s.setAttribute("alt","Coin Icon"),n.setAttribute("class","main__dropsbox-item-pricebox hidden"),i.textContent=itemsAnubisPrice[o][m],e.style.order="-"+id,a.textContent=itemsAnubisName[o][m],n.append(i,s),e.append(t,a,n),lastItemDrops.append(e),10<lastItemDrops.childElementCount&&lastItemDrops.firstElementChild.remove(),id%2==0?e.style.background="linear-gradient(90deg, #1d2126 25%, rgba(255, 255, 1, 0.1) 100%":e.style.background="linear-gradient(90deg, #282e35 25%, rgba(255, 255, 1, 0.1) 100%",e.addEventListener("mouseover",function(){n.classList.remove("hidden")}),e.addEventListener("mouseleave",function(){n.classList.add("hidden")})},5500),setTimeout(function(){t.remove(),openBtn.classList.remove("hidden"),spinningBtn.classList.add("hidden")},6500)},addItems=function(){for(var e=0;e<=10;e++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),e=(e=e)<=10?0:10<e&&e<=40?1:2,s=Math.floor(Math.random()*itemsAnubisImg[e].length);n.style.background=red,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[e][s]),i.setAttribute("alt",itemsAnubisName[e][s]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[e][s],n.append(i,a),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}();setWinningItem();for(var t=0;t<=4;t++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),e=(e=e)<=10?0:10<e&&e<=40?1:2,s=Math.floor(Math.random()*itemsAnubisImg[e].length);n.style.background=red,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[e][s]),i.setAttribute("alt",itemsAnubisName[e][s]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[e][s],n.append(i,a),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}()},resetOpening=function(){caseBox.classList.remove("open-anim")};openBtn.addEventListener("click",function(){!1===opened&&200<=parseFloat(balanceAmount.textContent)&&(startOpeningAnimation(),openAudio.play())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImdsb3ZlY2FzZS5qcyJdLCJuYW1lcyI6WyJiYWxhbmNlQW1vdW50Iiwib3BlbkJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNhc2VCb3giLCJ3aW5uaW5nSXRlbUJveCIsIndpbm5pbmdJbWciLCJ3aW5uaW5nQnV0dG9uIiwic3Bpbm5pbmdCdG4iLCJiYWxhbmNlQW1vdW50TW9iaWxlIiwib3BlbkF1ZGlvIiwiQXVkaW8iLCJvcGVuZWQiLCJhbW91bnRWYWx1ZSIsInRleHRDb250ZW50IiwidG9GaXhlZCIsInZhbHVlIiwicmVtb3ZlQmFsYW5jZU9uT3BlbiIsImxvY2FsU3RvcmFnZSIsInN0YXJ0T3BlbmluZ0FuaW1hdGlvbiIsImFkZCIsInNldFRpbWVvdXQiLCJyZXNldE9wZW5pbmciLCJwYXJzZUZsb2F0Iiwic2V0V2lubmluZ0l0ZW0iLCJ3aW5uaW5nSXRlbSIsImNyZWF0ZUVsZW1lbnQiLCJ3aW5uaW5nSXRlbUltZyIsImFkZEl0ZW1zIiwid2lubmluZ0l0ZW1UZXh0IiwiY2hhbmNlcyIsImJhY2tncm91bmQiLCJyYW5kb21JdGVtRnJvbUNvbG9yIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiaXRlbXNBbnViaXNJbWciLCJzZXRBdHRyaWJ1dGUiLCJpdGVtc0FudWJpc05hbWUiLCJ3aW5uaW5nSXRlbURpdiIsImFwcGVuZCIsImN1cnJlbnRXaW5uaW5nSXRlbVByaWNlIiwiY2xhc3NMaXN0IiwiYWRkQmFsYW5jZSIsInJlZCIsImxlbmd0aCIsIml0ZW1QcmljZSIsIml0ZW1QcmljZUljb24iLCJpdGVtUHJpY2VCb3giLCJpdGVtc0FudWJpc1ByaWNlIiwic3R5bGUiLCJvcmRlciIsImlkIiwibGFzdEl0ZW1Ecm9wcyIsImZpcnN0RWxlbWVudENoaWxkIiwicmVtb3ZlIiwiY29uY2F0IiwiaXRlbSIsIml0ZW1JbWciLCJhZGRFdmVudExpc3RlbmVyIiwiaXRlbVRleHQiLCJfbG9vcCIsIm5vcm1hbEl0ZW1OdW1iZXIiLCJub3JtYWxJdGVtIiwibm9ybWFsSXRlbUltZyIsIm5vcm1hbEl0ZW1UZXh0Iiwibm9ybWFsSXRlbURpdiIsInBsYXkiLCJpIiwiX2xvb3AyIl0sIm1hcHBpbmdzIjoiYUFBQSxJQThCQ0Esd0JBOUJLQyxRQUFVQyxTQUFTQyxjQUFjLFdBQVcsRUFDNUNDLFFBQVVGLFNBQVNDLGNBQWMsT0FBTyxFQUR4Q0YsZUFBbUJFLFNBQUFBLGNBQWMsZUFBWSxFQUM3Q0MsV0FBVUYsU0FBU0MsY0FBYyxtQkFBUSxFQUN6Q0UsY0FBaUJILFNBQVNDLGNBQWMsc0JBQWdCLEVBQ3hERyxZQUFhSixTQUFTQyxjQUFjLHFCQUFvQixFQUN4REksb0JBQXdCTCxTQUFDQyxjQUFjLHNCQUF1QixFQUM5REssVUFBY04sSUFBQUEsTUFBU0MsdUJBQWMsRUFDckNNLGlCQUFtQixDQUFHUCxDQUFBQSxNQUFRLENBQUNDLElBQUFBLEtBQUFBLENBQUFBLEtBQy9CTyxlQUFnQkMsQ0FDdEIsQ0FBQSxrQ0FDQSxDQUFBLGtDQUNFLHFDQUlGLENBQUEsa0NBTUlDLGdCQUFjLENBQ2xCLENBQUEsNEJBQ0EsQ0FBQSxrQ0FBK0JULDhCQUUvQkgsQ0FBQUEsa0NBR0thLElBQUFBLGlFQUNKRCxPQUFTLENBQUEsRUFHVEgsY0FBb0JLLFNBQUFBLGNBQW9CQyxnQ0FBVSxFQUs5Q0MsWUFGTGhCLGNBQU1pQixZQUFzQkMsYUFBdEJELFFBQUFBLFNBQTRCLEVBRXJCSixXQVRaLElBWUFKLEVBRGNLLFdBQWNFLGNBQWNGLFdBQUUsRUFDeEJBLHdCQUdyQmQsY0FBTW1CLFlBQXdCSCxFQUFBRCxRQUF4QkksQ0FBQUEsRUFYTFYsb0JBWWtCVyxZQUFlSixFQUFDRCxRQUFBLENBQUEsQ0FYbkMsR0FlQ00sb0JBQWlCLFdBWmpCLElBY0NDLEVBRGNDLFdBQUF2QixjQUFBYyxXQUFBLEVBQ0EsSUFFZmQsY0FBQWMsWUFBQUUsRUFBQUQsUUFBQSxDQUFBLEVBRUROLG9CQUF1QkssWUFBakJVLEVBQUFBLFFBQXVCLENBQUEsQ0FiN0IsRUFnQk9DLHNCQUF1QkMsV0Fi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YUFBYSxRQUFTLGdCQUFnQixFQUNyRDRCLEVBQWVuRCxZQUFjd0IsZ0JBQWdCUixHQUFTRSxHQUV0RCtCLEVBQVd2QixPQUFPd0IsRUFBZUMsQ0FBYyxFQUMvQ0MsRUFBYzFCLE9BQU91QixDQUFVLEVBQy9CM0QsUUFBUW9DLE9BQU8wQixDQUFhLEVBRTVCN0MsV0FBVyxXQUNWNkMsRUFBY1gsT0FBTyxDQUN0QixFQUFHLElBQUksQ0FDUixFQTNDMkIsQ0E0QzVCLEVBRU1qQyxhQUFlLFdBQ3BCbEIsUUFBUXNDLFVBQVVhLE9BQU8sV0FBVyxDQUNyQyxFQUVBdEQsUUFBUTBELGlCQUFpQixRQUFTLFdBQ2xCLENBQUEsSUFBWC9DLFFBQTZELEtBQXpDVyxXQUFXdkIsY0FBY2MsV0FBVyxJQUMzREssc0JBQXNCLEVBQ3RCVCxVQUFVeUQsS0FBSyxFQUVqQixDQUFDIiwiZmlsZSI6Imdsb3ZlY2FzZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBvcGVuQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcGVuLWJ0blwiKTtcclxuY29uc3QgY2FzZUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FzZVwiKTtcclxuY29uc3Qgd2lubmluZ0l0ZW1Cb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbVwiKTtcclxuY29uc3Qgd2lubmluZ0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmluZy1pdGVtIGltZ1wiKTtcclxuY29uc3Qgd2lubmluZ0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmluZy1pdGVtLWJ1dHRvblwiKTtcclxuY29uc3Qgc3Bpbm5pbmdCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9wZW4tYnRuLS1zcGlubmluZ1wiKTtcclxuY29uc3QgYmFsYW5jZUFtb3VudE1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19iYWxhbmNlLWFtb3VudFwiKTtcclxuY29uc3Qgb3BlbkF1ZGlvID0gbmV3IEF1ZGlvKFwiLi9kaXN0L2F1ZGlvL29wZW4ubXAzXCIpO1xyXG5jb25zdCBpdGVtc0FudWJpc1ByaWNlID0gW1sxMDg1XSwgWzQ2MywgNTg1XSwgWzkyXV07XHJcbmNvbnN0IGl0ZW1zQW51YmlzSW1nID0gW1xyXG5cdFtcIi4vZGlzdC9pbWcvZ2xvdmUvc2xpbmdzaG90LnBuZ1wiXSxcclxuXHRbXCIuL2Rpc3QvaW1nL2dsb3ZlL21hcmJsZWZhZGUucG5nXCIsIFwiLi9kaXN0L2ltZy9nbG92ZS9jb2JhbHRza3VsbHMucG5nXCJdLFxyXG5cdFtcIi4vZGlzdC9pbWcvZ2xvdmUvdW5oaW5nZWQucG5nXCJdLFxyXG5dO1xyXG5jb25zdCBpdGVtc0FudWJpc05hbWUgPSBbXHJcblx0W1wiU3BvcnQgR2xvdmVzIHwgU2xpbmdzaG90XCJdLFxyXG5cdFtcIlNwZWNpYWxpc3QgR2xvdmVzIHwgTWFyYmxlIEZhZGVcIiwgXCJIYW5kIFdyYXBzIHwgQ29iYWx0IFNrdWxsc1wiXSxcclxuXHRbXCJCcm9rZW4gRmFuZyBHbG92ZXMgfCBVbmhpbmdlZFwiXSxcclxuXTtcclxuY29uc3QgcmVkID0gXCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoMjIyLCA3NiwgNjUsIC41KSAxMDAlKVwiO1xyXG5sZXQgb3BlbmVkID0gZmFsc2U7XHJcbmxldCBjdXJyZW50V2lubmluZ0l0ZW1QcmljZTtcclxuY29uc3QgYmFsYW5jZUFtb3VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19saXN0LWl0ZW0tYmFsYW5jZS1hbW91bnRcIik7XHJcblxyXG5iYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpO1xyXG5cclxuY29uc3QgYWRkQmFsYW5jZSA9ICgpID0+IHtcclxuXHRsZXQgYW1vdW50VmFsdWUgPSBwYXJzZUZsb2F0KGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQpO1xyXG5cdGxldCB2YWx1ZSA9IGFtb3VudFZhbHVlICsgY3VycmVudFdpbm5pbmdJdGVtUHJpY2U7XHJcblxyXG5cdGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSB2YWx1ZS50b0ZpeGVkKDIpO1xyXG5cdGJhbGFuY2VBbW91bnRNb2JpbGUudGV4dENvbnRlbnQgPSB2YWx1ZS50b0ZpeGVkKDIpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlQmFsYW5jZU9uT3BlbiA9ICgpID0+IHtcclxuXHRsZXQgYW1vdW50VmFsdWUgPSBwYXJzZUZsb2F0KGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQpO1xyXG5cdGxldCB2YWx1ZSA9IGFtb3VudFZhbHVlIC0gMjAwO1xyXG5cclxuXHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxuXHRiYWxhbmNlQW1vdW50TW9iaWxlLnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxufTtcclxuXHJcbmNvbnN0IHN0YXJ0T3BlbmluZ0FuaW1hdGlvbiA9ICgpID0+IHtcclxuXHRjYXNlQm94LmNsYXNzTGlzdC5hZGQoXCJvcGVuLWFuaW1cIik7XHJcblx0YWRkSXRlbXMoKTtcclxuXHRvcGVuZWQgPSB0cnVlO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdG9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0cmVzZXRPcGVuaW5nKCk7XHJcblx0fSwgNjUwMCk7XHJcbn07XHJcblxyXG5jb25zdCBzZXRXaW5uaW5nSXRlbSA9ICgpID0+IHtcclxuXHRjb25zdCB3aW5uaW5nSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRsZXQgY2hhbmNlcyA9IHdpbm5pbmdJdGVtTnVtYmVyO1xyXG5cclxuXHRpZiAoY2hhbmNlcyA8PSAxMCkge1xyXG5cdFx0Y2hhbmNlcyA9IDA7XHJcblx0fSBlbHNlIGlmIChjaGFuY2VzID4gMTAgJiYgY2hhbmNlcyA8PSA0MCkge1xyXG5cdFx0Y2hhbmNlcyA9IDE7XHJcblx0fSBlbHNlIHtcclxuXHRcdGNoYW5jZXMgPSAyO1xyXG5cdH1cclxuXHJcblx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHJcblx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRNYXRoLnJhbmRvbSgpICogaXRlbXNBbnViaXNJbWdbY2hhbmNlc10ubGVuZ3RoXHJcblx0KTtcclxuXHJcblx0d2lubmluZ0l0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdHdpbm5pbmdJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFwic3JjXCIsXHJcblx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdCk7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XCJhbHRcIixcclxuXHRcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdCk7XHJcblx0d2lubmluZ0l0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0d2lubmluZ0l0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHR3aW5uaW5nSXRlbS5hcHBlbmQod2lubmluZ0l0ZW1JbWcsIHdpbm5pbmdJdGVtVGV4dCk7XHJcblx0d2lubmluZ0l0ZW1EaXYuYXBwZW5kKHdpbm5pbmdJdGVtKTtcclxuXHRjYXNlQm94LmFwcGVuZCh3aW5uaW5nSXRlbURpdik7XHJcblxyXG5cdGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlID0gaXRlbXNBbnViaXNQcmljZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0cmVtb3ZlQmFsYW5jZU9uT3BlbigpO1xyXG5cclxuXHRvcGVuQnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0c3Bpbm5pbmdCdG4uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRhZGRCYWxhbmNlKCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIkJhbGFuY2VcIiwgYCR7YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudH1gKTtcclxuXHJcblx0XHRpZCsrXHJcblx0XHRjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IGl0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0Y29uc3QgaXRlbVByaWNlQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IGl0ZW1QcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0Y29uc3QgaXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1QcmljZUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0aXRlbS5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwiY2xhc3NcIixcclxuXHRcdFx0XCJtYWluX19kcm9wc2JveC1pdGVtIG1haW5fX2Ryb3BzYm94LWl0ZW0tLWdvbGRcIlxyXG5cdFx0KTtcclxuXHRcdGl0ZW0uc2V0QXR0cmlidXRlKFwiaWRcIiwgaWQpO1xyXG5cdFx0aXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX2Ryb3BzYm94LWl0ZW0taW1nXCIpO1xyXG5cdFx0aXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwic3JjXCIsXHJcblx0XHRcdGAke2l0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdfWBcclxuXHRcdCk7XHJcblx0XHRpdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJhbHRcIixcclxuXHRcdFx0YCR7aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl19YFxyXG5cdFx0KTtcclxuXHRcdGl0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFpbl9fZHJvcHNib3gtaXRlbS1uYW1lXCIpO1xyXG5cdFx0aXRlbVByaWNlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFpbl9fZHJvcHNib3gtaXRlbS1wcmljZVwiKTtcclxuXHRcdGl0ZW1QcmljZUljb24uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtYWluX19kcm9wc2JveC1pdGVtLXByaWNlYm94LWltZ1wiKTtcclxuXHRcdGl0ZW1QcmljZUljb24uc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi9kaXN0L2ltZy9vdGhlci9jb2luLnBuZ1wiKTtcclxuXHRcdGl0ZW1QcmljZUljb24uc2V0QXR0cmlidXRlKFwiYWx0XCIsIFwiQ29pbiBJY29uXCIpO1xyXG5cdFx0aXRlbVByaWNlQm94LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFpbl9fZHJvcHNib3gtaXRlbS1wcmljZWJveCBoaWRkZW5cIik7XHJcblx0XHRpdGVtUHJpY2UudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc1ByaWNlW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cdFx0aXRlbS5zdHlsZS5vcmRlciA9IFwiLVwiICsgaWQ7XHJcblx0XHRpdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHRcdGl0ZW1QcmljZUJveC5hcHBlbmQoaXRlbVByaWNlLCBpdGVtUHJpY2VJY29uKTtcclxuXHRcdGl0ZW0uYXBwZW5kKGl0ZW1JbWcsIGl0ZW1UZXh0LCBpdGVtUHJpY2VCb3gpO1xyXG5cdFx0bGFzdEl0ZW1Ecm9wcy5hcHBlbmQoaXRlbSk7XHJcblxyXG5cdFx0aWYgKGxhc3RJdGVtRHJvcHMuY2hpbGRFbGVtZW50Q291bnQgPiAxMCkge1xyXG5cdFx0XHRsYXN0SXRlbURyb3BzLmZpcnN0RWxlbWVudENoaWxkLnJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpZCAlIDIgPT09IDApIHtcclxuXHRcdFx0aXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYGxpbmVhci1ncmFkaWVudCg5MGRlZywgIzFkMjEyNiAyNSUsIHJnYmEoMjU1LCAyNTUsIDEsIDAuMSkgMTAwJWA7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpdGVtLnN0eWxlLmJhY2tncm91bmQgPSBgbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjMjgyZTM1IDI1JSwgcmdiYSgyNTUsIDI1NSwgMSwgMC4xKSAxMDAlYDtcclxuXHRcdH1cclxuXHJcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCkgPT4ge1xyXG5cdFx0XHRpdGVtUHJpY2VCb3guY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xyXG5cdFx0XHRpdGVtUHJpY2VCb3guY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRcdH0pO1xyXG5cdH0sIDU1MDApO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHdpbm5pbmdJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0b3BlbkJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0c3Bpbm5pbmdCdG4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHR9LCA2NTAwKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZEl0ZW1zID0gKCkgPT4ge1xyXG5cdGZvciAobGV0IGkgPSAwOyBpIDw9IDEwOyBpKyspIHtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGxldCBjaGFuY2VzID0gbm9ybWFsSXRlbU51bWJlcjtcclxuXHJcblx0XHRpZiAoY2hhbmNlcyA8PSAxMCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMDtcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDEwICYmIGNoYW5jZXMgPD0gNDApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDE7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjaGFuY2VzID0gMjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdFx0KTtcclxuXHJcblx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSByZWQ7XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwic3JjXCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwiYWx0XCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0XHRub3JtYWxJdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0XHRub3JtYWxJdGVtLmFwcGVuZChub3JtYWxJdGVtSW1nLCBub3JtYWxJdGVtVGV4dCk7XHJcblx0XHRub3JtYWxJdGVtRGl2LmFwcGVuZChub3JtYWxJdGVtKTtcclxuXHRcdGNhc2VCb3guYXBwZW5kKG5vcm1hbEl0ZW1EaXYpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRub3JtYWxJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0fSwgNjUwMCk7XHJcblx0fVxyXG5cclxuXHRzZXRXaW5uaW5nSXRlbSgpO1xyXG5cclxuXHRmb3IgKGxldCBpID0gMDsgaSA8PSA0OyBpKyspIHtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGxldCBjaGFuY2VzID0gbm9ybWFsSXRlbU51bWJlcjtcclxuXHJcblx0XHRpZiAoY2hhbmNlcyA8PSAxMCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMDtcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDEwICYmIGNoYW5jZXMgPD0gNDApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDE7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjaGFuY2VzID0gMjtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdFx0KTtcclxuXHJcblx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSByZWQ7XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwic3JjXCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwiYWx0XCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0XHRub3JtYWxJdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0XHRub3JtYWxJdGVtLmFwcGVuZChub3JtYWxJdGVtSW1nLCBub3JtYWxJdGVtVGV4dCk7XHJcblx0XHRub3JtYWxJdGVtRGl2LmFwcGVuZChub3JtYWxJdGVtKTtcclxuXHRcdGNhc2VCb3guYXBwZW5kKG5vcm1hbEl0ZW1EaXYpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRub3JtYWxJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0fSwgNjUwMCk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgcmVzZXRPcGVuaW5nID0gKCkgPT4ge1xyXG5cdGNhc2VCb3guY2xhc3NMaXN0LnJlbW92ZShcIm9wZW4tYW5pbVwiKTtcclxufTtcclxuXHJcbm9wZW5CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRpZiAob3BlbmVkID09PSBmYWxzZSAmJiBwYXJzZUZsb2F0KGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQpID49IDIwMCkge1xyXG5cdFx0c3RhcnRPcGVuaW5nQW5pbWF0aW9uKCk7XHJcblx0XHRvcGVuQXVkaW8ucGxheSgpO1xyXG5cdH1cclxufSk7XHJcbiJdfQ==
