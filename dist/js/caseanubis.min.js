"use strict";var currentWinningItemPrice,openBtn=document.querySelector(".open-btn"),caseBox=document.querySelector(".case"),winningItemBox=document.querySelector(".winning-item"),winningImg=document.querySelector(".winning-item img"),winningButton=document.querySelector(".winning-item-button"),spinningBtn=document.querySelector(".open-btn--spinning"),balanceAmountMobile=document.querySelector(".nav__balance-amount"),openAudio=new Audio("./dist/audio/open.mp3"),itemsAnubisPrice=[[2031],[232,156],[21,12,9],[9,4,2,1],[.9,.8,.6,.7],[.12,.15,.2,.14,.11]],itemsAnubisImg=[["./dist/img/anubis/eyeofhorus.png"],["./dist/img/anubis/apep'scurse.png","./dist/img/anubis/watersofnephthys.png"],["./dist/img/anubis/ramese'sreach.png","./dist/img/anubis/scarabrush.png","./dist/img/anubis/sobek'sbite.png"],["./dist/img/anubis/blacknile.png","./dist/img/anubis/steeldelta.png","./dist/img/anubis/mummy'srot.png","./dist/img/anubis/coppercoated.png"],["./dist/img/anubis/mudspec.png","./dist/img/anubis/deserttactical.png","./dist/img/anubis/azureglyph.png","./dist/img/anubis/echoingsands.png"],["./dist/img/anubis/hieroglyph.png","./dist/img/anubis/snakepit.png","./dist/img/anubis/submerged.png","./dist/img/anubis/sunbaked.png","./dist/img/anubis/inlay.png"]],itemsAnubisName=[["M4A4 | Eye of Horus"],["P250 | Apep's Curse","FAMAS | Waters of Nephthys"],["Glock-18 | Ramese's Reach","P90 | ScaraB Rush","Nova | Sobek's Bite"],["AWP | Black Nile","AK47 | Steel Delta","Tec-9 | Mummy's Rot","MAG-7 | Copper Coated"],["M4A1-S | Mud-Spec","USP-S | Desert Tactical","SSG 08 | Azure Glyph","MAC-10 | Echoing Sands"],["XM1014 | Hieroglyph","AUG | Snake Pit","M249 | Submerged","MP7 | Sunbaked","R8 Revolver | Inlay"]],red="linear-gradient(180deg, black 40%, rgba(222, 76, 65, .5) 100%)",pink="linear-gradient(180deg, black 40%, rgba(255, 50, 240, .5) 100%)",purple="linear-gradient(180deg, black 40%, rgba(125, 50, 255, .5) 100%)",lightBlue="linear-gradient(180deg, black 40%, rgba(160, 211, 255, .5) 100%)",blue="linear-gradient(180deg, black 40%, rgba(50, 113, 255, .5) 100%)",grey="linear-gradient(180deg, black 40%, rgba(78, 78, 78, .5) 100%)",opened=!1,balanceAmount=document.querySelector(".nav__list-item-balance-amount"),addBalance=(balanceAmount.textContent=localStorage.getItem("Balance"),function(){var e=parseFloat(balanceAmount.textContent)+currentWinningItemPrice;balanceAmount.textContent=e.toFixed(2),balanceAmountMobile.textContent=e.toFixed(2)}),removeBalanceOnOpen=function(){var e=parseFloat(balanceAmount.textContent)-5;balanceAmount.textContent=e.toFixed(2),balanceAmountMobile.textContent=e.toFixed(2)},startOpeningAnimation=function(){caseBox.classList.add("open-anim"),addItems(),opened=!0,setTimeout(function(){opened=!1,resetOpening()},6500)},setWinningItem=function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),s=(s=e)<=1?0:1<s&&s<=10?1:10<s&&s<=20?2:20<s&&s<=40?3:40<s&&s<=60?4:5,e=(n.style.background=e<=1?red:1<e&&e<=10?pink:10<e&&e<=20?purple:20<e&&e<=40?blue:40<e&&e<=60?lightBlue:grey,Math.floor(Math.random()*itemsAnubisImg[s].length));n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[s][e]),i.setAttribute("alt",itemsAnubisName[s][e]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[s][e],n.append(i,a),t.append(n),caseBox.append(t),currentWinningItemPrice=itemsAnubisPrice[s][e],removeBalanceOnOpen(),openBtn.classList.add("hidden"),spinningBtn.classList.remove("hidden"),setTimeout(function(){addBalance(),localStorage.setItem("Balance","".concat(balanceAmount.textContent))},5500),setTimeout(function(){t.remove(),openBtn.classList.remove("hidden"),spinningBtn.classList.add("hidden")},6500)},addItems=function(){for(var e=0;e<=10;e++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),s=(s=e)<=1?0:1<s&&s<=10?1:10<s&&s<=20?2:20<s&&s<=40?3:40<s&&s<=60?4:5,o=Math.floor(Math.random()*itemsAnubisImg[s].length);n.style.background=e<=1?red:1<e&&e<=10?pink:10<e&&e<=20?purple:20<e&&e<=40?blue:40<e&&e<=60?lightBlue:grey,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[s][o]),i.setAttribute("alt",itemsAnubisName[s][o]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[s][o],n.append(i,a),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}();setWinningItem();for(var t=0;t<=4;t++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),s=(s=e)<=1?0:1<s&&s<=10?1:10<s&&s<=20?2:20<s&&s<=40?3:40<s&&s<=60?4:5,o=Math.floor(Math.random()*itemsAnubisImg[s].length);n.style.background=e<=1?red:1<e&&e<=10?pink:10<e&&e<=20?purple:20<e&&e<=40?blue:40<e&&e<=60?lightBlue:grey,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[s][o]),i.setAttribute("alt",itemsAnubisName[s][o]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[s][o],n.append(i,a),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}()},resetOpening=function(){caseBox.classList.remove("open-anim")};openBtn.addEventListener("click",function(){!1===opened&&1<=parseFloat(balanceAmount.textContent)&&(startOpeningAnimation(),openAudio.play())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhc2VhbnViaXMuanMiXSwibmFtZXMiOlsid2lubmluZ0l0ZW0iLCJvcGVuQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2FzZUJveCIsIndpbm5pbmdJdGVtQm94Iiwid2lubmluZ0ltZyIsIndpbm5pbmdCdXR0b24iLCJzcGlubmluZ0J0biIsImJhbGFuY2VBbW91bnRNb2JpbGUiLCJpdGVtc0FudWJpc1ByaWNlIiwiaXRlbXNBbnViaXNJbWciLCJpdGVtc0FudWJpc05hbWUiLCJsaWdodEJsdWUiLCJiYWxhbmNlQW1vdW50IiwiYWRkSXRlbXMiLCJ3aW5uaW5nSXRlbU51bWJlciIsInJhbmRvbUl0ZW1Gcm9tQ29sb3IiLCJ3aW5uaW5nSXRlbUltZyIsIndpbm5pbmdJdGVtVGV4dCIsIndpbm5pbmdJdGVtRGl2IiwiYXBwZW5kIiwiY3VycmVudFdpbm5pbmdJdGVtUHJpY2UiLCJjaGFuY2VzIiwic2V0VGltZW91dCIsImNsYXNzTGlzdCIsInRleHRDb250ZW50IiwibG9jYWxTdG9yYWdlIiwidmFsdWUiLCJ0b0ZpeGVkIiwiY29uY2F0Iiwic3RhcnRPcGVuaW5nQW5pbWF0aW9uIiwiY3JlYXRlRWxlbWVudCIsIm5vcm1hbEl0ZW1JbWciLCJub3JtYWxJdGVtVGV4dCIsIm9wZW5lZCIsInJlc2V0T3BlbmluZyIsIk1hdGgiLCJyYW5kb20iLCJub3JtYWxJdGVtTnVtYmVyIiwibm9ybWFsSXRlbSIsIl9sb29wMiIsInNldEF0dHJpYnV0ZSIsInJlZCIsIm5vcm1hbEl0ZW1EaXYiLCJwdXJwbGUiLCJibHVlIiwiZ3JleSIsImZsb29yIiwibGVuZ3RoIiwicmVtb3ZlQmFsYW5jZU9uT3BlbiIsImJhY2tncm91bmQiLCJhZGRCYWxhbmNlIiwiaSIsInJlbW92ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdHlsZSIsInBpbmsiLCJzZXRXaW5uaW5nSXRlbSIsInBhcnNlRmxvYXQiLCJvcGVuQXVkaW8iLCJwbGF5Il0sIm1hcHBpbmdzIjoiYUFBQSxJ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T0FBT1ksRUFBZUMsQ0FBYyxFQUMvQ1UsRUFBY3ZCLE9BQU9tQixDQUFVLEVBQy9CcEMsUUFBUWlCLE9BQU91QixDQUFhLEVBRTVCcEIsV0FBVyxXQUNWb0IsRUFBY1UsT0FBTyxDQUN0QixFQUFHLElBQUksQ0FDUixFQTdEMkIsQ0E4RDVCLEVBRU1sQixhQUFlLFdBQ3BCaEMsUUFBUXFCLFVBQVU2QixPQUFPLFdBQVcsQ0FDckMsRUFFQXJELFFBQVFzRCxpQkFBaUIsUUFBUyxXQUNsQixDQUFBLElBQVhwQixRQUE2RCxHQUF6Q3dCLFdBQVc3QyxjQUFjWSxXQUFXLElBQzNESyxzQkFBc0IsRUFDdEI2QixVQUFVQyxLQUFLLEVBRWpCLENBQUMiLCJmaWxlIjoiY2FzZWFudWJpcy5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBvcGVuQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcGVuLWJ0blwiKTtcclxuY29uc3QgY2FzZUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FzZVwiKTtcclxuY29uc3Qgd2lubmluZ0l0ZW1Cb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbVwiKTtcclxuY29uc3Qgd2lubmluZ0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmluZy1pdGVtIGltZ1wiKTtcclxuY29uc3Qgd2lubmluZ0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmluZy1pdGVtLWJ1dHRvblwiKTtcclxuY29uc3Qgc3Bpbm5pbmdCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9wZW4tYnRuLS1zcGlubmluZ1wiKTtcclxuY29uc3QgYmFsYW5jZUFtb3VudE1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19iYWxhbmNlLWFtb3VudFwiKTtcclxuY29uc3Qgb3BlbkF1ZGlvID0gbmV3IEF1ZGlvKFwiLi9kaXN0L2F1ZGlvL29wZW4ubXAzXCIpO1xyXG5jb25zdCBpdGVtc0FudWJpc1ByaWNlID0gW1xyXG5cdFsyMDMxXSxcclxuXHRbMjMyLCAxNTZdLFxyXG5cdFsyMSwgMTIsIDldLFxyXG5cdFs5LCA0LCAyLCAxXSxcclxuXHRbMC45LCAwLjgsIDAuNiwgMC43XSxcclxuXHRbMC4xMiwgMC4xNSwgMC4yLCAwLjE0LCAwLjExXSxcclxuXTtcclxuY29uc3QgaXRlbXNBbnViaXNJbWcgPSBbXHJcblx0W1wiLi9kaXN0L2ltZy9hbnViaXMvZXllb2Zob3J1cy5wbmdcIl0sXHJcblx0W1xyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9hcGVwJ3NjdXJzZS5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvd2F0ZXJzb2ZuZXBodGh5cy5wbmdcIixcclxuXHRdLFxyXG5cdFtcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvcmFtZXNlJ3NyZWFjaC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvc2NhcmFicnVzaC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvc29iZWsnc2JpdGUucG5nXCIsXHJcblx0XSxcclxuXHRbXHJcblx0XHRcIi4vZGlzdC9pbWcvYW51YmlzL2JsYWNrbmlsZS5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvc3RlZWxkZWx0YS5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvbXVtbXknc3JvdC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvY29wcGVyY29hdGVkLnBuZ1wiLFxyXG5cdF0sXHJcblx0W1xyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9tdWRzcGVjLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9kZXNlcnR0YWN0aWNhbC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvYXp1cmVnbHlwaC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvZWNob2luZ3NhbmRzLnBuZ1wiLFxyXG5cdF0sXHJcblx0W1xyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9oaWVyb2dseXBoLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9zbmFrZXBpdC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvc3VibWVyZ2VkLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9zdW5iYWtlZC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvaW5sYXkucG5nXCIsXHJcblx0XSxcclxuXTtcclxuY29uc3QgaXRlbXNBbnViaXNOYW1lID0gW1xyXG5cdFtcIk00QTQgfCBFeWUgb2YgSG9ydXNcIl0sXHJcblx0W1wiUDI1MCB8IEFwZXAncyBDdXJzZVwiLCBcIkZBTUFTIHwgV2F0ZXJzIG9mIE5lcGh0aHlzXCJdLFxyXG5cdFtcIkdsb2NrLTE4IHwgUmFtZXNlJ3MgUmVhY2hcIiwgXCJQOTAgfCBTY2FyYUIgUnVzaFwiLCBcIk5vdmEgfCBTb2JlaydzIEJpdGVcIl0sXHJcblx0W1xyXG5cdFx0XCJBV1AgfCBCbGFjayBOaWxlXCIsXHJcblx0XHRcIkFLNDcgfCBTdGVlbCBEZWx0YVwiLFxyXG5cdFx0XCJUZWMtOSB8IE11bW15J3MgUm90XCIsXHJcblx0XHRcIk1BRy03IHwgQ29wcGVyIENvYXRlZFwiLFxyXG5cdF0sXHJcblx0W1xyXG5cdFx0XCJNNEExLVMgfCBNdWQtU3BlY1wiLFxyXG5cdFx0XCJVU1AtUyB8IERlc2VydCBUYWN0aWNhbFwiLFxyXG5cdFx0XCJTU0cgMDggfCBBenVyZSBHbHlwaFwiLFxyXG5cdFx0XCJNQUMtMTAgfCBFY2hvaW5nIFNhbmRzXCIsXHJcblx0XSxcclxuXHRbXHJcblx0XHRcIlhNMTAxNCB8IEhpZXJvZ2x5cGhcIixcclxuXHRcdFwiQVVHIHwgU25ha2UgUGl0XCIsXHJcblx0XHRcIk0yNDkgfCBTdWJtZXJnZWRcIixcclxuXHRcdFwiTVA3IHwgU3VuYmFrZWRcIixcclxuXHRcdFwiUjggUmV2b2x2ZXIgfCBJbmxheVwiLFxyXG5cdF0sXHJcbl07XHJcbmNvbnN0IHJlZCA9XHJcblx0XCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoMjIyLCA3NiwgNjUsIC41KSAxMDAlKVwiO1xyXG5jb25zdCBwaW5rID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSgyNTUsIDUwLCAyNDAsIC41KSAxMDAlKVwiO1xyXG5jb25zdCBwdXJwbGUgPVxyXG5cdFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDEyNSwgNTAsIDI1NSwgLjUpIDEwMCUpXCI7XHJcbmNvbnN0IGxpZ2h0Qmx1ZSA9XHJcblx0XCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoMTYwLCAyMTEsIDI1NSwgLjUpIDEwMCUpXCI7IFxyXG5jb25zdCBibHVlID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSg1MCwgMTEzLCAyNTUsIC41KSAxMDAlKVwiO1xyXG5jb25zdCBncmV5ID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSg3OCwgNzgsIDc4LCAuNSkgMTAwJSlcIjtcclxubGV0IG9wZW5lZCA9IGZhbHNlO1xyXG5sZXQgY3VycmVudFdpbm5pbmdJdGVtUHJpY2U7XHJcbmNvbnN0IGJhbGFuY2VBbW91bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fbGlzdC1pdGVtLWJhbGFuY2UtYW1vdW50XCIpO1xyXG5cclxuYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKTtcclxuXHJcbmNvbnN0IGFkZEJhbGFuY2UgPSAoKSA9PiB7XHJcblx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSArIGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlO1xyXG5cclxuXHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxuXHRiYWxhbmNlQW1vdW50TW9iaWxlLnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZUJhbGFuY2VPbk9wZW4gPSAoKSA9PiB7XHJcblx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSAtIDU7XHJcblxyXG5cdGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSB2YWx1ZS50b0ZpeGVkKDIpO1xyXG5cdGJhbGFuY2VBbW91bnRNb2JpbGUudGV4dENvbnRlbnQgPSB2YWx1ZS50b0ZpeGVkKDIpO1xyXG59O1xyXG5cclxuY29uc3Qgc3RhcnRPcGVuaW5nQW5pbWF0aW9uID0gKCkgPT4ge1xyXG5cdGNhc2VCb3guY2xhc3NMaXN0LmFkZChcIm9wZW4tYW5pbVwiKTtcclxuXHRhZGRJdGVtcygpO1xyXG5cdG9wZW5lZCA9IHRydWU7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0b3BlbmVkID0gZmFsc2U7XHJcblx0XHRyZXNldE9wZW5pbmcoKTtcclxuXHR9LCA2NTAwKTtcclxufTtcclxuXHJcbmNvbnN0IHNldFdpbm5pbmdJdGVtID0gKCkgPT4ge1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRsZXQgY2hhbmNlcyA9IHdpbm5pbmdJdGVtTnVtYmVyO1xyXG5cclxuXHRpZiAoY2hhbmNlcyA8PSAxKSB7XHJcblx0XHRjaGFuY2VzID0gMDtcclxuXHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAxICYmIGNoYW5jZXMgPD0gMTApIHtcclxuXHRcdGNoYW5jZXMgPSAxO1xyXG5cdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDEwICYmIGNoYW5jZXMgPD0gMjApIHtcclxuXHRcdGNoYW5jZXMgPSAyO1xyXG5cdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDIwICYmIGNoYW5jZXMgPD0gNDApIHtcclxuXHRcdGNoYW5jZXMgPSAzO1xyXG5cdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDQwICYmIGNoYW5jZXMgPD0gNjApIHtcclxuXHRcdGNoYW5jZXMgPSA0O1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjaGFuY2VzID0gNTtcclxuXHR9XHJcblxyXG5cdGlmICh3aW5uaW5nSXRlbU51bWJlciA8PSAxKSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcmVkO1xyXG5cdH0gZWxzZSBpZiAod2lubmluZ0l0ZW1OdW1iZXIgPiAxICYmIHdpbm5pbmdJdGVtTnVtYmVyIDw9IDEwKSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcGluaztcclxuXHR9IGVsc2UgaWYgKHdpbm5pbmdJdGVtTnVtYmVyID4gMTAgJiYgd2lubmluZ0l0ZW1OdW1iZXIgPD0gMjApIHtcclxuXHRcdHdpbm5pbmdJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBwdXJwbGU7XHJcblx0fSBlbHNlIGlmICh3aW5uaW5nSXRlbU51bWJlciA+IDIwICYmIHdpbm5pbmdJdGVtTnVtYmVyIDw9IDQwKSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYmx1ZTtcclxuXHR9IGVsc2UgaWYgKHdpbm5pbmdJdGVtTnVtYmVyID4gNDAgJiYgd2lubmluZ0l0ZW1OdW1iZXIgPD0gNjApIHtcclxuXHRcdHdpbm5pbmdJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBsaWdodEJsdWU7XHJcblx0fSBlbHNlIHtcclxuXHRcdHdpbm5pbmdJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBncmV5O1xyXG5cdH1cclxuXHRcclxuXHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdE1hdGgucmFuZG9tKCkgKiBpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXS5sZW5ndGhcclxuXHQpO1xyXG5cclxuXHR3aW5uaW5nSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbVwiKTtcclxuXHR3aW5uaW5nSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1pbWdcIik7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XCJzcmNcIixcclxuXHRcdGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0KTtcclxuXHR3aW5uaW5nSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcImFsdFwiLFxyXG5cdFx0aXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0KTtcclxuXHR3aW5uaW5nSXRlbVRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0tbmFtZVwiKTtcclxuXHR3aW5uaW5nSXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdHdpbm5pbmdJdGVtLmFwcGVuZCh3aW5uaW5nSXRlbUltZywgd2lubmluZ0l0ZW1UZXh0KTtcclxuXHR3aW5uaW5nSXRlbURpdi5hcHBlbmQod2lubmluZ0l0ZW0pO1xyXG5cdGNhc2VCb3guYXBwZW5kKHdpbm5pbmdJdGVtRGl2KTtcclxuXHJcblx0Y3VycmVudFdpbm5pbmdJdGVtUHJpY2UgPSBpdGVtc0FudWJpc1ByaWNlW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRyZW1vdmVCYWxhbmNlT25PcGVuKCk7XHJcblxyXG5cdG9wZW5CdG4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRzcGlubmluZ0J0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGFkZEJhbGFuY2UoKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCBgJHtiYWxhbmNlQW1vdW50LnRleHRDb250ZW50fWApO1xyXG5cdH0sIDU1MDApO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHdpbm5pbmdJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0b3BlbkJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdHNwaW5uaW5nQnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0fSwgNjUwMCk7XHJcbn07XHJcblxyXG5jb25zdCBhZGRJdGVtcyA9ICgpID0+IHtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8PSAxMDsgaSsrKSB7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcblx0XHRsZXQgY2hhbmNlcyA9IG5vcm1hbEl0ZW1OdW1iZXI7XHJcblxyXG5cdFx0aWYgKGNoYW5jZXMgPD0gMSkge1xyXG5cdFx0XHRjaGFuY2VzID0gMDtcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDEgJiYgY2hhbmNlcyA8PSAxMCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMTtcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDEwICYmIGNoYW5jZXMgPD0gMjApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDI7XHJcblx0XHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAyMCAmJiBjaGFuY2VzIDw9IDQwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAzO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuY2VzID4gNDAgJiYgY2hhbmNlcyA8PSA2MCkge1xyXG5cdFx0XHRjaGFuY2VzID0gNDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNoYW5jZXMgPSA1O1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHJhbmRvbUl0ZW1Gcm9tQ29sb3IgPSBNYXRoLmZsb29yKFxyXG5cdFx0XHRNYXRoLnJhbmRvbSgpICogaXRlbXNBbnViaXNJbWdbY2hhbmNlc10ubGVuZ3RoXHJcblx0XHQpO1xyXG5cclxuXHRcdGlmIChub3JtYWxJdGVtTnVtYmVyIDw9IDEpIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcmVkO1xyXG5cdFx0fSBlbHNlIGlmIChub3JtYWxJdGVtTnVtYmVyID4gMSAmJiBub3JtYWxJdGVtTnVtYmVyIDw9IDEwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHBpbms7XHJcblx0XHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiAxMCAmJiBub3JtYWxJdGVtTnVtYmVyIDw9IDIwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHB1cnBsZTtcclxuXHRcdH0gZWxzZSBpZiAobm9ybWFsSXRlbU51bWJlciA+IDIwICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gNDApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYmx1ZTtcclxuXHRcdH0gZWxzZSBpZiAobm9ybWFsSXRlbU51bWJlciA+IDQwICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gNjApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gbGlnaHRCbHVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gZ3JleTtcclxuXHRcdH1cclxuXHJcblx0XHRub3JtYWxJdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1pbWdcIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJzcmNcIixcclxuXHRcdFx0aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJhbHRcIixcclxuXHRcdFx0aXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0tbmFtZVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRcdG5vcm1hbEl0ZW0uYXBwZW5kKG5vcm1hbEl0ZW1JbWcsIG5vcm1hbEl0ZW1UZXh0KTtcclxuXHRcdG5vcm1hbEl0ZW1EaXYuYXBwZW5kKG5vcm1hbEl0ZW0pO1xyXG5cdFx0Y2FzZUJveC5hcHBlbmQobm9ybWFsSXRlbURpdik7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdG5vcm1hbEl0ZW1EaXYucmVtb3ZlKCk7XHJcblx0XHR9LCA2NTAwKTtcclxuXHR9XHJcblxyXG5cdHNldFdpbm5pbmdJdGVtKCk7XHJcblxyXG5cdGZvciAobGV0IGkgPSAwOyBpIDw9IDQ7IGkrKykge1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG5cdFx0bGV0IGNoYW5jZXMgPSBub3JtYWxJdGVtTnVtYmVyO1xyXG5cclxuXHRcdGlmIChjaGFuY2VzIDw9IDEpIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDA7XHJcblx0XHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAxICYmIGNoYW5jZXMgPD0gMTApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDE7XHJcblx0XHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAxMCAmJiBjaGFuY2VzIDw9IDIwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAyO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuY2VzID4gMjAgJiYgY2hhbmNlcyA8PSA0MCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMztcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDQwICYmIGNoYW5jZXMgPD0gNjApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDQ7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjaGFuY2VzID0gNTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAobm9ybWFsSXRlbU51bWJlciA8PSAxKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHRcdH0gZWxzZSBpZiAobm9ybWFsSXRlbU51bWJlciA+IDEgJiYgbm9ybWFsSXRlbU51bWJlciA8PSAxMCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBwaW5rO1xyXG5cdFx0fSBlbHNlIGlmIChub3JtYWxJdGVtTnVtYmVyID4gMTAgJiYgbm9ybWFsSXRlbU51bWJlciA8PSAyMCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBwdXJwbGU7XHJcblx0XHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiAyMCAmJiBub3JtYWxJdGVtTnVtYmVyIDw9IDQwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGJsdWU7XHJcblx0XHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiA0MCAmJiBub3JtYWxJdGVtTnVtYmVyIDw9IDYwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGxpZ2h0Qmx1ZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGdyZXk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdG5vcm1hbEl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLWltZ1wiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcInNyY1wiLFxyXG5cdFx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcImFsdFwiLFxyXG5cdFx0XHRpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtVGV4dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1uYW1lXCIpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5hcHBlbmQobm9ybWFsSXRlbUltZywgbm9ybWFsSXRlbVRleHQpO1xyXG5cdFx0bm9ybWFsSXRlbURpdi5hcHBlbmQobm9ybWFsSXRlbSk7XHJcblx0XHRjYXNlQm94LmFwcGVuZChub3JtYWxJdGVtRGl2KTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0bm9ybWFsSXRlbURpdi5yZW1vdmUoKTtcclxuXHRcdH0sIDY1MDApO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IHJlc2V0T3BlbmluZyA9ICgpID0+IHtcclxuXHRjYXNlQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuLWFuaW1cIik7XHJcbn07XHJcblxyXG5vcGVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0aWYgKG9wZW5lZCA9PT0gZmFsc2UgJiYgcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KSA+PSAxKSB7XHJcblx0XHRzdGFydE9wZW5pbmdBbmltYXRpb24oKTtcclxuXHRcdG9wZW5BdWRpby5wbGF5KCk7XHJcblx0fVxyXG59KTsiXX0=
