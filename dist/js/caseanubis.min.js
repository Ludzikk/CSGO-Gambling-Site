"use strict";var currentWinningItemPrice,openBtn=document.querySelector(".open-btn"),caseBox=document.querySelector(".case"),winningItemBox=document.querySelector(".winning-item"),winningImg=document.querySelector(".winning-item img"),winningButton=document.querySelector(".winning-item-button"),openAudio=new Audio("./dist/audio/open.mp3"),itemsAnubisPrice=[[2031],[232,156],[21,12,9],[9,4,2,1],[.9,.8,.6,.7],[.12,.15,.2,.14,.11]],itemsAnubisImg=[["./dist/img/anubis/eyeofhorus.png"],["./dist/img/anubis/apep'scurse.png","./dist/img/anubis/watersofnephthys.png"],["./dist/img/anubis/ramese'sreach.png","./dist/img/anubis/scarabrush.png","./dist/img/anubis/sobek'sbite.png"],["./dist/img/anubis/blacknile.png","./dist/img/anubis/steeldelta.png","./dist/img/anubis/mummy'srot.png","./dist/img/anubis/coppercoated.png"],["./dist/img/anubis/mudspec.png","./dist/img/anubis/deserttactical.png","./dist/img/anubis/azureglyph.png","./dist/img/anubis/echoingsands.png"],["./dist/img/anubis/hieroglyph.png","./dist/img/anubis/snakepit.png","./dist/img/anubis/submerged.png","./dist/img/anubis/sunbaked.png","./dist/img/anubis/inlay.png"]],itemsAnubisName=[["M4A4 | Eye of Horus"],["P250 | Apep's Curse","FAMAS | Waters of Nephthys"],["Glock-18 | Ramese's Reach","P90 | ScaraB Rush","Nova | Sobek's Bite"],["AWP | Black Nile","AK47 | Steel Delta","Tec-9 | Mummy's Rot","MAG-7 | Copper Coated"],["M4A1-S | Mud-Spec","USP-S | Desert Tactical","SSG 08 | Azure Glyph","MAC-10 | Echoing Sands"],["XM1014 | Hieroglyph","AUG | Snake Pit","M249 | Submerged","MP7 | Sunbaked","R8 Revolver | Inlay"]],red="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(135,0,0,1) 100%)",pink="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(255,50,240,1) 100%)",purple="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(125,50,255,1) 100%)",lightBlue="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(160,211,255,1) 100%)",blue="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(50,113,255,1) 100%)",grey="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(78,78,78,1) 100%)",opened=!1,balanceAmount=document.querySelector(".nav__list-item-balance-amount"),addBalance=(balanceAmount.textContent=localStorage.getItem("Balance"),function(){var e=parseFloat(balanceAmount.textContent)+currentWinningItemPrice;balanceAmount.textContent=e.toFixed(2)}),removeBalanceOnOpen=function(){var e=parseFloat(balanceAmount.textContent)-5;balanceAmount.textContent=e.toFixed(2)},startOpeningAnimation=function(){caseBox.classList.add("open-anim"),addItems(),opened=!0,setTimeout(function(){opened=!1,resetOpening()},6500)},setWinningItem=function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),s=(s=e)<=1?0:1<s&&s<=10?1:10<s&&s<=20?2:20<s&&s<=40?3:40<s&&s<=60?4:5,m=(n.style.background=e<=1?red:1<e&&e<=10?pink:10<e&&e<=20?purple:20<e&&e<=40?blue:40<e&&e<=60?lightBlue:grey,Math.floor(Math.random()*itemsAnubisImg[s].length));n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[s][m]),i.setAttribute("alt",itemsAnubisName[s][m]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[s][m],n.append(i,a),t.append(n),caseBox.append(t),currentWinningItemPrice=itemsAnubisPrice[s][m],removeBalanceOnOpen(),setTimeout(function(){addBalance(),localStorage.setItem("Balance","".concat(balanceAmount.textContent))},5500),setTimeout(function(){t.remove(),winningImg.setAttribute("src",itemsAnubisImg[s][m])},6500)},addItems=function(){for(var e=0;e<=10;e++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),s=(s=e)<=1?0:1<s&&s<=10?1:10<s&&s<=20?2:20<s&&s<=40?3:40<s&&s<=60?4:5,m=Math.floor(Math.random()*itemsAnubisImg[s].length);n.style.background=e<=1?red:1<e&&e<=10?pink:10<e&&e<=20?purple:20<e&&e<=40?blue:40<e&&e<=60?lightBlue:grey,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[s][m]),i.setAttribute("alt",itemsAnubisName[s][m]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[s][m],n.append(i,a),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}();setWinningItem();for(var t=0;t<=4;t++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),s=(s=e)<=1?0:1<s&&s<=10?1:10<s&&s<=20?2:20<s&&s<=40?3:40<s&&s<=60?4:5,m=Math.floor(Math.random()*itemsAnubisImg[s].length);n.style.background=e<=1?red:1<e&&e<=10?pink:10<e&&e<=20?purple:20<e&&e<=40?blue:40<e&&e<=60?lightBlue:grey,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[s][m]),i.setAttribute("alt",itemsAnubisName[s][m]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[s][m],n.append(i,a),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}()},resetOpening=function(){caseBox.classList.remove("open-anim")};openBtn.addEventListener("click",function(){!1===opened&&1<=parseFloat(balanceAmount.textContent)&&(startOpeningAnimation(),openAudio.play())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhc2VhbnViaXMuanMiXSwibmFtZXMiOlsiY3VycmVudFdpbm5pbmdJdGVtUHJpY2UiLCJvcGVuQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2FzZUJveCIsIndpbm5pbmdJdGVtQm94Iiwid2lubmluZ0ltZyIsIndpbm5pbmdCdXR0b24iLCJpdGVtc0FudWJpc1ByaWNlIiwiaXRlbXNBbnViaXNJbWciLCJpdGVtc0FudWJpc05hbWUiLCJsaWdodEJsdWUiLCJiYWxhbmNlQW1vdW50IiwiYWRkSXRlbXMiLCJvcGVuZWQiLCJyZWQiLCJjaGFuY2VzIiwid2lubmluZ0l0ZW1OdW1iZXIiLCJibHVlIiwiZ3JleSIsImFkZEJhbGFuY2UiLCJ0ZXh0Q29udGVudCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJ2YWx1ZSIsInBhcnNlRmxvYXQiLCJ0b0ZpeGVkIiwicmVtb3ZlQmFsYW5jZU9uT3BlbiIsIndpbm5pbmdJdGVtIiwid2lubmluZ0l0ZW1JbWciLCJ3aW5uaW5nSXRlbVRleHQiLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRUaW1lb3V0Iiwid2lubmluZ0l0ZW1EaXYiLCJhcHBlbmQiLCJzZXRJdGVtIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwiY3JlYXRlRWxlbWVudCIsInJlbW92ZSIsInNldEF0dHJpYnV0ZSIsIm5vcm1hbEl0ZW1EaXYiLCJub3JtYWxJdGVtIiwibm9ybWFsSXRlbUltZyIsIm5vcm1hbEl0ZW1UZXh0Iiwibm9ybWFsSXRlbU51bWJlciIsInN0eWxlIiwiYmFja2dyb3VuZCIsInBpbmsiLCJyYW5kb21JdGVtRnJvbUNvbG9yIiwicHVycGxlIiwibGVuZ3RoIiwiY29uY2F0IiwiaSIsInJlc2V0T3BlbmluZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJzdGFydE9wZW5pbmdBbmltYXRpb24iLCJzZXRXaW5uaW5nSXRlbSIsIl9sb29wMiIsIm9wZW5BdWRpbyIsInBsYXkiXSwibWFwcGluZ3MiOiJhQUFBLElBa0tDQSx3QkFs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dEJHLFVBQVVDLEtBQUssRUFFakIsQ0FBQyIsImZpbGUiOiJjYXNlYW51YmlzLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG9wZW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9wZW4tYnRuXCIpO1xyXG5jb25zdCBjYXNlQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXNlXCIpO1xyXG5jb25zdCB3aW5uaW5nSXRlbUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmluZy1pdGVtXCIpO1xyXG5jb25zdCB3aW5uaW5nSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uaW5nLWl0ZW0gaW1nXCIpO1xyXG5jb25zdCB3aW5uaW5nQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uaW5nLWl0ZW0tYnV0dG9uXCIpO1xyXG5jb25zdCBvcGVuQXVkaW8gPSBuZXcgQXVkaW8oXCIuL2Rpc3QvYXVkaW8vb3Blbi5tcDNcIik7XHJcbmNvbnN0IGl0ZW1zQW51YmlzUHJpY2UgPSBbXHJcblx0WzIwMzFdLFxyXG5cdFsyMzIsIDE1Nl0sXHJcblx0WzIxLCAxMiwgOV0sXHJcblx0WzksIDQsIDIsIDFdLFxyXG5cdFswLjksIDAuOCwgMC42LCAwLjddLFxyXG5cdFswLjEyLCAwLjE1LCAwLjIsIDAuMTQsIDAuMTFdLFxyXG5dO1xyXG5jb25zdCBpdGVtc0FudWJpc0ltZyA9IFtcclxuXHRbXCIuL2Rpc3QvaW1nL2FudWJpcy9leWVvZmhvcnVzLnBuZ1wiXSxcclxuXHRbXHJcblx0XHRcIi4vZGlzdC9pbWcvYW51YmlzL2FwZXAnc2N1cnNlLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy93YXRlcnNvZm5lcGh0aHlzLnBuZ1wiLFxyXG5cdF0sXHJcblx0W1xyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9yYW1lc2Unc3JlYWNoLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9zY2FyYWJydXNoLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9zb2JlaydzYml0ZS5wbmdcIixcclxuXHRdLFxyXG5cdFtcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvYmxhY2tuaWxlLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9zdGVlbGRlbHRhLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9tdW1teSdzcm90LnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9jb3BwZXJjb2F0ZWQucG5nXCIsXHJcblx0XSxcclxuXHRbXHJcblx0XHRcIi4vZGlzdC9pbWcvYW51YmlzL211ZHNwZWMucG5nXCIsXHJcblx0XHRcIi4vZGlzdC9pbWcvYW51YmlzL2Rlc2VydHRhY3RpY2FsLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9henVyZWdseXBoLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9lY2hvaW5nc2FuZHMucG5nXCIsXHJcblx0XSxcclxuXHRbXHJcblx0XHRcIi4vZGlzdC9pbWcvYW51YmlzL2hpZXJvZ2x5cGgucG5nXCIsXHJcblx0XHRcIi4vZGlzdC9pbWcvYW51YmlzL3NuYWtlcGl0LnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9zdWJtZXJnZWQucG5nXCIsXHJcblx0XHRcIi4vZGlzdC9pbWcvYW51YmlzL3N1bmJha2VkLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9pbmxheS5wbmdcIixcclxuXHRdLFxyXG5dO1xyXG5jb25zdCBpdGVtc0FudWJpc05hbWUgPSBbXHJcblx0W1wiTTRBNCB8IEV5ZSBvZiBIb3J1c1wiXSxcclxuXHRbXCJQMjUwIHwgQXBlcCdzIEN1cnNlXCIsIFwiRkFNQVMgfCBXYXRlcnMgb2YgTmVwaHRoeXNcIl0sXHJcblx0W1wiR2xvY2stMTggfCBSYW1lc2UncyBSZWFjaFwiLCBcIlA5MCB8IFNjYXJhQiBSdXNoXCIsIFwiTm92YSB8IFNvYmVrJ3MgQml0ZVwiXSxcclxuXHRbXHJcblx0XHRcIkFXUCB8IEJsYWNrIE5pbGVcIixcclxuXHRcdFwiQUs0NyB8IFN0ZWVsIERlbHRhXCIsXHJcblx0XHRcIlRlYy05IHwgTXVtbXkncyBSb3RcIixcclxuXHRcdFwiTUFHLTcgfCBDb3BwZXIgQ29hdGVkXCIsXHJcblx0XSxcclxuXHRbXHJcblx0XHRcIk00QTEtUyB8IE11ZC1TcGVjXCIsXHJcblx0XHRcIlVTUC1TIHwgRGVzZXJ0IFRhY3RpY2FsXCIsXHJcblx0XHRcIlNTRyAwOCB8IEF6dXJlIEdseXBoXCIsXHJcblx0XHRcIk1BQy0xMCB8IEVjaG9pbmcgU2FuZHNcIixcclxuXHRdLFxyXG5cdFtcclxuXHRcdFwiWE0xMDE0IHwgSGllcm9nbHlwaFwiLFxyXG5cdFx0XCJBVUcgfCBTbmFrZSBQaXRcIixcclxuXHRcdFwiTTI0OSB8IFN1Ym1lcmdlZFwiLFxyXG5cdFx0XCJNUDcgfCBTdW5iYWtlZFwiLFxyXG5cdFx0XCJSOCBSZXZvbHZlciB8IElubGF5XCIsXHJcblx0XSxcclxuXTtcclxuY29uc3QgcmVkID0gXCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCByZ2JhKDAsMCwwLDEpIDUwJSwgcmdiYSgxMzUsMCwwLDEpIDEwMCUpXCI7XHJcbmNvbnN0IHBpbmsgPVxyXG5cdFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgcmdiYSgwLDAsMCwxKSA1MCUsIHJnYmEoMjU1LDUwLDI0MCwxKSAxMDAlKVwiO1xyXG5jb25zdCBwdXJwbGUgPVxyXG5cdFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgcmdiYSgwLDAsMCwxKSA1MCUsIHJnYmEoMTI1LDUwLDI1NSwxKSAxMDAlKVwiO1xyXG5jb25zdCBsaWdodEJsdWUgPVxyXG5cdFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgcmdiYSgwLDAsMCwxKSA1MCUsIHJnYmEoMTYwLDIxMSwyNTUsMSkgMTAwJSlcIjtcclxuY29uc3QgYmx1ZSA9XHJcblx0XCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCByZ2JhKDAsMCwwLDEpIDUwJSwgcmdiYSg1MCwxMTMsMjU1LDEpIDEwMCUpXCI7XHJcbmNvbnN0IGdyZXkgPVxyXG5cdFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgcmdiYSgwLDAsMCwxKSA1MCUsIHJnYmEoNzgsNzgsNzgsMSkgMTAwJSlcIjtcclxuLy8gY29uc3QgdXBncmFkZXJCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVwZ3JhZGVyXCIpO1xyXG4vLyBjb25zdCB1cGdyYWRlcklucHV0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5hbW91bnRcIik7XHJcbi8vIGNvbnN0IHVwZ3JhZGVyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51cGdyYWRlcl9fc3RhcnRcIik7XHJcbi8vIGNvbnN0IHVwZ3JhZGVyUGxheWVyQW1vdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51cGdyYWRlcl9fdGV4dC1pdGVtXCIpO1xyXG4vLyBjb25zdCB1cGdyYWRlckNoYW5jZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXBncmFkZXJfX3RleHQtY2hhbmNlXCIpO1xyXG4vLyBjb25zdCB1cGdyYWRlckFtb3VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXBncmFkZXJfX3RleHQtYW1vdW50XCIpO1xyXG4vLyBjb25zdCB1cGdyYWRlclNob3cgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbS1idXR0b24tLXVwZ3JhZGVcIik7XHJcbmxldCBvcGVuZWQgPSBmYWxzZTtcclxubGV0IGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlO1xyXG5jb25zdCBiYWxhbmNlQW1vdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX2xpc3QtaXRlbS1iYWxhbmNlLWFtb3VudFwiKTtcclxuLy8gbGV0IGNoYW5jZVRvVXBncmFkZTtcclxuXHJcbmJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIik7XHJcblxyXG5jb25zdCBhZGRCYWxhbmNlID0gKCkgPT4ge1xyXG5cdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0bGV0IHZhbHVlID0gYW1vdW50VmFsdWUgKyBjdXJyZW50V2lubmluZ0l0ZW1QcmljZTtcclxuXHJcblx0YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVCYWxhbmNlT25PcGVuID0gKCkgPT4ge1xyXG5cdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0bGV0IHZhbHVlID0gYW1vdW50VmFsdWUgLSA1O1xyXG5cclxuXHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxufTtcclxuXHJcbmNvbnN0IHN0YXJ0T3BlbmluZ0FuaW1hdGlvbiA9ICgpID0+IHtcclxuXHRjYXNlQm94LmNsYXNzTGlzdC5hZGQoXCJvcGVuLWFuaW1cIik7XHJcblx0YWRkSXRlbXMoKTtcclxuXHRvcGVuZWQgPSB0cnVlO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdG9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0cmVzZXRPcGVuaW5nKCk7XHJcblx0fSwgNjUwMCk7XHJcbn07XHJcblxyXG5jb25zdCBzZXRXaW5uaW5nSXRlbSA9ICgpID0+IHtcclxuXHRjb25zdCB3aW5uaW5nSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHQvLyBjb25zdCBkcm9wc0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0Ly8gY29uc3QgZHJvcHNJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHQvLyBjb25zdCBkcm9wc0l0ZW1OYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0bGV0IGNoYW5jZXMgPSB3aW5uaW5nSXRlbU51bWJlcjtcclxuXHJcblx0aWYgKGNoYW5jZXMgPD0gMSkge1xyXG5cdFx0Y2hhbmNlcyA9IDA7XHJcblx0fSBlbHNlIGlmIChjaGFuY2VzID4gMSAmJiBjaGFuY2VzIDw9IDEwKSB7XHJcblx0XHRjaGFuY2VzID0gMTtcclxuXHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAxMCAmJiBjaGFuY2VzIDw9IDIwKSB7XHJcblx0XHRjaGFuY2VzID0gMjtcclxuXHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAyMCAmJiBjaGFuY2VzIDw9IDQwKSB7XHJcblx0XHRjaGFuY2VzID0gMztcclxuXHR9IGVsc2UgaWYgKGNoYW5jZXMgPiA0MCAmJiBjaGFuY2VzIDw9IDYwKSB7XHJcblx0XHRjaGFuY2VzID0gNDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y2hhbmNlcyA9IDU7XHJcblx0fVxyXG5cclxuXHRpZiAod2lubmluZ0l0ZW1OdW1iZXIgPD0gMSkge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHR9IGVsc2UgaWYgKHdpbm5pbmdJdGVtTnVtYmVyID4gMSAmJiB3aW5uaW5nSXRlbU51bWJlciA8PSAxMCkge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHBpbms7XHJcblx0fSBlbHNlIGlmICh3aW5uaW5nSXRlbU51bWJlciA+IDEwICYmIHdpbm5pbmdJdGVtTnVtYmVyIDw9IDIwKSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcHVycGxlO1xyXG5cdH0gZWxzZSBpZiAod2lubmluZ0l0ZW1OdW1iZXIgPiAyMCAmJiB3aW5uaW5nSXRlbU51bWJlciA8PSA0MCkge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGJsdWU7XHJcblx0fSBlbHNlIGlmICh3aW5uaW5nSXRlbU51bWJlciA+IDQwICYmIHdpbm5pbmdJdGVtTnVtYmVyIDw9IDYwKSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gbGlnaHRCbHVlO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gZ3JleTtcclxuXHR9XHJcblx0Ly8gd2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IFwicmVkXCI7XHJcblx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRNYXRoLnJhbmRvbSgpICogaXRlbXNBbnViaXNJbWdbY2hhbmNlc10ubGVuZ3RoXHJcblx0KTtcclxuXHJcblx0Ly8gZHJvcHNJdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZHJvcHNfX2xpc3QtaXRlbVwiKTtcclxuXHQvLyBkcm9wc0l0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJkcm9wc19fbGlzdC1pdGVtLWltZ1wiKTtcclxuXHQvLyBkcm9wc0l0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdC8vIFx0XCJzcmNcIixcclxuXHQvLyBcdGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0Ly8gKTtcclxuXHQvLyBkcm9wc0l0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdC8vIFx0XCJhbHRcIixcclxuXHQvLyBcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdC8vICk7XHJcblx0Ly8gZHJvcHNJdGVtTmFtZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImRyb3BzX19saXN0LWl0ZW0tbmFtZVwiKTtcclxuXHQvLyBkcm9wc0l0ZW1OYW1lLnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cdC8vIGRyb3BzSXRlbS5hcHBlbmQoZHJvcHNJdGVtSW1nLCBkcm9wc0l0ZW1OYW1lKTtcclxuXHQvLyBkcm9wc0xpc3QuYXBwZW5kKGRyb3BzSXRlbSk7XHJcblxyXG5cdHdpbm5pbmdJdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtXCIpO1xyXG5cdHdpbm5pbmdJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLWltZ1wiKTtcclxuXHR3aW5uaW5nSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcInNyY1wiLFxyXG5cdFx0aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHQpO1xyXG5cdHdpbm5pbmdJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFwiYWx0XCIsXHJcblx0XHRpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHQpO1xyXG5cdHdpbm5pbmdJdGVtVGV4dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1uYW1lXCIpO1xyXG5cdHdpbm5pbmdJdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0Ly8gY29uc29sZS5sb2coaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdKTtcclxuXHJcblx0d2lubmluZ0l0ZW0uYXBwZW5kKHdpbm5pbmdJdGVtSW1nLCB3aW5uaW5nSXRlbVRleHQpO1xyXG5cdHdpbm5pbmdJdGVtRGl2LmFwcGVuZCh3aW5uaW5nSXRlbSk7XHJcblx0Y2FzZUJveC5hcHBlbmQod2lubmluZ0l0ZW1EaXYpO1xyXG5cclxuXHRjdXJyZW50V2lubmluZ0l0ZW1QcmljZSA9IGl0ZW1zQW51YmlzUHJpY2VbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdHJlbW92ZUJhbGFuY2VPbk9wZW4oKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRhZGRCYWxhbmNlKCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIkJhbGFuY2VcIiwgYCR7YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudH1gKTtcclxuXHR9LCA1NTAwKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHR3aW5uaW5nSXRlbURpdi5yZW1vdmUoKTtcclxuXHRcdC8vIHdpbm5pbmdJdGVtQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHR3aW5uaW5nSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJzcmNcIixcclxuXHRcdFx0aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0fSwgNjUwMCk7XHJcbn07XHJcblxyXG5jb25zdCBhZGRJdGVtcyA9ICgpID0+IHtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8PSAxMDsgaSsrKSB7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcblx0XHRsZXQgY2hhbmNlcyA9IG5vcm1hbEl0ZW1OdW1iZXI7XHJcblxyXG5cdFx0aWYgKGNoYW5jZXMgPD0gMSkge1xyXG5cdFx0XHRjaGFuY2VzID0gMDtcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDEgJiYgY2hhbmNlcyA8PSAxMCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMTtcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDEwICYmIGNoYW5jZXMgPD0gMjApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDI7XHJcblx0XHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAyMCAmJiBjaGFuY2VzIDw9IDQwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAzO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuY2VzID4gNDAgJiYgY2hhbmNlcyA8PSA2MCkge1xyXG5cdFx0XHRjaGFuY2VzID0gNDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNoYW5jZXMgPSA1O1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHJhbmRvbUl0ZW1Gcm9tQ29sb3IgPSBNYXRoLmZsb29yKFxyXG5cdFx0XHRNYXRoLnJhbmRvbSgpICogaXRlbXNBbnViaXNJbWdbY2hhbmNlc10ubGVuZ3RoXHJcblx0XHQpO1xyXG5cclxuXHRcdGlmIChub3JtYWxJdGVtTnVtYmVyIDw9IDEpIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcmVkO1xyXG5cdFx0fSBlbHNlIGlmIChub3JtYWxJdGVtTnVtYmVyID4gMSAmJiBub3JtYWxJdGVtTnVtYmVyIDw9IDEwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHBpbms7XHJcblx0XHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiAxMCAmJiBub3JtYWxJdGVtTnVtYmVyIDw9IDIwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHB1cnBsZTtcclxuXHRcdH0gZWxzZSBpZiAobm9ybWFsSXRlbU51bWJlciA+IDIwICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gNDApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYmx1ZTtcclxuXHRcdH0gZWxzZSBpZiAobm9ybWFsSXRlbU51bWJlciA+IDQwICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gNjApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gbGlnaHRCbHVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gZ3JleTtcclxuXHRcdH1cclxuXHJcblx0XHRub3JtYWxJdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1pbWdcIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJzcmNcIixcclxuXHRcdFx0aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJhbHRcIixcclxuXHRcdFx0aXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0tbmFtZVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRcdG5vcm1hbEl0ZW0uYXBwZW5kKG5vcm1hbEl0ZW1JbWcsIG5vcm1hbEl0ZW1UZXh0KTtcclxuXHRcdG5vcm1hbEl0ZW1EaXYuYXBwZW5kKG5vcm1hbEl0ZW0pO1xyXG5cdFx0Y2FzZUJveC5hcHBlbmQobm9ybWFsSXRlbURpdik7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdG5vcm1hbEl0ZW1EaXYucmVtb3ZlKCk7XHJcblx0XHR9LCA2NTAwKTtcclxuXHR9XHJcblxyXG5cdHNldFdpbm5pbmdJdGVtKCk7XHJcblxyXG5cdGZvciAobGV0IGkgPSAwOyBpIDw9IDQ7IGkrKykge1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG5cdFx0bGV0IGNoYW5jZXMgPSBub3JtYWxJdGVtTnVtYmVyO1xyXG5cclxuXHRcdGlmIChjaGFuY2VzIDw9IDEpIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDA7XHJcblx0XHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAxICYmIGNoYW5jZXMgPD0gMTApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDE7XHJcblx0XHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAxMCAmJiBjaGFuY2VzIDw9IDIwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAyO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuY2VzID4gMjAgJiYgY2hhbmNlcyA8PSA0MCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMztcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDQwICYmIGNoYW5jZXMgPD0gNjApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDQ7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjaGFuY2VzID0gNTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAobm9ybWFsSXRlbU51bWJlciA8PSAxKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHRcdH0gZWxzZSBpZiAobm9ybWFsSXRlbU51bWJlciA+IDEgJiYgbm9ybWFsSXRlbU51bWJlciA8PSAxMCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBwaW5rO1xyXG5cdFx0fSBlbHNlIGlmIChub3JtYWxJdGVtTnVtYmVyID4gMTAgJiYgbm9ybWFsSXRlbU51bWJlciA8PSAyMCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBwdXJwbGU7XHJcblx0XHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiAyMCAmJiBub3JtYWxJdGVtTnVtYmVyIDw9IDQwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGJsdWU7XHJcblx0XHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiA0MCAmJiBub3JtYWxJdGVtTnVtYmVyIDw9IDYwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGxpZ2h0Qmx1ZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGdyZXk7XHJcblx0XHR9XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwic3JjXCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwiYWx0XCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0XHRub3JtYWxJdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0XHRub3JtYWxJdGVtLmFwcGVuZChub3JtYWxJdGVtSW1nLCBub3JtYWxJdGVtVGV4dCk7XHJcblx0XHRub3JtYWxJdGVtRGl2LmFwcGVuZChub3JtYWxJdGVtKTtcclxuXHRcdGNhc2VCb3guYXBwZW5kKG5vcm1hbEl0ZW1EaXYpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRub3JtYWxJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0fSwgNjUwMCk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgcmVzZXRPcGVuaW5nID0gKCkgPT4ge1xyXG5cdGNhc2VCb3guY2xhc3NMaXN0LnJlbW92ZShcIm9wZW4tYW5pbVwiKTtcclxufTtcclxuXHJcbi8vIGNvbnN0IHVwZ3JhZGVyU3RhcnQgPSAoKSA9PiB7XHJcbi8vIFx0Y29uc3QgcmFuZG9tTnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTtcclxuXHJcbi8vIFx0aWYgKGNoYW5jZVRvVXBncmFkZSA+PSByYW5kb21OdW0pIHtcclxuLy8gXHRcdGNvbnNvbGUubG9nKFwid29uXCIpO1xyXG4vLyBcdH0gZWxzZSB7XHJcbi8vIFx0XHRjb25zb2xlLmxvZyhcImxvc3RcIik7XHJcbi8vIFx0fVxyXG4vLyB9O1xyXG5cclxuLy8gY29uc3QgdXBncmFkZXJVcGRhdGVQbGF5ZXJBbW91bnQgPSAoKSA9PiB7XHJcbi8vIFx0dXBncmFkZXJQbGF5ZXJBbW91bnQudGV4dENvbnRlbnQgPSBgJHtjdXJyZW50V2lubmluZ0l0ZW1QcmljZX0kYDtcclxuLy8gfTtcclxuXHJcbi8vIGNvbnN0IHVwZ3JhZGVyVXBkYXRlQ2hhbmNlVG9XaW4gPSAoKSA9PiB7XHJcbi8vIFx0Y29uc3Qgd2luTnVtYmVyID0gKGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlIC8gdXBncmFkZXJJbnB1dC52YWx1ZSkgKiAxMDA7XHJcblxyXG4vLyBcdGNoYW5jZVRvVXBncmFkZSA9IHdpbk51bWJlcjtcclxuXHJcbi8vIFx0dXBncmFkZXJDaGFuY2UudGV4dENvbnRlbnQgPSBgJHt3aW5OdW1iZXIudG9GaXhlZCgyKX0lYDtcclxuLy8gXHR1cGdyYWRlckFtb3VudC50ZXh0Q29udGVudCA9IGAke3VwZ3JhZGVySW5wdXQudmFsdWV9JGA7XHJcbi8vIH07XHJcblxyXG5vcGVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0aWYgKG9wZW5lZCA9PT0gZmFsc2UgJiYgcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KSA+PSAxKSB7XHJcblx0XHRzdGFydE9wZW5pbmdBbmltYXRpb24oKTtcclxuXHRcdG9wZW5BdWRpby5wbGF5KCk7XHJcblx0fVxyXG59KTtcclxuXHJcbi8vIHdpbm5pbmdCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuLy8gXHR3aW5uaW5nSXRlbUJveC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG4vLyB9KTtcclxuXHJcbi8vIG9wZW5Ecm9wc0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT5cclxuLy8gXHRkcm9wc0JveC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpXHJcbi8vICk7XHJcblxyXG4vLyBjbG9zZURyb3BzQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiBkcm9wc0JveC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpKTtcclxuLy8gdXBncmFkZXJTaG93LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbi8vIFx0dXBncmFkZXJCb3guY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuLy8gXHR1cGdyYWRlclVwZGF0ZVBsYXllckFtb3VudCgpO1xyXG4vLyB9KTtcclxuLy8gdXBncmFkZXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHVwZ3JhZGVyU3RhcnQpO1xyXG4vLyB1cGdyYWRlcklucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB1cGdyYWRlclVwZGF0ZUNoYW5jZVRvV2luKTtcclxuIl19
