"use strict";var openBtn=document.querySelector(".open-btn"),caseBox=document.querySelector(".case"),winningItemBox=document.querySelector(".winning-item"),winningImg=document.querySelector(".winning-item img"),winningButton=document.querySelector(".winning-item-button"),dropsList=document.querySelector(".drops__list"),dropsBox=document.querySelector(".drops"),openDropsBtn=document.querySelector(".drops-btn"),closeDropsBtn=document.querySelector(".drops__close"),openAudio=new Audio("./dist/audio/open.mp3"),itemsImg=[["./dist/img/anubis/eyeofhorus.png"],["./dist/img/anubis/apep'scurse.png","./dist/img/anubis/watersofnephthys.png"],["./dist/img/anubis/ramese'sreach.png","./dist/img/anubis/scarabrush.png","./dist/img/anubis/sobek'sbite.png"],["./dist/img/anubis/blacknile.png","./dist/img/anubis/steeldelta.png","./dist/img/anubis/mummy'srot.png","./dist/img/anubis/coppercoated.png"],["./dist/img/anubis/mudspec.png","./dist/img/anubis/deserttactical.png","./dist/img/anubis/azureglyph.png","./dist/img/anubis/echoingsands.png"],["./dist/img/anubis/hieroglyph.png","./dist/img/anubis/snakepit.png","./dist/img/anubis/submerged.png","./dist/img/anubis/sunbaked.png","./dist/img/anubis/inlay.png"]],itemsName=[["M4A4 | Eye of Horus"],["P250 | Apep's Curse","FAMAS | Waters of Nephthys"],["Glock-18 | Ramese's Reach","P90 | ScaraB Rush","Nova | Sobek's Bite"],["AWP | Black Nile","AK47 | Steel Delta","Tec-9 | Mummy's Rot","MAG-7 | Copper Coated"],["M4A1-S | Mud-Spec","USP-S | Desert Tactical","SSG 08 | Azure Glyph","MAC-10 | Echoing Sands"],["XM1014 | Hieroglyph","AUG | Snake Pit","M249 | Submerged","MP7 | Sunbaked","R8 Revolver | Inlay"]],red="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(135,0,0,1) 100%)",pink="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(255,50,240,1) 100%)",purple="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(125,50,255,1) 100%)",lightBlue="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(160,211,255,1) 100%)",blue="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(50,113,255,1) 100%)",grey="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(78,78,78,1) 100%)",opened=!1,startOpeningAnimation=function(){caseBox.classList.add("open-anim"),addItems(),opened=!0,setTimeout(function(){opened=!1,resetOpening()},6500)},setWinningItem=function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),s=document.createElement("p"),a=document.createElement("li"),r=document.createElement("img"),o=document.createElement("p"),m=(m=e)<=1?0:1<m&&m<=10?1:10<m&&m<=20?2:20<m&&m<=40?3:40<m&&m<=60?4:5,d=(n.style.background=e<=1?red:1<e&&e<=10?pink:10<e&&e<=20?purple:20<e&&e<=40?blue:40<e&&e<=60?lightBlue:grey,Math.floor(Math.random()*itemsImg[m].length));a.setAttribute("class","drops__list-item"),r.setAttribute("class","drops__list-item-img"),r.setAttribute("src",itemsImg[m][d]),r.setAttribute("alt",itemsName[m][d]),o.setAttribute("class","drops__list-item-name"),o.textContent=itemsName[m][d],a.append(r,o),console.log(dropsList),console.log(a),dropsList.append(a),n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsImg[m][d]),i.setAttribute("alt",itemsName[m][d]),s.setAttribute("class","case-item-name"),s.textContent=itemsName[m][d],n.append(i,s),t.append(n),caseBox.append(t),setTimeout(function(){t.remove(),winningItemBox.classList.remove("hidden"),winningImg.setAttribute("src",itemsImg[m][d])},5500)},addItems=function(){for(var e=0;e<=10;e++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),s=document.createElement("p"),a=(a=e)<=1?0:1<a&&a<=10?1:10<a&&a<=20?2:20<a&&a<=40?3:40<a&&a<=60?4:5,r=Math.floor(Math.random()*itemsImg[a].length);n.style.background=e<=1?red:1<e&&e<=10?pink:10<e&&e<=20?purple:20<e&&e<=40?blue:40<e&&e<=60?lightBlue:grey,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsImg[a][r]),i.setAttribute("alt",itemsName[a][r]),s.setAttribute("class","case-item-name"),s.textContent=itemsName[a][r],n.append(i,s),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}();setWinningItem();for(var t=0;t<=4;t++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),s=document.createElement("p"),a=(a=e)<=1?0:1<a&&a<=10?1:10<a&&a<=20?2:20<a&&a<=40?3:40<a&&a<=60?4:5,r=Math.floor(Math.random()*itemsImg[a].length);n.style.background=e<=1?red:1<e&&e<=10?pink:10<e&&e<=20?purple:20<e&&e<=40?blue:40<e&&e<=60?lightBlue:grey,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsImg[a][r]),i.setAttribute("alt",itemsName[a][r]),s.setAttribute("class","case-item-name"),s.textContent=itemsName[a][r],n.append(i,s),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}()},resetOpening=function(){caseBox.classList.remove("open-anim")};openBtn.addEventListener("click",function(){!1===opened&&(startOpeningAnimation(),openAudio.play())}),winningButton.addEventListener("click",function(){winningItemBox.classList.add("hidden")}),openDropsBtn.addEventListener("click",function(){return dropsBox.classList.remove("hidden")}),closeDropsBtn.addEventListener("click",function(){return dropsBox.classList.add("hidden")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJvcGVuQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2FzZUJveCIsIndpbm5pbmdJdGVtQm94Iiwid2lubmluZ0ltZyIsIndpbm5pbmdCdXR0b24iLCJkcm9wc0xpc3QiLCJkcm9wc0JveCIsIm9wZW5Ecm9wc0J0biIsImNsb3NlRHJvcHNCdG4iLCJhZGRJdGVtcyIsIm9wZW5lZCIsInNldFRpbWVvdXQiLCJjaGFuY2VzIiwicmVkIiwicmFuZG9tSXRlbUZyb21Db2xvciIsImRyb3BzSXRlbUltZyIsImRyb3BzSXRlbU5hbWUiLCJjb25zb2xlIiwiYXBwZW5kIiwid2lubmluZ0l0ZW1JbWciLCJzZXRBdHRyaWJ1dGUiLCJ3aW5uaW5nSXRlbVRleHQiLCJ3aW5uaW5nSXRlbSIsIndpbm5pbmdJdGVtRGl2Iiwid2lubmluZ0l0ZW1OdW1iZXIiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjcmVhdGVFbGVtZW50IiwiX2xvb3AiLCJkcm9wc0l0ZW0iLCJub3JtYWxJdGVtRGl2Iiwibm9ybWFsSXRlbVRleHQiLCJub3JtYWxJdGVtSW1nIiwibm9ybWFsSXRlbSIsInN0eWxlIiwicGluayIsInB1cnBsZSIsImJsdWUiLCJsaWdodEJsdWUiLCJncmV5IiwibGVuZ3RoIiwidGV4dENvbnRlbnQiLCJpdGVtc05hbWUiLCJsb2ciLCJzZXRXaW5uaW5nSXRlbSIsIl9sb29wMiIsIm5vcm1hbEl0ZW1OdW1iZXIiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJpIiwiYmFja2dyb3VuZCIsInJlc2V0T3BlbmluZyIsImFkZEV2ZW50TGlzdGVuZXIiLCJhZGQiLCJpdGVtc0ltZyIsInN0YXJ0T3BlbmluZ0FuaW1hdGlvbiIsIm9wZW5BdWRpbyIsInBsYXkiXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLFFBQVVDLFNBQVNDLGNBQWMsV0FBVyxFQUM1Q0MsUUFBVUYsU0FBU0MsY0FBYyxPQUFPLEVBRHhDRixlQUFtQkUsU0FBQUEsY0FB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QUMsRUFFRC9DLGFBQWE4QyxpQkFBaUIsUUFBUyxXQUFBLE9BQ3RDL0MsU0FBUzBDLFVBQVVDLE9BQU8sUUFBUSxDQUFDLENBQ3BDLEVBRUF6QyxjQUFjNkMsaUJBQWlCLFFBQVMsV0FBQSxPQUFNL0MsU0FBUzBDLFVBQVVNLElBQUksUUFBUSxDQUFDLENBQUEiLCJmaWxlIjoiYXBwLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG9wZW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9wZW4tYnRuXCIpO1xyXG5jb25zdCBjYXNlQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXNlXCIpO1xyXG5jb25zdCB3aW5uaW5nSXRlbUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmluZy1pdGVtXCIpO1xyXG5jb25zdCB3aW5uaW5nSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uaW5nLWl0ZW0gaW1nXCIpO1xyXG5jb25zdCB3aW5uaW5nQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uaW5nLWl0ZW0tYnV0dG9uXCIpO1xyXG5jb25zdCBkcm9wc0xpc3QgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRyb3BzX19saXN0XCIpO1xyXG5jb25zdCBkcm9wc0JveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZHJvcHNcIik7XHJcbmNvbnN0IG9wZW5Ecm9wc0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZHJvcHMtYnRuXCIpO1xyXG5jb25zdCBjbG9zZURyb3BzQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kcm9wc19fY2xvc2VcIik7XHJcbmNvbnN0IG9wZW5BdWRpbyA9IG5ldyBBdWRpbyhcIi4vZGlzdC9hdWRpby9vcGVuLm1wM1wiKTtcclxuY29uc3QgaXRlbXNJbWcgPSBbXHJcblx0W1wiLi9kaXN0L2ltZy9hbnViaXMvZXllb2Zob3J1cy5wbmdcIl0sXHJcblx0W1xyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9hcGVwJ3NjdXJzZS5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvd2F0ZXJzb2ZuZXBodGh5cy5wbmdcIixcclxuXHRdLFxyXG5cdFtcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvcmFtZXNlJ3NyZWFjaC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvc2NhcmFicnVzaC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvc29iZWsnc2JpdGUucG5nXCIsXHJcblx0XSxcclxuXHRbXHJcblx0XHRcIi4vZGlzdC9pbWcvYW51YmlzL2JsYWNrbmlsZS5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvc3RlZWxkZWx0YS5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvbXVtbXknc3JvdC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvY29wcGVyY29hdGVkLnBuZ1wiLFxyXG5cdF0sXHJcblx0W1xyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9tdWRzcGVjLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9kZXNlcnR0YWN0aWNhbC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvYXp1cmVnbHlwaC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvZWNob2luZ3NhbmRzLnBuZ1wiLFxyXG5cdF0sXHJcblx0W1xyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9oaWVyb2dseXBoLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9zbmFrZXBpdC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvc3VibWVyZ2VkLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9zdW5iYWtlZC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvaW5sYXkucG5nXCIsXHJcblx0XSxcclxuXTtcclxuY29uc3QgaXRlbXNOYW1lID0gW1xyXG5cdFtcIk00QTQgfCBFeWUgb2YgSG9ydXNcIl0sXHJcblx0W1wiUDI1MCB8IEFwZXAncyBDdXJzZVwiLCBcIkZBTUFTIHwgV2F0ZXJzIG9mIE5lcGh0aHlzXCJdLFxyXG5cdFtcIkdsb2NrLTE4IHwgUmFtZXNlJ3MgUmVhY2hcIiwgXCJQOTAgfCBTY2FyYUIgUnVzaFwiLCBcIk5vdmEgfCBTb2JlaydzIEJpdGVcIl0sXHJcblx0W1xyXG5cdFx0XCJBV1AgfCBCbGFjayBOaWxlXCIsXHJcblx0XHRcIkFLNDcgfCBTdGVlbCBEZWx0YVwiLFxyXG5cdFx0XCJUZWMtOSB8IE11bW15J3MgUm90XCIsXHJcblx0XHRcIk1BRy03IHwgQ29wcGVyIENvYXRlZFwiLFxyXG5cdF0sXHJcblx0W1xyXG5cdFx0XCJNNEExLVMgfCBNdWQtU3BlY1wiLFxyXG5cdFx0XCJVU1AtUyB8IERlc2VydCBUYWN0aWNhbFwiLFxyXG5cdFx0XCJTU0cgMDggfCBBenVyZSBHbHlwaFwiLFxyXG5cdFx0XCJNQUMtMTAgfCBFY2hvaW5nIFNhbmRzXCIsXHJcblx0XSxcclxuXHRbXHJcblx0XHRcIlhNMTAxNCB8IEhpZXJvZ2x5cGhcIixcclxuXHRcdFwiQVVHIHwgU25ha2UgUGl0XCIsXHJcblx0XHRcIk0yNDkgfCBTdWJtZXJnZWRcIixcclxuXHRcdFwiTVA3IHwgU3VuYmFrZWRcIixcclxuXHRcdFwiUjggUmV2b2x2ZXIgfCBJbmxheVwiLFxyXG5cdF0sXHJcbl07XHJcbmNvbnN0IHJlZCA9IFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgcmdiYSgwLDAsMCwxKSA1MCUsIHJnYmEoMTM1LDAsMCwxKSAxMDAlKVwiO1xyXG5jb25zdCBwaW5rID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMCwwLDAsMSkgNTAlLCByZ2JhKDI1NSw1MCwyNDAsMSkgMTAwJSlcIjtcclxuY29uc3QgcHVycGxlID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMCwwLDAsMSkgNTAlLCByZ2JhKDEyNSw1MCwyNTUsMSkgMTAwJSlcIjtcclxuY29uc3QgbGlnaHRCbHVlID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMCwwLDAsMSkgNTAlLCByZ2JhKDE2MCwyMTEsMjU1LDEpIDEwMCUpXCI7XHJcbmNvbnN0IGJsdWUgPVxyXG5cdFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgcmdiYSgwLDAsMCwxKSA1MCUsIHJnYmEoNTAsMTEzLDI1NSwxKSAxMDAlKVwiO1xyXG5jb25zdCBncmV5ID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMCwwLDAsMSkgNTAlLCByZ2JhKDc4LDc4LDc4LDEpIDEwMCUpXCI7XHJcbmxldCBvcGVuZWQgPSBmYWxzZTtcclxuXHJcbmNvbnN0IHN0YXJ0T3BlbmluZ0FuaW1hdGlvbiA9ICgpID0+IHtcclxuXHRjYXNlQm94LmNsYXNzTGlzdC5hZGQoXCJvcGVuLWFuaW1cIik7XHJcblx0YWRkSXRlbXMoKTtcclxuXHRvcGVuZWQgPSB0cnVlO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdG9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0cmVzZXRPcGVuaW5nKCk7XHJcblx0fSwgNjUwMCk7XHJcbn07XHJcblxyXG5jb25zdCBzZXRXaW5uaW5nSXRlbSA9ICgpID0+IHtcclxuXHRjb25zdCB3aW5uaW5nSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRjb25zdCBkcm9wc0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0Y29uc3QgZHJvcHNJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRjb25zdCBkcm9wc0l0ZW1OYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0bGV0IGNoYW5jZXMgPSB3aW5uaW5nSXRlbU51bWJlcjtcclxuXHJcblx0aWYgKGNoYW5jZXMgPD0gMSkge1xyXG5cdFx0Y2hhbmNlcyA9IDA7XHJcblx0fSBlbHNlIGlmIChjaGFuY2VzID4gMSAmJiBjaGFuY2VzIDw9IDEwKSB7XHJcblx0XHRjaGFuY2VzID0gMTtcclxuXHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAxMCAmJiBjaGFuY2VzIDw9IDIwKSB7XHJcblx0XHRjaGFuY2VzID0gMjtcclxuXHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAyMCAmJiBjaGFuY2VzIDw9IDQwKSB7XHJcblx0XHRjaGFuY2VzID0gMztcclxuXHR9IGVsc2UgaWYgKGNoYW5jZXMgPiA0MCAmJiBjaGFuY2VzIDw9IDYwKSB7XHJcblx0XHRjaGFuY2VzID0gNDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y2hhbmNlcyA9IDU7XHJcblx0fVxyXG5cclxuXHRpZiAod2lubmluZ0l0ZW1OdW1iZXIgPD0gMSkge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHR9IGVsc2UgaWYgKHdpbm5pbmdJdGVtTnVtYmVyID4gMSAmJiB3aW5uaW5nSXRlbU51bWJlciA8PSAxMCkge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHBpbms7XHJcblx0fSBlbHNlIGlmICh3aW5uaW5nSXRlbU51bWJlciA+IDEwICYmIHdpbm5pbmdJdGVtTnVtYmVyIDw9IDIwKSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcHVycGxlO1xyXG5cdH0gZWxzZSBpZiAod2lubmluZ0l0ZW1OdW1iZXIgPiAyMCAmJiB3aW5uaW5nSXRlbU51bWJlciA8PSA0MCkge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGJsdWU7XHJcblx0fSBlbHNlIGlmICh3aW5uaW5nSXRlbU51bWJlciA+IDQwICYmIHdpbm5pbmdJdGVtTnVtYmVyIDw9IDYwKSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gbGlnaHRCbHVlO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gZ3JleTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHJhbmRvbUl0ZW1Gcm9tQ29sb3IgPSBNYXRoLmZsb29yKFxyXG5cdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdCk7XHJcblxyXG5cdGRyb3BzSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImRyb3BzX19saXN0LWl0ZW1cIik7XHJcblx0ZHJvcHNJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZHJvcHNfX2xpc3QtaXRlbS1pbWdcIik7XHJcblx0ZHJvcHNJdGVtSW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBpdGVtc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXSk7XHJcblx0ZHJvcHNJdGVtSW1nLnNldEF0dHJpYnV0ZShcImFsdFwiLCBpdGVtc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl0pO1xyXG5cdGRyb3BzSXRlbU5hbWUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJkcm9wc19fbGlzdC1pdGVtLW5hbWVcIik7XHJcblx0ZHJvcHNJdGVtTmFtZS50ZXh0Q29udGVudCA9IGl0ZW1zTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHRkcm9wc0l0ZW0uYXBwZW5kKGRyb3BzSXRlbUltZywgZHJvcHNJdGVtTmFtZSk7XHJcblx0Y29uc29sZS5sb2coZHJvcHNMaXN0KTtcclxuXHRjb25zb2xlLmxvZyhkcm9wc0l0ZW0pO1xyXG5cdGRyb3BzTGlzdC5hcHBlbmQoZHJvcHNJdGVtKTtcclxuXHJcblx0d2lubmluZ0l0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdHdpbm5pbmdJdGVtSW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBpdGVtc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXSk7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFwiYWx0XCIsIGl0ZW1zTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXSk7XHJcblx0d2lubmluZ0l0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0d2lubmluZ0l0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHR3aW5uaW5nSXRlbS5hcHBlbmQod2lubmluZ0l0ZW1JbWcsIHdpbm5pbmdJdGVtVGV4dCk7XHJcblx0d2lubmluZ0l0ZW1EaXYuYXBwZW5kKHdpbm5pbmdJdGVtKTtcclxuXHRjYXNlQm94LmFwcGVuZCh3aW5uaW5nSXRlbURpdik7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0d2lubmluZ0l0ZW1EaXYucmVtb3ZlKCk7XHJcblx0XHR3aW5uaW5nSXRlbUJveC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0d2lubmluZ0ltZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgaXRlbXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl0pO1xyXG5cdH0sIDU1MDApO1xyXG59O1xyXG5cclxuY29uc3QgYWRkSXRlbXMgPSAoKSA9PiB7XHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPD0gMTA7IGkrKykge1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG5cdFx0bGV0IGNoYW5jZXMgPSBub3JtYWxJdGVtTnVtYmVyO1xyXG5cclxuXHRcdGlmIChjaGFuY2VzIDw9IDEpIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDA7XHJcblx0XHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAxICYmIGNoYW5jZXMgPD0gMTApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDE7XHJcblx0XHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAxMCAmJiBjaGFuY2VzIDw9IDIwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAyO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuY2VzID4gMjAgJiYgY2hhbmNlcyA8PSA0MCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMztcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDQwICYmIGNoYW5jZXMgPD0gNjApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDQ7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjaGFuY2VzID0gNTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAobm9ybWFsSXRlbU51bWJlciA8PSAxKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHRcdH0gZWxzZSBpZiAobm9ybWFsSXRlbU51bWJlciA+IDEgJiYgbm9ybWFsSXRlbU51bWJlciA8PSAxMCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBwaW5rO1xyXG5cdFx0fSBlbHNlIGlmIChub3JtYWxJdGVtTnVtYmVyID4gMTAgJiYgbm9ybWFsSXRlbU51bWJlciA8PSAyMCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBwdXJwbGU7XHJcblx0XHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiAyMCAmJiBub3JtYWxJdGVtTnVtYmVyIDw9IDQwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGJsdWU7XHJcblx0XHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiA0MCAmJiBub3JtYWxJdGVtTnVtYmVyIDw9IDYwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGxpZ2h0Qmx1ZTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGdyZXk7XHJcblx0XHR9XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgaXRlbXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl0pO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgaXRlbXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdKTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0XHRub3JtYWxJdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0XHRub3JtYWxJdGVtLmFwcGVuZChub3JtYWxJdGVtSW1nLCBub3JtYWxJdGVtVGV4dCk7XHJcblx0XHRub3JtYWxJdGVtRGl2LmFwcGVuZChub3JtYWxJdGVtKTtcclxuXHRcdGNhc2VCb3guYXBwZW5kKG5vcm1hbEl0ZW1EaXYpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRub3JtYWxJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0fSwgNjUwMCk7XHJcblx0fVxyXG5cclxuXHRzZXRXaW5uaW5nSXRlbSgpO1xyXG5cclxuXHRmb3IgKGxldCBpID0gMDsgaSA8PSA0OyBpKyspIHtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGxldCBjaGFuY2VzID0gbm9ybWFsSXRlbU51bWJlcjtcclxuXHJcblx0XHRpZiAoY2hhbmNlcyA8PSAxKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAwO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuY2VzID4gMSAmJiBjaGFuY2VzIDw9IDEwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAxO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuY2VzID4gMTAgJiYgY2hhbmNlcyA8PSAyMCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMjtcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDIwICYmIGNoYW5jZXMgPD0gNDApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDM7XHJcblx0XHR9IGVsc2UgaWYgKGNoYW5jZXMgPiA0MCAmJiBjaGFuY2VzIDw9IDYwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSA0O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDU7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRcdE1hdGgucmFuZG9tKCkgKiBpdGVtc0ltZ1tjaGFuY2VzXS5sZW5ndGhcclxuXHRcdCk7XHJcblxyXG5cdFx0aWYgKG5vcm1hbEl0ZW1OdW1iZXIgPD0gMSkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSByZWQ7XHJcblx0XHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiAxICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gMTApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcGluaztcclxuXHRcdH0gZWxzZSBpZiAobm9ybWFsSXRlbU51bWJlciA+IDEwICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gMjApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcHVycGxlO1xyXG5cdFx0fSBlbHNlIGlmIChub3JtYWxJdGVtTnVtYmVyID4gMjAgJiYgbm9ybWFsSXRlbU51bWJlciA8PSA0MCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBibHVlO1xyXG5cdFx0fSBlbHNlIGlmIChub3JtYWxJdGVtTnVtYmVyID4gNDAgJiYgbm9ybWFsSXRlbU51bWJlciA8PSA2MCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBsaWdodEJsdWU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBncmV5O1xyXG5cdFx0fVxyXG5cclxuXHRcdG5vcm1hbEl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLWltZ1wiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFwic3JjXCIsIGl0ZW1zSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFwiYWx0XCIsIGl0ZW1zTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXSk7XHJcblx0XHRub3JtYWxJdGVtVGV4dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1uYW1lXCIpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5hcHBlbmQobm9ybWFsSXRlbUltZywgbm9ybWFsSXRlbVRleHQpO1xyXG5cdFx0bm9ybWFsSXRlbURpdi5hcHBlbmQobm9ybWFsSXRlbSk7XHJcblx0XHRjYXNlQm94LmFwcGVuZChub3JtYWxJdGVtRGl2KTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0bm9ybWFsSXRlbURpdi5yZW1vdmUoKTtcclxuXHRcdH0sIDY1MDApO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IHJlc2V0T3BlbmluZyA9ICgpID0+IHtcclxuXHRjYXNlQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuLWFuaW1cIik7XHJcbn07XHJcblxyXG5vcGVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0aWYgKG9wZW5lZCA9PT0gZmFsc2UpIHtcclxuXHRcdHN0YXJ0T3BlbmluZ0FuaW1hdGlvbigpO1xyXG5cdFx0b3BlbkF1ZGlvLnBsYXkoKTtcclxuXHR9XHJcbn0pO1xyXG5cclxud2lubmluZ0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdHdpbm5pbmdJdGVtQm94LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcbn0pO1xyXG5cclxub3BlbkRyb3BzQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PlxyXG5cdGRyb3BzQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIilcclxuKTtcclxuXHJcbmNsb3NlRHJvcHNCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IGRyb3BzQm94LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIikpO1xyXG4iXX0=
