"use strict";var currentWinningItemPrice,chanceToUpgrade,openBtn=document.querySelector(".open-btn"),caseBox=document.querySelector(".case"),winningItemBox=document.querySelector(".winning-item"),winningImg=document.querySelector(".winning-item img"),winningButton=document.querySelector(".winning-item-button"),dropsList=document.querySelector(".drops__list"),dropsBox=document.querySelector(".drops"),openDropsBtn=document.querySelector(".drops-btn"),closeDropsBtn=document.querySelector(".drops__close"),openAudio=new Audio("./dist/audio/open.mp3"),itemsAnubisPrice=[[2031],[232,156],[21,12,9],[9,4,2,1],[.9,.8,.6,.7],[.12,.15,.2,.14,.11]],itemsAnubisImg=[["./dist/img/anubis/eyeofhorus.png"],["./dist/img/anubis/apep'scurse.png","./dist/img/anubis/watersofnephthys.png"],["./dist/img/anubis/ramese'sreach.png","./dist/img/anubis/scarabrush.png","./dist/img/anubis/sobek'sbite.png"],["./dist/img/anubis/blacknile.png","./dist/img/anubis/steeldelta.png","./dist/img/anubis/mummy'srot.png","./dist/img/anubis/coppercoated.png"],["./dist/img/anubis/mudspec.png","./dist/img/anubis/deserttactical.png","./dist/img/anubis/azureglyph.png","./dist/img/anubis/echoingsands.png"],["./dist/img/anubis/hieroglyph.png","./dist/img/anubis/snakepit.png","./dist/img/anubis/submerged.png","./dist/img/anubis/sunbaked.png","./dist/img/anubis/inlay.png"]],itemsAnubisName=[["M4A4 | Eye of Horus"],["P250 | Apep's Curse","FAMAS | Waters of Nephthys"],["Glock-18 | Ramese's Reach","P90 | ScaraB Rush","Nova | Sobek's Bite"],["AWP | Black Nile","AK47 | Steel Delta","Tec-9 | Mummy's Rot","MAG-7 | Copper Coated"],["M4A1-S | Mud-Spec","USP-S | Desert Tactical","SSG 08 | Azure Glyph","MAC-10 | Echoing Sands"],["XM1014 | Hieroglyph","AUG | Snake Pit","M249 | Submerged","MP7 | Sunbaked","R8 Revolver | Inlay"]],red="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(135,0,0,1) 100%)",pink="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(255,50,240,1) 100%)",purple="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(125,50,255,1) 100%)",lightBlue="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(160,211,255,1) 100%)",blue="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(50,113,255,1) 100%)",grey="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(78,78,78,1) 100%)",upgraderBox=document.querySelector(".upgrader"),upgraderInput=document.querySelector(".amount"),upgraderBtn=document.querySelector(".upgrader__start"),upgraderPlayerAmount=document.querySelector(".upgrader__text-item"),upgraderChance=document.querySelector(".upgrader__text-chance"),upgraderAmount=document.querySelector(".upgrader__text-amount"),upgraderShow=document.querySelector(".winning-item-button--upgrade"),opened=!1,startOpeningAnimation=function(){caseBox.classList.add("open-anim"),addItems(),opened=!0,setTimeout(function(){opened=!1,resetOpening()},6500)},setWinningItem=function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),r=document.createElement("p"),a=document.createElement("li"),s=document.createElement("img"),u=document.createElement("p"),o=(o=e)<=1?0:1<o&&o<=10?1:10<o&&o<=20?2:20<o&&o<=40?3:40<o&&o<=60?4:5,d=(n.style.background=e<=1?red:1<e&&e<=10?pink:10<e&&e<=20?purple:20<e&&e<=40?blue:40<e&&e<=60?lightBlue:grey,Math.floor(Math.random()*itemsAnubisImg[o].length));a.setAttribute("class","drops__list-item"),s.setAttribute("class","drops__list-item-img"),s.setAttribute("src",itemsAnubisImg[o][d]),s.setAttribute("alt",itemsAnubisName[o][d]),u.setAttribute("class","drops__list-item-name"),u.textContent=itemsAnubisName[o][d],a.append(s,u),dropsList.append(a),n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[o][d]),i.setAttribute("alt",itemsAnubisName[o][d]),r.setAttribute("class","case-item-name"),r.textContent=itemsAnubisName[o][d],n.append(i,r),t.append(n),caseBox.append(t),currentWinningItemPrice=itemsAnubisPrice[o][d],console.log(currentWinningItemPrice),setTimeout(function(){t.remove(),winningItemBox.classList.remove("hidden"),winningImg.setAttribute("src",itemsAnubisImg[o][d])},5500)},addItems=function(){for(var e=0;e<=10;e++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),r=document.createElement("p"),a=(a=e)<=1?0:1<a&&a<=10?1:10<a&&a<=20?2:20<a&&a<=40?3:40<a&&a<=60?4:5,s=Math.floor(Math.random()*itemsAnubisImg[a].length);n.style.background=e<=1?red:1<e&&e<=10?pink:10<e&&e<=20?purple:20<e&&e<=40?blue:40<e&&e<=60?lightBlue:grey,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[a][s]),i.setAttribute("alt",itemsAnubisName[a][s]),r.setAttribute("class","case-item-name"),r.textContent=itemsAnubisName[a][s],n.append(i,r),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}();setWinningItem();for(var t=0;t<=4;t++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),r=document.createElement("p"),a=(a=e)<=1?0:1<a&&a<=10?1:10<a&&a<=20?2:20<a&&a<=40?3:40<a&&a<=60?4:5,s=Math.floor(Math.random()*itemsAnubisImg[a].length);n.style.background=e<=1?red:1<e&&e<=10?pink:10<e&&e<=20?purple:20<e&&e<=40?blue:40<e&&e<=60?lightBlue:grey,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[a][s]),i.setAttribute("alt",itemsAnubisName[a][s]),r.setAttribute("class","case-item-name"),r.textContent=itemsAnubisName[a][s],n.append(i,r),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}()},resetOpening=function(){caseBox.classList.remove("open-anim")},upgraderStart=function(){Math.floor(100*Math.random())<=chanceToUpgrade?console.log("won"):console.log("lost")},upgraderUpdatePlayerAmount=function(){upgraderPlayerAmount.textContent="".concat(currentWinningItemPrice,"$")},upgraderUpdateChanceToWin=function(){var e=currentWinningItemPrice/upgraderInput.value*100;chanceToUpgrade=e,upgraderChance.textContent="".concat(e.toFixed(2),"%"),upgraderAmount.textContent="".concat(upgraderInput.value,"$")};openBtn.addEventListener("click",function(){!1===opened&&(startOpeningAnimation(),openAudio.play())}),winningButton.addEventListener("click",function(){winningItemBox.classList.add("hidden")}),openDropsBtn.addEventListener("click",function(){return dropsBox.classList.remove("hidden")}),closeDropsBtn.addEventListener("click",function(){return dropsBox.classList.add("hidden")}),upgraderShow.addEventListener("click",function(){upgraderBox.classList.remove("hidden"),upgraderUpdatePlayerAmount()}),upgraderBtn.addEventListener("click",upgraderStart),upgraderInput.addEventListener("keyup",upgraderUpdateChanceToWin);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFwcC5qcyJdLCJuYW1lcyI6WyJ3aW5uaW5nSXRlbURpdiIsImNhc2VCb3giLCJvcGVuQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwid2lubmluZ0l0ZW1Cb3giLCJ3aW5uaW5nSW1nIiwid2lubmluZ0J1dHRvbiIsImRyb3BzTGlzdCIsImRyb3BzQm94Iiwib3BlbkRyb3BzQnRuIiwiY2xvc2VEcm9wc0J0biIsIml0ZW1zQW51YmlzUHJpY2UiLCJpdGVtc0FudWJpc0ltZyIsIml0ZW1zQW51YmlzTmFtZSIsImxpZ2h0Qmx1ZSIsImFkZEl0ZW1zIiwiY2hhbmNlcyIsIndpbm5pbmdJdGVtTnVtYmVyIiwicmVkIiwid2lubmluZ0l0ZW0iLCJyYW5kb21JdGVtRnJvbUNvbG9yIiwiZHJvcHNJdGVtSW1nIiwiZHJvcHNJdGVtTmFtZSIsImRyb3BzSXRlbSIsInNldEF0dHJpYnV0ZSIsIndpbm5pbmdJdGVtSW1nIiwid2lubmluZ0l0ZW1UZXh0IiwidGV4dENvbnRlbnQiLCJjb25zb2xlIiwiY3VycmVudFdpbm5pbmdJdGVtUHJpY2UiLCJzZXRUaW1lb3V0IiwiYWRkIiwib3BlbmVkIiwicmVzZXRPcGVuaW5nIiwiX2xvb3AiLCJzZXRXaW5uaW5nSXRlbSIsImZsb29yIiwiY3JlYXRlRWxlbWVudCIsIm5vcm1hbEl0ZW1OdW1iZXIiLCJub3JtYWxJdGVtIiwiYmFja2dyb3VuZCIsInN0eWxlIiwicGluayIsImdyZXkiLCJwdXJwbGUiLCJibHVlIiwibm9ybWFsSXRlbUltZyIsIm5vcm1hbEl0ZW1EaXYiLCJNYXRoIiwibGVuZ3RoIiwiaSIsIm5vcm1hbEl0ZW1UZXh0IiwiYXBwZW5kIiwiY2xhc3NMaXN0IiwicmVtb3ZlIiwicmFuZG9tIiwidXBncmFkZXJTdGFydCIsInJhbmRvbU51bSIsImNoYW5jZVRvVXBncmFkZSIsImxvZyIsInVwZ3JhZGVyUGxheWVyQW1vdW50IiwidXBncmFkZXJDaGFuY2UiLCJ3aW5OdW1iZXIiLCJ1cGdyYWRlckFtb3VudCIsImNvbmNhdCIsInZhbHVlIiwiYWRkRXZlbnRMaXN0ZW5lciIsInN0YXJ0T3BlbmluZ0FuaW1hdGlvbiIsInVwZ3JhZGVyU2hvdyIsInVwZ3JhZGVyQm94IiwidXBncmFkZXJVcGRhdGVQbGF5ZXJBbW91bnQiLCJ1cGdyYWRlckJ0biIsInVwZ3JhZGVySW5wdXQiLCJ1cGdyYWRlclVwZGF0ZUNoYW5jZVRvV2luIiwiX2xvb3AyIiwidG9GaXhlZCIsIm9wZW5BdWRpbyIsInBsYXkiXSwibWFwcGluZ3MiOiJhQUFBLElBa0xDQSx3QkFDQUMsZ0JBbkxLQyxRQUFVQyxTQUFTQyxjQUFjLFdBQVcsRUFDNUNILFFBQVVFLFNBQVNDLGNBQWMsT0FBTyxFQUR4Q0YsZUFBbUJFLFNBQUFBLGNBQWMsZUFBWSxFQUM3Q0gsV0FBVUUsU0FBU0MsY0FBYyxtQkFBUSxFQUN6Q0MsY0FBaUJGLFNBQVNDLGNBQWMsc0JBQWdCLEVBQ3hERSxVQUFhSCxTQUFTQyxjQUFjLGNBQUEsRUFDcENHLFNBQWFKLFNBQUdBLGNBQVNDLFFBQWMsRUFDdkNJLGFBQVlMLFNBQVNDLGNBQWMsWUFBZSxFQUNsREssY0FBV04sU0FBU0MsY0FBYyxlQUFTLEVBQzNDTSxVQUFZLElBQUdQLE1BQVNDLHVCQUFjLEVBQ3RDTyxpQkFBZ0JSLENBQ3RCLENBQUEsTUFDQSxDQUFBLElBQU1TLEtBUU4sQ0FBQSxHQUFNQyxHQUFBQSxHQStCTixDQUFBLEVBQU1DLEVBQUFBLEVBQUFBLEdBd0JOLENBQUEsR0FBUyxHQUFHLEdBQUEsSUFDWixDQUFBLElBQVUsSUFDVCxHQUFBLElBQUEsTUFHS0MsZUFDTCxDQUNELENBQUEsb0NBRUEsQ0FFQSxvQ0FDQSwwQ0FFQSxDQUNBLHNDQUNBLG1DQUNBLHFDQUVBLENBQ0Esa0NBRUEsbUNBQ0NkLG1DQUNBZSxzQ0E5REEsQ0FDQyxnQ0FDQSx1Q0FrRUQsbUNBQ0Esc0NBL0RBLENBbUVBLG1DQUNBLGlDQUNBLGtDQUNBLGlDQUNBLGdDQUdJQyxnQkFBVUMsQ0FqRWQsQ0FtRUEsdUJBbEVBLENBQUMsc0JBbUVX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QSxFQUNwRFosZUFBZXBDLFlBQVcsR0FBQXFDLE9BQU1RLGNBQWNQLE1BQUssR0FBQSxDQUNwRCxFQUVBaEUsUUFBUWlFLGlCQUFpQixRQUFTLFdBQ2xCLENBQUEsSUFBWGxDLFNBQ0htQyxzQkFBc0IsRUFDdEJTLFVBQVVDLEtBQUssRUFFakIsQ0FBQyxFQUVEdkUsY0FBYzRELGlCQUFpQixRQUFTLFdBQ3ZDOUQsZUFBZWlELFVBQVV0QixJQUFJLFFBQVEsQ0FDdEMsQ0FBQyxFQUVEdEIsYUFBYXlELGlCQUFpQixRQUFTLFdBQUEsT0FDdEMxRCxTQUFTNkMsVUFBVUMsT0FBTyxRQUFRLENBQUMsQ0FDcEMsRUFFQTVDLGNBQWN3RCxpQkFBaUIsUUFBUyxXQUFBLE9BQU0xRCxTQUFTNkMsVUFBVXRCLElBQUksUUFBUSxDQUFDLENBQUEsRUFDOUVxQyxhQUFhRixpQkFBaUIsUUFBUyxXQUN0Q0csWUFBWWhCLFVBQVVDLE9BQU8sUUFBUSxFQUNyQ2dCLDJCQUEyQixDQUM1QixDQUFDLEVBQ0RDLFlBQVlMLGlCQUFpQixRQUFTVixhQUFhLEVBQ25EZ0IsY0FBY04saUJBQWlCLFFBQVNPLHlCQUF5QiIsImZpbGUiOiJhcHAubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgb3BlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3Blbi1idG5cIik7XHJcbmNvbnN0IGNhc2VCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhc2VcIik7XHJcbmNvbnN0IHdpbm5pbmdJdGVtQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uaW5nLWl0ZW1cIik7XHJcbmNvbnN0IHdpbm5pbmdJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbSBpbWdcIik7XHJcbmNvbnN0IHdpbm5pbmdCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbS1idXR0b25cIik7XHJcbmNvbnN0IGRyb3BzTGlzdCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuZHJvcHNfX2xpc3RcIik7XHJcbmNvbnN0IGRyb3BzQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kcm9wc1wiKTtcclxuY29uc3Qgb3BlbkRyb3BzQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5kcm9wcy1idG5cIik7XHJcbmNvbnN0IGNsb3NlRHJvcHNCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmRyb3BzX19jbG9zZVwiKTtcclxuY29uc3Qgb3BlbkF1ZGlvID0gbmV3IEF1ZGlvKFwiLi9kaXN0L2F1ZGlvL29wZW4ubXAzXCIpO1xyXG5jb25zdCBpdGVtc0FudWJpc1ByaWNlID0gW1xyXG5cdFsyMDMxXSxcclxuXHRbMjMyLCAxNTZdLFxyXG5cdFsyMSwgMTIsIDldLFxyXG5cdFs5LCA0LCAyLCAxXSxcclxuXHRbMC45LCAwLjgsIDAuNiwgMC43XSxcclxuXHRbMC4xMiwgMC4xNSwgMC4yLCAwLjE0LCAwLjExXSxcclxuXTtcclxuY29uc3QgaXRlbXNBbnViaXNJbWcgPSBbXHJcblx0W1wiLi9kaXN0L2ltZy9hbnViaXMvZXllb2Zob3J1cy5wbmdcIl0sXHJcblx0W1xyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9hcGVwJ3NjdXJzZS5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvd2F0ZXJzb2ZuZXBodGh5cy5wbmdcIixcclxuXHRdLFxyXG5cdFtcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvcmFtZXNlJ3NyZWFjaC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvc2NhcmFicnVzaC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvc29iZWsnc2JpdGUucG5nXCIsXHJcblx0XSxcclxuXHRbXHJcblx0XHRcIi4vZGlzdC9pbWcvYW51YmlzL2JsYWNrbmlsZS5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvc3RlZWxkZWx0YS5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvbXVtbXknc3JvdC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvY29wcGVyY29hdGVkLnBuZ1wiLFxyXG5cdF0sXHJcblx0W1xyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9tdWRzcGVjLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9kZXNlcnR0YWN0aWNhbC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvYXp1cmVnbHlwaC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvZWNob2luZ3NhbmRzLnBuZ1wiLFxyXG5cdF0sXHJcblx0W1xyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9oaWVyb2dseXBoLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9zbmFrZXBpdC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvc3VibWVyZ2VkLnBuZ1wiLFxyXG5cdFx0XCIuL2Rpc3QvaW1nL2FudWJpcy9zdW5iYWtlZC5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9hbnViaXMvaW5sYXkucG5nXCIsXHJcblx0XSxcclxuXTtcclxuY29uc3QgaXRlbXNBbnViaXNOYW1lID0gW1xyXG5cdFtcIk00QTQgfCBFeWUgb2YgSG9ydXNcIl0sXHJcblx0W1wiUDI1MCB8IEFwZXAncyBDdXJzZVwiLCBcIkZBTUFTIHwgV2F0ZXJzIG9mIE5lcGh0aHlzXCJdLFxyXG5cdFtcIkdsb2NrLTE4IHwgUmFtZXNlJ3MgUmVhY2hcIiwgXCJQOTAgfCBTY2FyYUIgUnVzaFwiLCBcIk5vdmEgfCBTb2JlaydzIEJpdGVcIl0sXHJcblx0W1xyXG5cdFx0XCJBV1AgfCBCbGFjayBOaWxlXCIsXHJcblx0XHRcIkFLNDcgfCBTdGVlbCBEZWx0YVwiLFxyXG5cdFx0XCJUZWMtOSB8IE11bW15J3MgUm90XCIsXHJcblx0XHRcIk1BRy03IHwgQ29wcGVyIENvYXRlZFwiLFxyXG5cdF0sXHJcblx0W1xyXG5cdFx0XCJNNEExLVMgfCBNdWQtU3BlY1wiLFxyXG5cdFx0XCJVU1AtUyB8IERlc2VydCBUYWN0aWNhbFwiLFxyXG5cdFx0XCJTU0cgMDggfCBBenVyZSBHbHlwaFwiLFxyXG5cdFx0XCJNQUMtMTAgfCBFY2hvaW5nIFNhbmRzXCIsXHJcblx0XSxcclxuXHRbXHJcblx0XHRcIlhNMTAxNCB8IEhpZXJvZ2x5cGhcIixcclxuXHRcdFwiQVVHIHwgU25ha2UgUGl0XCIsXHJcblx0XHRcIk0yNDkgfCBTdWJtZXJnZWRcIixcclxuXHRcdFwiTVA3IHwgU3VuYmFrZWRcIixcclxuXHRcdFwiUjggUmV2b2x2ZXIgfCBJbmxheVwiLFxyXG5cdF0sXHJcbl07XHJcbmNvbnN0IHJlZCA9IFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgcmdiYSgwLDAsMCwxKSA1MCUsIHJnYmEoMTM1LDAsMCwxKSAxMDAlKVwiO1xyXG5jb25zdCBwaW5rID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMCwwLDAsMSkgNTAlLCByZ2JhKDI1NSw1MCwyNDAsMSkgMTAwJSlcIjtcclxuY29uc3QgcHVycGxlID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMCwwLDAsMSkgNTAlLCByZ2JhKDEyNSw1MCwyNTUsMSkgMTAwJSlcIjtcclxuY29uc3QgbGlnaHRCbHVlID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMCwwLDAsMSkgNTAlLCByZ2JhKDE2MCwyMTEsMjU1LDEpIDEwMCUpXCI7XHJcbmNvbnN0IGJsdWUgPVxyXG5cdFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgcmdiYSgwLDAsMCwxKSA1MCUsIHJnYmEoNTAsMTEzLDI1NSwxKSAxMDAlKVwiO1xyXG5jb25zdCBncmV5ID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMCwwLDAsMSkgNTAlLCByZ2JhKDc4LDc4LDc4LDEpIDEwMCUpXCI7XHJcbmNvbnN0IHVwZ3JhZGVyQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi51cGdyYWRlclwiKTtcclxuY29uc3QgdXBncmFkZXJJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuYW1vdW50XCIpO1xyXG5jb25zdCB1cGdyYWRlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXBncmFkZXJfX3N0YXJ0XCIpO1xyXG5jb25zdCB1cGdyYWRlclBsYXllckFtb3VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIudXBncmFkZXJfX3RleHQtaXRlbVwiKTtcclxuY29uc3QgdXBncmFkZXJDaGFuY2UgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVwZ3JhZGVyX190ZXh0LWNoYW5jZVwiKTtcclxuY29uc3QgdXBncmFkZXJBbW91bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnVwZ3JhZGVyX190ZXh0LWFtb3VudFwiKTtcclxuY29uc3QgdXBncmFkZXJTaG93ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uaW5nLWl0ZW0tYnV0dG9uLS11cGdyYWRlXCIpO1xyXG5sZXQgb3BlbmVkID0gZmFsc2U7XHJcbmxldCBjdXJyZW50V2lubmluZ0l0ZW1QcmljZTtcclxubGV0IGNoYW5jZVRvVXBncmFkZTtcclxuXHJcbmNvbnN0IHN0YXJ0T3BlbmluZ0FuaW1hdGlvbiA9ICgpID0+IHtcclxuXHRjYXNlQm94LmNsYXNzTGlzdC5hZGQoXCJvcGVuLWFuaW1cIik7XHJcblx0YWRkSXRlbXMoKTtcclxuXHRvcGVuZWQgPSB0cnVlO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdG9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0cmVzZXRPcGVuaW5nKCk7XHJcblx0fSwgNjUwMCk7XHJcbn07XHJcblxyXG5jb25zdCBzZXRXaW5uaW5nSXRlbSA9ICgpID0+IHtcclxuXHRjb25zdCB3aW5uaW5nSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRjb25zdCBkcm9wc0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0Y29uc3QgZHJvcHNJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRjb25zdCBkcm9wc0l0ZW1OYW1lID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0bGV0IGNoYW5jZXMgPSB3aW5uaW5nSXRlbU51bWJlcjtcclxuXHJcblx0aWYgKGNoYW5jZXMgPD0gMSkge1xyXG5cdFx0Y2hhbmNlcyA9IDA7XHJcblx0fSBlbHNlIGlmIChjaGFuY2VzID4gMSAmJiBjaGFuY2VzIDw9IDEwKSB7XHJcblx0XHRjaGFuY2VzID0gMTtcclxuXHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAxMCAmJiBjaGFuY2VzIDw9IDIwKSB7XHJcblx0XHRjaGFuY2VzID0gMjtcclxuXHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAyMCAmJiBjaGFuY2VzIDw9IDQwKSB7XHJcblx0XHRjaGFuY2VzID0gMztcclxuXHR9IGVsc2UgaWYgKGNoYW5jZXMgPiA0MCAmJiBjaGFuY2VzIDw9IDYwKSB7XHJcblx0XHRjaGFuY2VzID0gNDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y2hhbmNlcyA9IDU7XHJcblx0fVxyXG5cclxuXHRpZiAod2lubmluZ0l0ZW1OdW1iZXIgPD0gMSkge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHR9IGVsc2UgaWYgKHdpbm5pbmdJdGVtTnVtYmVyID4gMSAmJiB3aW5uaW5nSXRlbU51bWJlciA8PSAxMCkge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHBpbms7XHJcblx0fSBlbHNlIGlmICh3aW5uaW5nSXRlbU51bWJlciA+IDEwICYmIHdpbm5pbmdJdGVtTnVtYmVyIDw9IDIwKSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcHVycGxlO1xyXG5cdH0gZWxzZSBpZiAod2lubmluZ0l0ZW1OdW1iZXIgPiAyMCAmJiB3aW5uaW5nSXRlbU51bWJlciA8PSA0MCkge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGJsdWU7XHJcblx0fSBlbHNlIGlmICh3aW5uaW5nSXRlbU51bWJlciA+IDQwICYmIHdpbm5pbmdJdGVtTnVtYmVyIDw9IDYwKSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gbGlnaHRCbHVlO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gZ3JleTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHJhbmRvbUl0ZW1Gcm9tQ29sb3IgPSBNYXRoLmZsb29yKFxyXG5cdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdCk7XHJcblxyXG5cdGRyb3BzSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImRyb3BzX19saXN0LWl0ZW1cIik7XHJcblx0ZHJvcHNJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiZHJvcHNfX2xpc3QtaXRlbS1pbWdcIik7XHJcblx0ZHJvcHNJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFwic3JjXCIsXHJcblx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdCk7XHJcblx0ZHJvcHNJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFwiYWx0XCIsXHJcblx0XHRpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHQpO1xyXG5cdGRyb3BzSXRlbU5hbWUuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJkcm9wc19fbGlzdC1pdGVtLW5hbWVcIik7XHJcblx0ZHJvcHNJdGVtTmFtZS50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHRkcm9wc0l0ZW0uYXBwZW5kKGRyb3BzSXRlbUltZywgZHJvcHNJdGVtTmFtZSk7XHJcblx0ZHJvcHNMaXN0LmFwcGVuZChkcm9wc0l0ZW0pO1xyXG5cclxuXHR3aW5uaW5nSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbVwiKTtcclxuXHR3aW5uaW5nSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1pbWdcIik7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XCJzcmNcIixcclxuXHRcdGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0KTtcclxuXHR3aW5uaW5nSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcImFsdFwiLFxyXG5cdFx0aXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0KTtcclxuXHR3aW5uaW5nSXRlbVRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0tbmFtZVwiKTtcclxuXHR3aW5uaW5nSXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdHdpbm5pbmdJdGVtLmFwcGVuZCh3aW5uaW5nSXRlbUltZywgd2lubmluZ0l0ZW1UZXh0KTtcclxuXHR3aW5uaW5nSXRlbURpdi5hcHBlbmQod2lubmluZ0l0ZW0pO1xyXG5cdGNhc2VCb3guYXBwZW5kKHdpbm5pbmdJdGVtRGl2KTtcclxuXHJcblx0Y3VycmVudFdpbm5pbmdJdGVtUHJpY2UgPSBpdGVtc0FudWJpc1ByaWNlW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cdGNvbnNvbGUubG9nKGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlKTtcclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHdpbm5pbmdJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0d2lubmluZ0l0ZW1Cb3guY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHRcdHdpbm5pbmdJbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcInNyY1wiLFxyXG5cdFx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHR9LCA1NTAwKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZEl0ZW1zID0gKCkgPT4ge1xyXG5cdGZvciAobGV0IGkgPSAwOyBpIDw9IDEwOyBpKyspIHtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGxldCBjaGFuY2VzID0gbm9ybWFsSXRlbU51bWJlcjtcclxuXHJcblx0XHRpZiAoY2hhbmNlcyA8PSAxKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAwO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuY2VzID4gMSAmJiBjaGFuY2VzIDw9IDEwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAxO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuY2VzID4gMTAgJiYgY2hhbmNlcyA8PSAyMCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMjtcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDIwICYmIGNoYW5jZXMgPD0gNDApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDM7XHJcblx0XHR9IGVsc2UgaWYgKGNoYW5jZXMgPiA0MCAmJiBjaGFuY2VzIDw9IDYwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSA0O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDU7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRcdE1hdGgucmFuZG9tKCkgKiBpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXS5sZW5ndGhcclxuXHRcdCk7XHJcblxyXG5cdFx0aWYgKG5vcm1hbEl0ZW1OdW1iZXIgPD0gMSkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSByZWQ7XHJcblx0XHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiAxICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gMTApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcGluaztcclxuXHRcdH0gZWxzZSBpZiAobm9ybWFsSXRlbU51bWJlciA+IDEwICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gMjApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcHVycGxlO1xyXG5cdFx0fSBlbHNlIGlmIChub3JtYWxJdGVtTnVtYmVyID4gMjAgJiYgbm9ybWFsSXRlbU51bWJlciA8PSA0MCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBibHVlO1xyXG5cdFx0fSBlbHNlIGlmIChub3JtYWxJdGVtTnVtYmVyID4gNDAgJiYgbm9ybWFsSXRlbU51bWJlciA8PSA2MCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBsaWdodEJsdWU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBncmV5O1xyXG5cdFx0fVxyXG5cclxuXHRcdG5vcm1hbEl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLWltZ1wiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcInNyY1wiLFxyXG5cdFx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcImFsdFwiLFxyXG5cdFx0XHRpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtVGV4dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1uYW1lXCIpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5hcHBlbmQobm9ybWFsSXRlbUltZywgbm9ybWFsSXRlbVRleHQpO1xyXG5cdFx0bm9ybWFsSXRlbURpdi5hcHBlbmQobm9ybWFsSXRlbSk7XHJcblx0XHRjYXNlQm94LmFwcGVuZChub3JtYWxJdGVtRGl2KTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0bm9ybWFsSXRlbURpdi5yZW1vdmUoKTtcclxuXHRcdH0sIDY1MDApO1xyXG5cdH1cclxuXHJcblx0c2V0V2lubmluZ0l0ZW0oKTtcclxuXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPD0gNDsgaSsrKSB7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcblx0XHRsZXQgY2hhbmNlcyA9IG5vcm1hbEl0ZW1OdW1iZXI7XHJcblxyXG5cdFx0aWYgKGNoYW5jZXMgPD0gMSkge1xyXG5cdFx0XHRjaGFuY2VzID0gMDtcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDEgJiYgY2hhbmNlcyA8PSAxMCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMTtcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDEwICYmIGNoYW5jZXMgPD0gMjApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDI7XHJcblx0XHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAyMCAmJiBjaGFuY2VzIDw9IDQwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAzO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuY2VzID4gNDAgJiYgY2hhbmNlcyA8PSA2MCkge1xyXG5cdFx0XHRjaGFuY2VzID0gNDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNoYW5jZXMgPSA1O1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHJhbmRvbUl0ZW1Gcm9tQ29sb3IgPSBNYXRoLmZsb29yKFxyXG5cdFx0XHRNYXRoLnJhbmRvbSgpICogaXRlbXNBbnViaXNJbWdbY2hhbmNlc10ubGVuZ3RoXHJcblx0XHQpO1xyXG5cclxuXHRcdGlmIChub3JtYWxJdGVtTnVtYmVyIDw9IDEpIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcmVkO1xyXG5cdFx0fSBlbHNlIGlmIChub3JtYWxJdGVtTnVtYmVyID4gMSAmJiBub3JtYWxJdGVtTnVtYmVyIDw9IDEwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHBpbms7XHJcblx0XHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiAxMCAmJiBub3JtYWxJdGVtTnVtYmVyIDw9IDIwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHB1cnBsZTtcclxuXHRcdH0gZWxzZSBpZiAobm9ybWFsSXRlbU51bWJlciA+IDIwICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gNDApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYmx1ZTtcclxuXHRcdH0gZWxzZSBpZiAobm9ybWFsSXRlbU51bWJlciA+IDQwICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gNjApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gbGlnaHRCbHVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gZ3JleTtcclxuXHRcdH1cclxuXHJcblx0XHRub3JtYWxJdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1pbWdcIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJzcmNcIixcclxuXHRcdFx0aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJhbHRcIixcclxuXHRcdFx0aXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0tbmFtZVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRcdG5vcm1hbEl0ZW0uYXBwZW5kKG5vcm1hbEl0ZW1JbWcsIG5vcm1hbEl0ZW1UZXh0KTtcclxuXHRcdG5vcm1hbEl0ZW1EaXYuYXBwZW5kKG5vcm1hbEl0ZW0pO1xyXG5cdFx0Y2FzZUJveC5hcHBlbmQobm9ybWFsSXRlbURpdik7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdG5vcm1hbEl0ZW1EaXYucmVtb3ZlKCk7XHJcblx0XHR9LCA2NTAwKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCByZXNldE9wZW5pbmcgPSAoKSA9PiB7XHJcblx0Y2FzZUJveC5jbGFzc0xpc3QucmVtb3ZlKFwib3Blbi1hbmltXCIpO1xyXG59O1xyXG5cclxuY29uc3QgdXBncmFkZXJTdGFydCA9ICgpID0+IHtcclxuXHRjb25zdCByYW5kb21OdW0gPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cclxuXHRpZiAoY2hhbmNlVG9VcGdyYWRlID49IHJhbmRvbU51bSkge1xyXG5cdFx0Y29uc29sZS5sb2coXCJ3b25cIik7XHJcblx0fSBlbHNlIHtcclxuXHRcdGNvbnNvbGUubG9nKFwibG9zdFwiKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCB1cGdyYWRlclVwZGF0ZVBsYXllckFtb3VudCA9ICgpID0+IHtcclxuXHR1cGdyYWRlclBsYXllckFtb3VudC50ZXh0Q29udGVudCA9IGAke2N1cnJlbnRXaW5uaW5nSXRlbVByaWNlfSRgO1xyXG59O1xyXG5cclxuY29uc3QgdXBncmFkZXJVcGRhdGVDaGFuY2VUb1dpbiA9ICgpID0+IHtcclxuXHRjb25zdCB3aW5OdW1iZXIgPSAoY3VycmVudFdpbm5pbmdJdGVtUHJpY2UgLyB1cGdyYWRlcklucHV0LnZhbHVlKSAqIDEwMDtcclxuXHJcblx0Y2hhbmNlVG9VcGdyYWRlID0gd2luTnVtYmVyO1xyXG5cclxuXHR1cGdyYWRlckNoYW5jZS50ZXh0Q29udGVudCA9IGAke3dpbk51bWJlci50b0ZpeGVkKDIpfSVgO1xyXG5cdHVwZ3JhZGVyQW1vdW50LnRleHRDb250ZW50ID0gYCR7dXBncmFkZXJJbnB1dC52YWx1ZX0kYDtcclxufTtcclxuXHJcbm9wZW5CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRpZiAob3BlbmVkID09PSBmYWxzZSkge1xyXG5cdFx0c3RhcnRPcGVuaW5nQW5pbWF0aW9uKCk7XHJcblx0XHRvcGVuQXVkaW8ucGxheSgpO1xyXG5cdH1cclxufSk7XHJcblxyXG53aW5uaW5nQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0d2lubmluZ0l0ZW1Cb3guY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxufSk7XHJcblxyXG5vcGVuRHJvcHNCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+XHJcblx0ZHJvcHNCb3guY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKVxyXG4pO1xyXG5cclxuY2xvc2VEcm9wc0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gZHJvcHNCb3guY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKSk7XHJcbnVwZ3JhZGVyU2hvdy5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdHVwZ3JhZGVyQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0dXBncmFkZXJVcGRhdGVQbGF5ZXJBbW91bnQoKTtcclxufSk7XHJcbnVwZ3JhZGVyQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB1cGdyYWRlclN0YXJ0KTtcclxudXBncmFkZXJJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwia2V5dXBcIiwgdXBncmFkZXJVcGRhdGVDaGFuY2VUb1dpbik7XHJcbiJdfQ==
