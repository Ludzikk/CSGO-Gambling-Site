"use strict";var currentWinningItemPrice,openBtn=document.querySelector(".open-btn"),caseBox=document.querySelector(".case"),winningItemBox=document.querySelector(".winning-item"),winningImg=document.querySelector(".winning-item img"),winningButton=document.querySelector(".winning-item-button"),spinningBtn=document.querySelector(".open-btn--spinning"),balanceAmountMobile=document.querySelector(".nav__balance-amount"),openAudio=new Audio("./dist/audio/open.mp3"),itemsAnubisPrice=[[9521,9123],[5324,6231],[152.42],[39.12,45.52],[.12]],itemsAnubisImg=[["./dist/img/awp/dragonlore.png","./dist/img/awp/gungnir.png"],["./dist/img/awp/medusa.png","./dist/img/awp/theprince.png"],["./dist/img/awp/asimov.png"],["./dist/img/awp/wildfire.png","./dist/img/awp/neonoir.png"],["./dist/img/awp/safarimesh.png"]],itemsAnubisName=[["AWP | Dragonlore","AWP | Gungnir"],["AWP | Medusa","AWP | The Prince"],["AWP | Asimov"],["AWP | Wildfire","AWP | Neo-noir"],["AWP | Safari mesh"]],lastDropBg=["rgba(222, 76, 65, 0.2) 100%","rgba(222, 76, 65, 0.2) 100%","rgba(222, 76, 65, 0.2) 100%","rgba(222, 76, 65, 0.2) 100%","rgba(75, 138, 255, 0.2) 100%"],red="linear-gradient(180deg, black 40%, rgba(222, 76, 65, .5) 100%)",pink="linear-gradient(180deg, black 40%, rgba(255, 50, 240, .5) 100%)",purple="linear-gradient(180deg, black 40%, rgba(125, 50, 255, .5) 100%)",lightBlue="linear-gradient(180deg, black 40%, rgba(160, 211, 255, .5) 100%)",blue="linear-gradient(180deg, black 40%, rgba(50, 113, 255, .5) 100%)",grey="linear-gradient(180deg, black 40%, rgba(78, 78, 78, .5) 100%)",opened=!1,balanceAmount=document.querySelector(".nav__list-item-balance-amount"),addBalance=(balanceAmount.textContent=localStorage.getItem("Balance"),function(){var e=parseFloat(balanceAmount.textContent)+currentWinningItemPrice;balanceAmount.textContent=e.toFixed(2),balanceAmountMobile.textContent=e.toFixed(2)}),removeBalanceOnOpen=function(){var e=parseFloat(balanceAmount.textContent)-2e3;balanceAmount.textContent=e.toFixed(2),balanceAmountMobile.textContent=e.toFixed(2)},startOpeningAnimation=function(){caseBox.classList.add("open-anim"),addItems(),opened=!0,setTimeout(function(){opened=!1,resetOpening()},6500)},setWinningItem=function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),o=(o=e)<=5?0:5<o&&o<=10?1:10<o&&o<=20?2:20<o&&o<=30?3:4,r=(n.style.background=e<=5?red:5<e&&e<=10?pink:10<e&&e<=20?purple:20<e&&e<=30?blue:grey,Math.floor(Math.random()*itemsAnubisImg[o].length));n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[o][r]),i.setAttribute("alt",itemsAnubisName[o][r]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[o][r],n.append(i,a),t.append(n),caseBox.append(t),currentWinningItemPrice=itemsAnubisPrice[o][r],removeBalanceOnOpen(),openBtn.classList.add("hidden"),spinningBtn.classList.remove("hidden"),setTimeout(function(){addBalance(),localStorage.setItem("Balance","".concat(balanceAmount.textContent)),id++;var e=document.createElement("div"),t=document.createElement("img"),n=document.createElement("div"),i=document.createElement("p"),a=document.createElement("p"),s=document.createElement("img");o<=3?e.setAttribute("class","main__dropsbox-item main__dropsbox-item--red"):e.setAttribute("class","main__dropsbox-item main__dropsbox-item--blue"),e.setAttribute("id",id),t.setAttribute("class","main__dropsbox-item-img"),t.setAttribute("src","".concat(itemsAnubisImg[o][r])),t.setAttribute("alt","".concat(itemsAnubisImg[o][r])),a.setAttribute("class","main__dropsbox-item-name"),i.setAttribute("class","main__dropsbox-item-price"),s.setAttribute("class","main__dropsbox-item-pricebox-img"),s.setAttribute("src","./dist/img/other/coin.png"),s.setAttribute("alt","Coin Icon"),n.setAttribute("class","main__dropsbox-item-pricebox hidden"),i.textContent=itemsAnubisPrice[o][r],e.style.order="-"+id,a.textContent=itemsAnubisName[o][r],n.append(i,s),e.append(t,a,n),lastItemDrops.append(e),10<lastItemDrops.childElementCount&&lastItemDrops.firstElementChild.remove(),id%2==0?e.style.background="linear-gradient(90deg, #1d2126 25%, ".concat(lastDropBg[o]):e.style.background="linear-gradient(90deg, #282e35 25%, ".concat(lastDropBg[o]),e.addEventListener("mouseover",function(){n.classList.remove("hidden")}),e.addEventListener("mouseleave",function(){n.classList.add("hidden")})},5500),setTimeout(function(){t.remove(),openBtn.classList.remove("hidden"),spinningBtn.classList.add("hidden")},6500)},addItems=function(){for(var e=0;e<=10;e++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),s=(s=e)<=5?0:5<s&&s<=10?1:10<s&&s<=20?2:20<s&&s<=30?3:4,o=Math.floor(Math.random()*itemsAnubisImg[s].length);n.style.background=e<=5?red:5<e&&e<=10?pink:10<e&&e<=20?purple:20<e&&e<=30?blue:grey,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[s][o]),i.setAttribute("alt",itemsAnubisName[s][o]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[s][o],n.append(i,a),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}();setWinningItem();for(var t=0;t<=4;t++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),s=(s=e)<=5?0:5<s&&s<=10?1:10<s&&s<=20?2:20<s&&s<=30?3:4,o=Math.floor(Math.random()*itemsAnubisImg[s].length);n.style.background=e<=5?red:5<e&&e<=10?pink:10<e&&e<=20?purple:20<e&&e<=30?blue:grey,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[s][o]),i.setAttribute("alt",itemsAnubisName[s][o]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[s][o],n.append(i,a),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}()},resetOpening=function(){caseBox.classList.remove("open-anim")};openBtn.addEventListener("click",function(){!1===opened&&2e3<=parseFloat(balanceAmount.textContent)&&(startOpeningAnimation(),openAudio.play())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImF3cGNhc2UuanMiXSwibmFtZXMiOlsic2V0V2lubmluZ0l0ZW0iLCJvcGVuQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2FzZUJveCIsIndpbm5pbmdJdGVtQm94Iiwid2lubmluZ0ltZyIsIndpbm5pbmdCdXR0b24iLCJzcGlubmluZ0J0biIsImJhbGFuY2VBbW91bnRNb2JpbGUiLCJvcGVuQXVkaW8iLCJpdGVtc0FudWJpc1ByaWNlIiwiaXRlbXNBbnViaXNOYW1lIiwicGluayIsImJhbGFuY2VBbW91bnQiLCJ0ZXh0Q29udGVudCIsImFtb3VudFZhbHVlIiwibGFzdERyb3BCZyIsInN0YXJ0T3BlbmluZ0FuaW1hdGlvbiIsImNsYXNzTGlzdCIsImFkZEl0ZW1zIiwic2V0VGltZW91dCIsInJlc2V0T3BlbmluZyIsImdyZXkiLCJvcGVuZWQiLCJ3aW5uaW5nSXRlbU51bWJlciIsImZsb29yIiwicmFuZG9tIiwid2lubmluZ0l0ZW1UZXh0Iiwid2lubmluZ0l0ZW0iLCJsb2NhbFN0b3JhZ2UiLCJjcmVhdGVFbGVtZW50IiwidmFsdWUiLCJjdXJyZW50V2lubmluZ0l0ZW1QcmljZSIsImNoYW5jZXMiLCJ0b0ZpeGVkIiwicmVtb3ZlQmFsYW5jZU9uT3BlbiIsInBhcnNlRmxvYXQiLCJiYWNrZ3JvdW5kIiwicmFuZG9tSXRlbUZyb21Db2xvciIsIndpbm5pbmdJdGVtSW1nIiwic2V0QXR0cmlidXRlIiwid2lubmluZ0l0ZW1EaXYiLCJhcHBlbmQiLCJyZW1vdmUiLCJhZGRCYWxhbmNlIiwiaXRlbVByaWNlQm94IiwiaXRlbVByaWNlSWNvbiIsInJlZCIsInB1cnBsZSIsImJsdWUiLCJNYXRoIiwibGVuZ3RoIiwib3JkZXIiLCJpZCIsIml0ZW1zQW51YmlzSW1nIiwiaXRlbUltZyIsIml0ZW1UZXh0IiwibGFzdEl0ZW1Ecm9wcyIsImFkZEV2ZW50TGlzdGVuZXIiLCJhZGQiLCJzZXRJdGVtIiwiY29uY2F0Iiwibm9ybWFsSXRlbU51bWJlciIsIm5vcm1hbEl0ZW1EaXYiLCJub3JtYWxJdGVtIiwibm9ybWFsSXRlbUltZyIsIm5vcm1hbEl0ZW1UZXh0IiwiaXRlbSIsInN0eWxlIiwiaXRlbVByaWNlIiwiY2hpbGRFbGVtZW50Q291bnQiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIl9sb29wMiIsImkiLCJwbGF5Il0sIm1hcHBpbmdzIjoiYUFBQSxJQTZFTUEsd0JBN0VBQyxRQUFVQyxTQUFTQyxjQUFjLFdBQVcsRUFDNUNDLFFBQVVGLFNBQVNDLGNBQWMsT0FBTyxFQUR4Q0YsZUFBbUJFLFNBQUFBLGNBQWMsZUFBWSxFQUM3Q0MsV0FBVUYsU0FBU0MsY0FBYyxtQkFBUSxFQUN6Q0UsY0FBaUJILFNBQVNDLGNBQWMsc0JBQWdCLEVBQ3hERyxZQUFhSixTQUFTQyxjQUFjLHFCQUFvQixFQUN4REksb0JBQXdCTCxTQUFDQyxjQUFjLHNCQUF1QixFQUM5REssVUFBY04sSUFBQUEsTUFBU0MsdUJBQWMsRUFDckNNLGlCQUFtQixDQUN6QixDQUFBLEtBQU1DLE1BQ04sQ0FBQSxLQUFNQyxNQU9OLENBQUEsUUFPQSxDQUFBLE1BQU1DLE9BT04sQ0FBQSxNQVFNQyxlQUFPLENBQ2IsQ0FBQSxnQ0FDQyw4QkFDRCxDQUFBLDRCQUNDLGdDQUNELENBQUEsNkJBQ0EsQ0FBQSw4QkFBYSw4QkFDYixDQUFBLGtDQUVNQyxnQkFBZ0JaLENBRXRCWSxDQUFBQSxtQkFBY0MsaUJBRWQsQ0FBQSxlQUFtQixvQkF6QmxCLENBMEJBLGdCQXpCQSxDQTBCQSxpQkFBWUMsa0JBekJaLENBMkJBRixzQkFFQUcsV0FBQSxDQUVELDhCQTNCQyw4QkFDQSw4QkFDQSw4QkFDQSxnQ0FnQ0tDLElBQUFBLGlFQUNMZCxLQUFRZSxrRUFDUkMsT0E3QkEsa0VBZ0NBQyxVQTlCQSxtRUFnQ0NDLEtBQUFBLGtFQUNFQyxLQUFLLGdFQUNSQyxPQUFBLENBQUEsRUFHTUMsY0FBQUEsU0FBeUJDLGNBQVdDLGdDQUFlLEVBSW5EQyxZQWxDUGQsY0FnQ09lLFlBQXNCQyxhQUFDQyxRQUFtQixTQUFBLEVBRTFDSCxXQS9CTixJQWtDQUksRUFGY1AsV0FBQUEsY0FBaUJWLFdBQUEsRUFFYmtCLHdCQS9CbEJuQixjQWlDV29CLFlBQWVBLEVBQU9DLFFBQVEsQ0FBQSxFQWhDekMxQixvQkFpQ1lNLFlBQUFpQixFQUFBRyxRQUFBLENBQUEsQ0FoQ2IsR0FtQ0VDLG9CQUFzQixXQWhDdkIsSUFrQ0NKLEVBRFdLLFdBQUF2QixjQUFBQyxXQUFBLEVBQ0wsSUEvQlBELGNBaUNBQyxZQUFBaUIsRUFBQUcsUUFBQSxDQUFBLEVBaENBMUIsb0JBa0NJZ0IsWUFBd0JPLEVBQUFHLFFBQUEsQ0FBQSxDQWpDN0IsRUFvQ0VOLHNCQUFrQlMsV0FqQ25CbEMsUUFrQ09lLFVBQUlNLElBQUFBLFdBQW9CLEVBakMvQkwsU0FrQ0NTLEVBakNETCxPQWtDTyxDQUFBLEVBaENQSCxXQWtDTyxXQWpDTkcsT0FrQ0FLLENBQUFBLEVBQ0RQLGFBQUEsQ0FqQ0EsRUFtQ0EsSUFBTWlCLENBbENQLEVBd0NDQyxlQUFlQyxXQXJDZixJQXlDQUQsRUFBZUMsS0FDZGYsTUFDZ0JRLElBQWhCdEIsS0FBQUEsT0FBQUEsQ0FBZ0JzQixFQUVqQk4sRUFBZ0JhLFNBQWFWLGNBQVMsS0FBQSxFQUN0Q0gsRUFBZ0JiLFNBQVdnQixjQUFHbkIsSUFBZ0JzQixFQUU5Q0wsRUFBbUJXLFNBQUFBLGNBQWdCWixLQUFlLEVBQ2xEYyxFQUFzQmIsU0FBQUEsY0FBWSxHQUFBLEVBT2xDNUIsR0FGQW1DLEVBSlFPLElBSVJQLEVBRVFqQixFQUNJQSxFQUFaWCxHQUFzQm9DLEdBQU8sR0FFbkIsRUFDRyxHQUFaQyxHQUFZWCxHQUFBLEdBQ1pKLEVBRUksR0FBQUksR0FBQUEsR0FBQSxHQUNNLEVBRUpZLEVBNkJOQyxHQTNFQWxCLEVBbURJSyxNQUFZSSxXQUZoQmIsR0FBc0J2QixFQUVKOEMsSUFFVCxFQURIUCxHQUVKaEIsR0FBQSxHQUVLWixLQUVFLEdBREg0QixHQUVKaEIsR0FBQSxHQUVGd0IsT0FFMkIsR0FBdEJSLEdBQXNCaEIsR0FBQSxHQUNDeUIsS0FNdEIzQixLQUtRa0IsS0FBYWYsTUEvRDNCeUIsS0FnRUFKLE9BQUFBLEVBQWNOLGVBQWFQLEdBQU9rQixNQS9EbkMsR0FFQXZCLEVBZ0VVWSxhQUFZLFFBQUc5QixXQUFpQnVCLEVBL0QxQ00sRUFnRVlhLGFBQWNDLFFBQUUsZUFBQSxFQS9ENUJkLEVBZ0VVekIsYUEvRFQsTUFDQXdDLGVBZ0VZQyxHQUFTQyxFQS9EdEIsRUFDQWpCLEVBaUVLa0IsYUFoRUosTUFDQTlDLGdCQWlFQXNCLEdBQUFLLEVBaEVELEVBQ0FYLEVBa0VhVSxhQUFVLFFBQUEsZ0JBQUEsRUFqRXZCVixFQWtFUWIsWUFBQUgsZ0JBQUFzQixHQUFBSyxHQWhFUlYsRUFrRUNjLE9BQUFILEVBQUFaLENBQUEsRUFqRURjLEVBbUVNaUIsT0FBQUEsQ0FBaUIsRUFsRXZCdkQsUUFtRUUwQyxPQUFBQSxDQUF1QkYsRUFqRXpCWCx3QkFvRXVCdEIsaUJBQWN1QixHQUFNSyxHQWxFM0NILG9CQW9FRyxFQWxFSG5DLFFBcUVBb0IsVUFBV3VDLElBQUEsUUFBTSxFQXBFakJwRCxZQXFFQ2tDLFVBQWVFLE9BQVEsUUFBQSxFQW5FeEJ2QixXQXFFQ2IsV0FDRHFDLFdBQVEsRUFDUmYsYUFBQStCLFFBQUEsVUFBQSxHQUFBQyxPQUFBaEQsY0FBQUMsV0FBQSxDQUFBLEVBRXNCdUMsRUFBQSxHQXBFckIsSUFzRU1TLEVBQUFBLFNBQWdCaEMsY0FBY29CLEtBQUt4QixFQUNuQ3FDLEVBQUFBLFNBQWdCOUQsY0FBUzZCLEtBQWEsRUFDdENrQyxFQUFhL0QsU0FBUzZCLGNBQWMsS0FBSyxFQUN6Q21DLEVBQUFBLFNBQWdCaEUsY0FBUzZCLEdBQWEsRUFDdENvQyxFQUFBQSxTQUFpQmpFLGNBQVM2QixHQUFBQSxFQUU1QkcsRUFBVTZCLFNBQUFBLGNBQWdCLEtBQUEsRUFHN0I3QixHQUFXLEVBdkVYa0MsRUF3RUEzQixhQXZFQyxRQXlFRiw4Q0F2RUMsRUFFQTJCLEVBd0VBbEMsYUFDRCxRQXZFRSwrQ0FDRCxFQUdEa0MsRUE0RUNILGFBQVdJLEtBQU0vQixFQUFBQSxFQTNFbEJrQixFQTRFQ2YsYUFBVXNCLFFBQWdCLHlCQUF3QixFQTNFbkRQLEVBNEVDUyxhQTNFQSxNQTRFQSxHQUFBSCxPQUNBRyxlQUFXSSxHQUFNL0IsRUFBbUIsQ0EzRXJDLEVBQ0FrQixFQTRFQ1MsYUEzRUEsTUE0RUEsR0FBQUgsT0FDQUcsZUFBV0ksR0FBTS9CLEVBQWlCLENBM0VuQyxFQUNBbUIsRUE2RUFRLGFBQVd4QixRQUFhLDBCQUFxQixFQTVFN0M2QixFQTZFQUosYUFBY3pCLFFBQWEsMkJBQXlCLEVBNUVwRE0sRUE2RUFtQixhQUFjekIsUUFFYmMsa0NBQXdCaEIsRUE5RXpCUSxFQWdGQW1CLGFBQWN6QixNQUNSLDJCQUNvQkYsRUFqRjFCUSxFQW1GQW9CLGFBQWUxQixNQUFhLFdBQVMsRUFsRnJDSyxFQW1GQXFCLGFBQWVwRCxRQUFjSCxxQ0FBeUIyQixFQWxGdEQrQixFQW9GQUwsWUFBa0JDLGlCQUFlQyxHQUFlNUIsR0FuRmhENkIsRUFvRkFKLE1BQUFBLE1BQWNyQixJQUFPc0IsR0FuRnJCUixFQW9GTzFDLFlBQVFpRCxnQkFBYzlCLEdBQUFLLEdBbkY3Qk8sRUFxRldILE9BQUEyQixFQUFNdkIsQ0FBQSxFQXBGakJxQixFQXFGQ0osT0FBQUEsRUFBY3BCLEVBQVFFLENBQUEsRUFwRnZCWSxjQXFGUWYsT0FBQXlCLENBQUEsRUF4RG1CLEdBQTVCVixjQUFpQmEsbUJBMUJmYixjQTBCMEJjLGtCQUFBNUIsT0FBQSxFQTJEWDZCLEdBQUFBLEdBQUEsRUFqRmZMLEVBb0ZLTCxNQUFBQSxXQUFnQix1Q0FBQUQsT0FBa0M3QyxXQUFBaUIsRUFBQSxFQWxGdkRrQyxFQW9GS0gsTUFBQUEsV0FBYS9ELHVDQUFBQSxPQUE0QmUsV0FBQWlCLEVBQUEsRUFqRi9Da0MsRUFxRkFULGlCQUFjSSxZQUFnQixXQXBGN0JqQixFQXNGVTNCLFVBQU95QixPQUFBLFFBQUEsQ0FyRmxCLENBQUMsRUFFRHdCLEVBc0ZDbEMsaUJBQVcsYUFBQSxXQXJGWFksRUFzRlVaLFVBQVUwQixJQUFFLFFBQVcsQ0FyRmxDLENBQUMsQ0FDRixFQXNGQyxJQUFDLEVBcEZGdkMsV0FzRlEsV0FyRlBxQixFQXNGWUUsT0FBQSxFQXJGWjNDLFFBc0ZBa0IsVUFBQXlCLE9BQUEsUUFBQSxFQXJGQXBDLFlBdUZNK0IsVUFBQUEsSUFBbUIsUUFBUWIsQ0F0RmxDLEVBMEZDLElBQUlxQyxDQXpGTixFQTRGR0UsU0FBV0ksV0F6RmIsSUF5Rm1CL0IsSUFDakJvQyxFQUFNLEVBQUlYLEdBQUFBLEdBQUFBLENBQUFBLEdBQUFBLENBRE96QixXQXhGbEIsSUEwRkMyQixFQUFpQjNCLEtBQUFBLE1BQW1CLElBQU5XLEtBQU10QixPQUFBLENBQUEsRUFDcENxQyxFQUFVRCxTQUFnQmhDLGNBQVNnQyxLQUFBQSxFQUNuQ0UsRUFBV0ksU0FBTS9CLGNBQWlCLElBQUEsRUFDbEM0QixFQUFNaEUsU0FBQTZCLGNBQUEsS0FBQSxFQUNOa0MsRUFBaUIzQixTQUFVUCxjQUFPLEdBQUEsRUFyRmxDRyxHQTBGRGdDLEVBRld6QixJQUVFLEVBSWJ5QixFQUllekIsRUFBZjBCLEdBQWUxQixHQUFvQixHQUNuQzBCLEVBRWtCRCxHQUFsQkQsR0FBa0JDLEdBQWVDLEdBQ2pDSCxFQUNlQSxHQUFQckIsR0FBT3FCLEdBQWMsR0FFN0IzQyxFQUVRLEVBeERrQm9ELEVBQUF0QixLQUFBekIsTUFBQXlCLEtBQUF4QixPQUFBLEVBQUE0QixlQUFBckIsR0FBQWtCLE1BMEQzQixFQUlBYSxFQUFBSSxNQUFBL0IsV0FEQWxDLEdBQXdCLEVBQ3hCNEMsSUFFK0IsRUFBeEJXLEdBQTBCSSxHQUFNLEdBQ2YxQixLQUNBLEdBQXZCbkIsR0FBdUI2QyxHQUFBLEdBQ1BkLE9BQ2pCLEdBQUFjLEdBQUFBLEdBQUEsR0FDQ2IsS0FoRytCM0IsS0FHL0IwQyxFQUFXeEIsYUFBYSxRQUFTLFdBQVcsRUFDNUN5QixFQUFjekIsYUFBYSxRQUFTLGVBQWUsRUFDbkR5QixFQUFjekIsYUFDYixNQUNBYyxlQUFlckIsR0FBU0ssRUFDekIsRUFDQTJCLEVBQWN6QixhQUNiLE1BQ0E3QixnQkFBZ0JzQixHQUFTSyxFQUMxQixFQUNBNEIsRUFBZTFCLGFBQWEsUUFBUyxnQkFBZ0IsRUFDckQwQixFQUFlcEQsWUFBY0gsZ0JBQWdCc0IsR0FBU0ssR0FFdEQwQixFQUFXdEIsT0FBT3VCLEVBQWVDLENBQWMsRUFDL0NILEVBQWNyQixPQUFPc0IsQ0FBVSxFQUMvQjdELFFBQVF1QyxPQUFPcUIsQ0FBYSxFQUU1QjNDLFdBQVcsV0FDVjJDLEVBQWNwQixPQUFPLENBQ3RCLEVBQUcsSUFBSSxDQUNSLEVBaUNZbUIsRUEvQlovRCxlQUFlLEVBRWYsSUFGaUIsSUFFUjBFLEVBQUksRUFBR0EsR0FBSyxFQUFHQSxDQUFDLEdBQUVELENBRlYsV0FHaEIsSUFBTVYsRUFBbUJaLEtBQUt6QixNQUFzQixJQUFoQnlCLEtBQUt4QixPQUFPLENBQU8sRUFDakRxQyxFQUFnQjlELFNBQVM2QixjQUFjLEtBQUssRUFDNUNrQyxFQUFhL0QsU0FBUzZCLGNBQWMsSUFBSSxFQUN4Q21DLEVBQWdCaEUsU0FBUzZCLGNBQWMsS0FBSyxFQUM1Q29DLEVBQWlCakUsU0FBUzZCLGNBQWMsR0FBRyxFQUtoREcsR0FER0EsRUFGVTZCLElBRUMsRUFDSixFQUNVLEVBQVY3QixHQUFlQSxHQUFXLEdBQzFCLEVBQ1UsR0FBVkEsR0FBZ0JBLEdBQVcsR0FDM0IsRUFDVSxHQUFWQSxHQUFnQkEsR0FBVyxHQUMzQixFQUVBLEVBR0xLLEVBQXNCWSxLQUFLekIsTUFDaEN5QixLQUFLeEIsT0FBTyxFQUFJNEIsZUFBZXJCLEdBQVNrQixNQUN6QyxFQUdDYSxFQUFXSSxNQUFNL0IsV0FEZHlCLEdBQW9CLEVBQ09mLElBQ0QsRUFBbkJlLEdBQXdCQSxHQUFvQixHQUN4QmxELEtBQ0QsR0FBbkJrRCxHQUF5QkEsR0FBb0IsR0FDekJkLE9BQ0QsR0FBbkJjLEdBQXlCQSxHQUFvQixHQUN6QmIsS0FFQTNCLEtBRy9CMEMsRUFBV3hCLGFBQWEsUUFBUyxXQUFXLEVBQzVDeUIsRUFBY3pCLGFBQWEsUUFBUyxlQUFlLEVBQ25EeUIsRUFBY3pCLGFBQ2IsTUFDQWMsZUFBZXJCLEdBQVNLLEVBQ3pCLEVBQ0EyQixFQUFjekIsYUFDYixNQUNBN0IsZ0JBQWdCc0IsR0FBU0ssRUFDMUIsRUFDQTRCLEVBQWUxQixhQUFhLFFBQVMsZ0JBQWdCLEVBQ3JEMEIsRUFBZXBELFlBQWNILGdCQUFnQnNCLEdBQVNLLEdBRXREMEIsRUFBV3RCLE9BQU91QixFQUFlQyxDQUFjLEVBQy9DSCxFQUFjckIsT0FBT3NCLENBQVUsRUFDL0I3RCxRQUFRdUMsT0FBT3FCLENBQWEsRUFFNUIzQyxXQUFXLFdBQ1YyQyxFQUFjcEIsT0FBTyxDQUN0QixFQUFHLElBQUksQ0FDUixFQXpEMkIsQ0EwRDVCLEVBRU10QixhQUFlLFdBQ3BCbEIsUUFBUWUsVUFBVXlCLE9BQU8sV0FBVyxDQUNyQyxFQUVBM0MsUUFBUTBELGlCQUFpQixRQUFTLFdBQ2xCLENBQUEsSUFBWG5DLFFBQTZELEtBQXpDYSxXQUFXdkIsY0FBY0MsV0FBVyxJQUMzREcsc0JBQXNCLEVBQ3RCUixVQUFVaUUsS0FBSyxFQUVqQixDQUFDIiwiZmlsZSI6ImF3cGNhc2UubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgb3BlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3Blbi1idG5cIik7XHJcbmNvbnN0IGNhc2VCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhc2VcIik7XHJcbmNvbnN0IHdpbm5pbmdJdGVtQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uaW5nLWl0ZW1cIik7XHJcbmNvbnN0IHdpbm5pbmdJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbSBpbWdcIik7XHJcbmNvbnN0IHdpbm5pbmdCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbS1idXR0b25cIik7XHJcbmNvbnN0IHNwaW5uaW5nQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcGVuLWJ0bi0tc3Bpbm5pbmdcIik7XHJcbmNvbnN0IGJhbGFuY2VBbW91bnRNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fYmFsYW5jZS1hbW91bnRcIik7XHJcbmNvbnN0IG9wZW5BdWRpbyA9IG5ldyBBdWRpbyhcIi4vZGlzdC9hdWRpby9vcGVuLm1wM1wiKTtcclxuY29uc3QgaXRlbXNBbnViaXNQcmljZSA9IFtcclxuXHRbOTUyMSwgOTEyM10sXHJcblx0WzUzMjQsIDYyMzFdLFxyXG5cdFsxNTIuNDJdLFxyXG5cdFszOS4xMiwgNDUuNTJdLFxyXG5cdFswLjEyXSxcclxuXTtcclxuY29uc3QgaXRlbXNBbnViaXNJbWcgPSBbXHJcblx0W1wiLi9kaXN0L2ltZy9hd3AvZHJhZ29ubG9yZS5wbmdcIiwgXCIuL2Rpc3QvaW1nL2F3cC9ndW5nbmlyLnBuZ1wiXSxcclxuXHRbXCIuL2Rpc3QvaW1nL2F3cC9tZWR1c2EucG5nXCIsIFwiLi9kaXN0L2ltZy9hd3AvdGhlcHJpbmNlLnBuZ1wiXSxcclxuXHRbXCIuL2Rpc3QvaW1nL2F3cC9hc2ltb3YucG5nXCJdLFxyXG5cdFtcIi4vZGlzdC9pbWcvYXdwL3dpbGRmaXJlLnBuZ1wiLCBcIi4vZGlzdC9pbWcvYXdwL25lb25vaXIucG5nXCJdLFxyXG5cdFtcIi4vZGlzdC9pbWcvYXdwL3NhZmFyaW1lc2gucG5nXCJdLFxyXG5dO1xyXG5jb25zdCBpdGVtc0FudWJpc05hbWUgPSBbXHJcblx0W1wiQVdQIHwgRHJhZ29ubG9yZVwiLCBcIkFXUCB8IEd1bmduaXJcIl0sXHJcblx0W1wiQVdQIHwgTWVkdXNhXCIsIFwiQVdQIHwgVGhlIFByaW5jZVwiXSxcclxuXHRbXCJBV1AgfCBBc2ltb3ZcIl0sXHJcblx0W1wiQVdQIHwgV2lsZGZpcmVcIiwgXCJBV1AgfCBOZW8tbm9pclwiXSxcclxuXHRbXCJBV1AgfCBTYWZhcmkgbWVzaFwiXSxcclxuXTtcclxuY29uc3QgbGFzdERyb3BCZyA9IFtcclxuXHRcInJnYmEoMjIyLCA3NiwgNjUsIDAuMikgMTAwJVwiLFxyXG5cdFwicmdiYSgyMjIsIDc2LCA2NSwgMC4yKSAxMDAlXCIsXHJcblx0XCJyZ2JhKDIyMiwgNzYsIDY1LCAwLjIpIDEwMCVcIixcclxuXHRcInJnYmEoMjIyLCA3NiwgNjUsIDAuMikgMTAwJVwiLFxyXG5cdFwicmdiYSg3NSwgMTM4LCAyNTUsIDAuMikgMTAwJVwiLFxyXG5dO1xyXG5jb25zdCByZWQgPSBcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSgyMjIsIDc2LCA2NSwgLjUpIDEwMCUpXCI7XHJcbmNvbnN0IHBpbmsgPSBcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSgyNTUsIDUwLCAyNDAsIC41KSAxMDAlKVwiO1xyXG5jb25zdCBwdXJwbGUgPVxyXG5cdFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDEyNSwgNTAsIDI1NSwgLjUpIDEwMCUpXCI7XHJcbmNvbnN0IGxpZ2h0Qmx1ZSA9XHJcblx0XCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoMTYwLCAyMTEsIDI1NSwgLjUpIDEwMCUpXCI7XHJcbmNvbnN0IGJsdWUgPSBcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSg1MCwgMTEzLCAyNTUsIC41KSAxMDAlKVwiO1xyXG5jb25zdCBncmV5ID0gXCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoNzgsIDc4LCA3OCwgLjUpIDEwMCUpXCI7XHJcbmxldCBvcGVuZWQgPSBmYWxzZTtcclxubGV0IGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlO1xyXG5jb25zdCBiYWxhbmNlQW1vdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX2xpc3QtaXRlbS1iYWxhbmNlLWFtb3VudFwiKTtcclxuXHJcbmJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIik7XHJcblxyXG5jb25zdCBhZGRCYWxhbmNlID0gKCkgPT4ge1xyXG5cdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0bGV0IHZhbHVlID0gYW1vdW50VmFsdWUgKyBjdXJyZW50V2lubmluZ0l0ZW1QcmljZTtcclxuXHJcblx0YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcblx0YmFsYW5jZUFtb3VudE1vYmlsZS50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVCYWxhbmNlT25PcGVuID0gKCkgPT4ge1xyXG5cdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0bGV0IHZhbHVlID0gYW1vdW50VmFsdWUgLSAyMDAwO1xyXG5cclxuXHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxuXHRiYWxhbmNlQW1vdW50TW9iaWxlLnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxufTtcclxuXHJcbmNvbnN0IHN0YXJ0T3BlbmluZ0FuaW1hdGlvbiA9ICgpID0+IHtcclxuXHRjYXNlQm94LmNsYXNzTGlzdC5hZGQoXCJvcGVuLWFuaW1cIik7XHJcblx0YWRkSXRlbXMoKTtcclxuXHRvcGVuZWQgPSB0cnVlO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdG9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0cmVzZXRPcGVuaW5nKCk7XHJcblx0fSwgNjUwMCk7XHJcbn07XHJcblxyXG5jb25zdCBzZXRXaW5uaW5nSXRlbSA9ICgpID0+IHtcclxuXHRjb25zdCB3aW5uaW5nSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRsZXQgY2hhbmNlcyA9IHdpbm5pbmdJdGVtTnVtYmVyO1xyXG5cclxuXHRpZiAoY2hhbmNlcyA8PSA1KSB7XHJcblx0XHRjaGFuY2VzID0gMDtcclxuXHR9IGVsc2UgaWYgKGNoYW5jZXMgPiA1ICYmIGNoYW5jZXMgPD0gMTApIHtcclxuXHRcdGNoYW5jZXMgPSAxO1xyXG5cdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDEwICYmIGNoYW5jZXMgPD0gMjApIHtcclxuXHRcdGNoYW5jZXMgPSAyO1xyXG5cdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDIwICYmIGNoYW5jZXMgPD0gMzApIHtcclxuXHRcdGNoYW5jZXMgPSAzO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjaGFuY2VzID0gNDtcclxuXHR9XHJcblxyXG5cdGlmICh3aW5uaW5nSXRlbU51bWJlciA8PSA1KSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcmVkO1xyXG5cdH0gZWxzZSBpZiAod2lubmluZ0l0ZW1OdW1iZXIgPiA1ICYmIHdpbm5pbmdJdGVtTnVtYmVyIDw9IDEwKSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcGluaztcclxuXHR9IGVsc2UgaWYgKHdpbm5pbmdJdGVtTnVtYmVyID4gMTAgJiYgd2lubmluZ0l0ZW1OdW1iZXIgPD0gMjApIHtcclxuXHRcdHdpbm5pbmdJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBwdXJwbGU7XHJcblx0fSBlbHNlIGlmICh3aW5uaW5nSXRlbU51bWJlciA+IDIwICYmIHdpbm5pbmdJdGVtTnVtYmVyIDw9IDMwKSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYmx1ZTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGdyZXk7XHJcblx0fVxyXG5cclxuXHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdE1hdGgucmFuZG9tKCkgKiBpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXS5sZW5ndGhcclxuXHQpO1xyXG5cclxuXHR3aW5uaW5nSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbVwiKTtcclxuXHR3aW5uaW5nSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1pbWdcIik7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XCJzcmNcIixcclxuXHRcdGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0KTtcclxuXHR3aW5uaW5nSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcImFsdFwiLFxyXG5cdFx0aXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0KTtcclxuXHR3aW5uaW5nSXRlbVRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0tbmFtZVwiKTtcclxuXHR3aW5uaW5nSXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdHdpbm5pbmdJdGVtLmFwcGVuZCh3aW5uaW5nSXRlbUltZywgd2lubmluZ0l0ZW1UZXh0KTtcclxuXHR3aW5uaW5nSXRlbURpdi5hcHBlbmQod2lubmluZ0l0ZW0pO1xyXG5cdGNhc2VCb3guYXBwZW5kKHdpbm5pbmdJdGVtRGl2KTtcclxuXHJcblx0Y3VycmVudFdpbm5pbmdJdGVtUHJpY2UgPSBpdGVtc0FudWJpc1ByaWNlW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRyZW1vdmVCYWxhbmNlT25PcGVuKCk7XHJcblxyXG5cdG9wZW5CdG4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRzcGlubmluZ0J0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGFkZEJhbGFuY2UoKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCBgJHtiYWxhbmNlQW1vdW50LnRleHRDb250ZW50fWApO1xyXG5cclxuXHRcdGlkKys7XHJcblx0XHRjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IGl0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0Y29uc3QgaXRlbVByaWNlQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IGl0ZW1QcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0Y29uc3QgaXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1QcmljZUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cclxuXHRcdGlmIChjaGFuY2VzIDw9IDMpIHtcclxuXHRcdFx0aXRlbS5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFx0XCJjbGFzc1wiLFxyXG5cdFx0XHRcdFwibWFpbl9fZHJvcHNib3gtaXRlbSBtYWluX19kcm9wc2JveC1pdGVtLS1yZWRcIlxyXG5cdFx0XHQpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aXRlbS5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFx0XCJjbGFzc1wiLFxyXG5cdFx0XHRcdFwibWFpbl9fZHJvcHNib3gtaXRlbSBtYWluX19kcm9wc2JveC1pdGVtLS1ibHVlXCJcclxuXHRcdFx0KTtcclxuXHRcdH1cclxuXHJcblx0XHRpdGVtLnNldEF0dHJpYnV0ZShcImlkXCIsIGlkKTtcclxuXHRcdGl0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtYWluX19kcm9wc2JveC1pdGVtLWltZ1wiKTtcclxuXHRcdGl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcInNyY1wiLFxyXG5cdFx0XHRgJHtpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXX1gXHJcblx0XHQpO1xyXG5cdFx0aXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwiYWx0XCIsXHJcblx0XHRcdGAke2l0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdfWBcclxuXHRcdCk7XHJcblx0XHRpdGVtVGV4dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX2Ryb3BzYm94LWl0ZW0tbmFtZVwiKTtcclxuXHRcdGl0ZW1QcmljZS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX2Ryb3BzYm94LWl0ZW0tcHJpY2VcIik7XHJcblx0XHRpdGVtUHJpY2VJY29uLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFpbl9fZHJvcHNib3gtaXRlbS1wcmljZWJveC1pbWdcIik7XHJcblx0XHRpdGVtUHJpY2VJY29uLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4vZGlzdC9pbWcvb3RoZXIvY29pbi5wbmdcIik7XHJcblx0XHRpdGVtUHJpY2VJY29uLnNldEF0dHJpYnV0ZShcImFsdFwiLCBcIkNvaW4gSWNvblwiKTtcclxuXHRcdGl0ZW1QcmljZUJveC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX2Ryb3BzYm94LWl0ZW0tcHJpY2Vib3ggaGlkZGVuXCIpO1xyXG5cdFx0aXRlbVByaWNlLnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNQcmljZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHRcdGl0ZW0uc3R5bGUub3JkZXIgPSBcIi1cIiArIGlkO1xyXG5cdFx0aXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblx0XHRpdGVtUHJpY2VCb3guYXBwZW5kKGl0ZW1QcmljZSwgaXRlbVByaWNlSWNvbik7XHJcblx0XHRpdGVtLmFwcGVuZChpdGVtSW1nLCBpdGVtVGV4dCwgaXRlbVByaWNlQm94KTtcclxuXHRcdGxhc3RJdGVtRHJvcHMuYXBwZW5kKGl0ZW0pO1xyXG5cclxuXHRcdGlmIChsYXN0SXRlbURyb3BzLmNoaWxkRWxlbWVudENvdW50ID4gMTApIHtcclxuXHRcdFx0bGFzdEl0ZW1Ecm9wcy5maXJzdEVsZW1lbnRDaGlsZC5yZW1vdmUoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoaWQgJSAyID09PSAwKSB7XHJcblx0XHRcdGl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICMxZDIxMjYgMjUlLCAke2xhc3REcm9wQmdbY2hhbmNlc119YDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGBsaW5lYXItZ3JhZGllbnQoOTBkZWcsICMyODJlMzUgMjUlLCAke2xhc3REcm9wQmdbY2hhbmNlc119YDtcclxuXHRcdH1cclxuXHJcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZW92ZXJcIiwgKCkgPT4ge1xyXG5cdFx0XHRpdGVtUHJpY2VCb3guY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHRcdH0pO1xyXG5cclxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlbGVhdmVcIiwgKCkgPT4ge1xyXG5cdFx0XHRpdGVtUHJpY2VCb3guY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRcdH0pO1xyXG5cdH0sIDU1MDApO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHdpbm5pbmdJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0b3BlbkJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0c3Bpbm5pbmdCdG4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHR9LCA2NTAwKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZEl0ZW1zID0gKCkgPT4ge1xyXG5cdGZvciAobGV0IGkgPSAwOyBpIDw9IDEwOyBpKyspIHtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGxldCBjaGFuY2VzID0gbm9ybWFsSXRlbU51bWJlcjtcclxuXHJcblx0XHRpZiAoY2hhbmNlcyA8PSA1KSB7XHJcblx0XHRcdGNoYW5jZXMgPSAwO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuY2VzID4gNSAmJiBjaGFuY2VzIDw9IDEwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAxO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuY2VzID4gMTAgJiYgY2hhbmNlcyA8PSAyMCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMjtcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDIwICYmIGNoYW5jZXMgPD0gMzApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDM7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjaGFuY2VzID0gNDtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAobm9ybWFsSXRlbU51bWJlciA8PSA1KSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHRcdH0gZWxzZSBpZiAobm9ybWFsSXRlbU51bWJlciA+IDUgJiYgbm9ybWFsSXRlbU51bWJlciA8PSAxMCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBwaW5rO1xyXG5cdFx0fSBlbHNlIGlmIChub3JtYWxJdGVtTnVtYmVyID4gMTAgJiYgbm9ybWFsSXRlbU51bWJlciA8PSAyMCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBwdXJwbGU7XHJcblx0XHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiAyMCAmJiBub3JtYWxJdGVtTnVtYmVyIDw9IDMwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGJsdWU7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBncmV5O1xyXG5cdFx0fVxyXG5cclxuXHRcdG5vcm1hbEl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLWltZ1wiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcInNyY1wiLFxyXG5cdFx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcImFsdFwiLFxyXG5cdFx0XHRpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtVGV4dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1uYW1lXCIpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5hcHBlbmQobm9ybWFsSXRlbUltZywgbm9ybWFsSXRlbVRleHQpO1xyXG5cdFx0bm9ybWFsSXRlbURpdi5hcHBlbmQobm9ybWFsSXRlbSk7XHJcblx0XHRjYXNlQm94LmFwcGVuZChub3JtYWxJdGVtRGl2KTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0bm9ybWFsSXRlbURpdi5yZW1vdmUoKTtcclxuXHRcdH0sIDY1MDApO1xyXG5cdH1cclxuXHJcblx0c2V0V2lubmluZ0l0ZW0oKTtcclxuXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPD0gNDsgaSsrKSB7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcblx0XHRsZXQgY2hhbmNlcyA9IG5vcm1hbEl0ZW1OdW1iZXI7XHJcblxyXG5cdFx0aWYgKGNoYW5jZXMgPD0gNSkge1xyXG5cdFx0XHRjaGFuY2VzID0gMDtcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDUgJiYgY2hhbmNlcyA8PSAxMCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMTtcclxuXHRcdH0gZWxzZSBpZiAoY2hhbmNlcyA+IDEwICYmIGNoYW5jZXMgPD0gMjApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDI7XHJcblx0XHR9IGVsc2UgaWYgKGNoYW5jZXMgPiAyMCAmJiBjaGFuY2VzIDw9IDMwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAzO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRcdE1hdGgucmFuZG9tKCkgKiBpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXS5sZW5ndGhcclxuXHRcdCk7XHJcblxyXG5cdFx0aWYgKG5vcm1hbEl0ZW1OdW1iZXIgPD0gNSkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSByZWQ7XHJcblx0XHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiA1ICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gMTApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcGluaztcclxuXHRcdH0gZWxzZSBpZiAobm9ybWFsSXRlbU51bWJlciA+IDEwICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gMjApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcHVycGxlO1xyXG5cdFx0fSBlbHNlIGlmIChub3JtYWxJdGVtTnVtYmVyID4gMjAgJiYgbm9ybWFsSXRlbU51bWJlciA8PSAzMCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBibHVlO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gZ3JleTtcclxuXHRcdH1cclxuXHJcblx0XHRub3JtYWxJdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1pbWdcIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJzcmNcIixcclxuXHRcdFx0aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJhbHRcIixcclxuXHRcdFx0aXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0tbmFtZVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRcdG5vcm1hbEl0ZW0uYXBwZW5kKG5vcm1hbEl0ZW1JbWcsIG5vcm1hbEl0ZW1UZXh0KTtcclxuXHRcdG5vcm1hbEl0ZW1EaXYuYXBwZW5kKG5vcm1hbEl0ZW0pO1xyXG5cdFx0Y2FzZUJveC5hcHBlbmQobm9ybWFsSXRlbURpdik7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdG5vcm1hbEl0ZW1EaXYucmVtb3ZlKCk7XHJcblx0XHR9LCA2NTAwKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCByZXNldE9wZW5pbmcgPSAoKSA9PiB7XHJcblx0Y2FzZUJveC5jbGFzc0xpc3QucmVtb3ZlKFwib3Blbi1hbmltXCIpO1xyXG59O1xyXG5cclxub3BlbkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdGlmIChvcGVuZWQgPT09IGZhbHNlICYmIHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCkgPj0gMjAwMCkge1xyXG5cdFx0c3RhcnRPcGVuaW5nQW5pbWF0aW9uKCk7XHJcblx0XHRvcGVuQXVkaW8ucGxheSgpO1xyXG5cdH1cclxufSk7XHJcbiJdfQ==
