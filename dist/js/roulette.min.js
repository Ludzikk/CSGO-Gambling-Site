"use strict";var winningColor,playerBetAmount,rouletteDiv=document.querySelector(".main-roulette__list"),rouletteItems=document.querySelectorAll(".main-roulette__list-item"),elem=document.querySelector(".main-roulette__arrow"),elemOffset=elem.getBoundingClientRect(),middleLeft=elemOffset.left+2,middleRight=elemOffset.right-2,lastDrops=document.querySelector(".main-roulette__lastdrops"),seconds=document.querySelector(".main-roulette__countdown-timer-seconds"),secondTime=10,betInput=document.querySelector("#bet"),redButton=document.querySelector(".main-roulette__betbuttons-button--red"),greenButton=document.querySelector(".main-roulette__betbuttons-button--green"),blackButton=document.querySelector(".main-roulette__betbuttons-button--black"),playerBet=0,spinning=!1,lastBetAmount=0,balanceAmount=document.querySelector(".nav__list-item-balance-amount"),clearBtn=document.querySelector("#clear"),lastBtn=document.querySelector("#last"),plusOneBtn=document.querySelector("#plus1"),plusTenBtn=document.querySelector("#plus10"),plusOneHundredBtn=document.querySelector("#plus100"),plusOneThousandBtn=document.querySelector("#plus1000"),halfBtn=document.querySelector("#half"),timesTwoBtn=document.querySelector("#x2"),maxBtn=document.querySelector("#max"),totalAmountOfBetsForRed=document.querySelector("#totalvaluetextred"),totalAmountOfBetsBalanceForRed=document.querySelector("#totalvaluered"),totalAmountOfBetsForBlack=document.querySelector("#totalvaluetextblack"),totalAmountOfBetsBalanceForBlack=document.querySelector("#totalvalueblack"),totalAmountOfBetsForGreen=document.querySelector("#totalvaluetextgreen"),totalAmountOfBetsBalanceForGreen=document.querySelector("#totalvaluegreen"),totalBetAmount=0,spinRoulette=function(){var t=Math.floor(25e3*Math.random()+5e3);spinning=!0,rouletteDiv.classList.add("spin"),rouletteDiv.style.transform="translate3d(-".concat(t,"px, 0, 0)")},betAmountRed=(setInterval(function(){secondTime--,seconds.textContent=secondTime+":"},1e3),setInterval(function(){0===secondTime&&(secondTime=10,seconds.textContent=secondTime+":")},100),setInterval(function(){spinRoulette(),setTimeout(function(){var a=lastDrops.childElementCount;spinning=!1,totalAmountOfBetsForBlack.textContent="0",totalAmountOfBetsForRed.textContent="0",totalAmountOfBetsForGreen.textContent="0",totalAmountOfBetsBalanceForBlack.textContent="0.00",totalAmountOfBetsBalanceForRed.textContent="0.00",totalAmountOfBetsBalanceForGreen.textContent="0.00",totalBetAmount=0,rouletteItems.forEach(function(t){var e,n,o=t.getBoundingClientRect();middleLeft>=o.left&&middleRight<=o.right&&t.classList.contains("main-roulette__list-item--red")?(winningColor="red",e=document.createElement("div"),(n=document.createElement("img")).setAttribute("class","main-roulette__lastdrops-item-img"),n.setAttribute("alt","Coin Icon"),n.setAttribute("src","./dist/img/other/coin.png"),e.append(n),e.setAttribute("class","main-roulette__lastdrops-item main-roulette__lastdrops-item--red"),10===a&&lastDrops.firstElementChild.remove(),lastDrops.append(e),"red"===playerBet&&(playerBetAmount*=2,console.log(playerBetAmount),n=parseFloat(balanceAmount.textContent)+playerBetAmount,balanceAmount.textContent=n.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent)))):middleLeft>=o.left&&middleRight<=o.right&&t.classList.contains("main-roulette__list-item--black")?(winningColor="black",e=document.createElement("div"),(n=document.createElement("img")).setAttribute("class","main-roulette__lastdrops-item-img"),n.setAttribute("alt","Coin Icon"),n.setAttribute("src","./dist/img/other/coin.png"),e.append(n),e.setAttribute("class","main-roulette__lastdrops-item main-roulette__lastdrops-item--black"),10===a&&lastDrops.firstElementChild.remove(),lastDrops.append(e),"black"===playerBet&&(playerBetAmount*=2,console.log(playerBetAmount),n=parseFloat(balanceAmount.textContent)+playerBetAmount,balanceAmount.textContent=n.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent)))):middleLeft>=o.left&&middleRight<=o.right&&t.classList.contains("main-roulette__list-item--green")&&(winningColor="green",e=document.createElement("div"),(n=document.createElement("img")).setAttribute("class","main-roulette__lastdrops-item-img"),n.setAttribute("alt","Coin Icon"),n.setAttribute("src","./dist/img/other/coin.png"),e.append(n),e.setAttribute("class","main-roulette__lastdrops-item main-roulette__lastdrops-item--green"),10===a&&lastDrops.firstElementChild.remove(),lastDrops.append(e),"green"===playerBet)&&(playerBetAmount*=14,console.log(playerBetAmount),o=parseFloat(balanceAmount.textContent)+playerBetAmount,balanceAmount.textContent=o.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent)))}),playerBet=0},6e3),setTimeout(function(){rouletteDiv.classList.remove("spin"),rouletteDiv.style.transform="translate3d(0, 0, 0)"},9900)},1e4),function(){var t=localStorage.getItem("Balance");0!==betInput.value&&betInput.value<=parseFloat(t)&&0===playerBet&&!1===spinning&&(t=parseFloat(balanceAmount.textContent)-betInput.value,playerBet="red",playerBetAmount=betInput.value,lastBetAmount=betInput.value,betInput.value="",totalBetAmount++,totalAmountOfBetsForRed.textContent=totalBetAmount,totalAmountOfBetsBalanceForRed.textContent=playerBetAmount,balanceAmount.textContent=t.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent)))}),betAmountBlack=function(){var t=localStorage.getItem("Balance");0!==betInput.value&&betInput.value<=parseFloat(t)&&0===playerBet&&!1===spinning&&(t=parseFloat(balanceAmount.textContent)-betInput.value,playerBet="black",playerBetAmount=betInput.value,lastBetAmount=betInput.value,betInput.value="",totalBetAmount++,totalAmountOfBetsForBlack.textContent=totalBetAmount,totalAmountOfBetsBalanceForBlack.textContent=playerBetAmount,balanceAmount.textContent=t.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent)))},betAmountGreen=function(){var t=localStorage.getItem("Balance");0!==betInput.value&&betInput.value<=parseFloat(t)&&0===playerBet&&!1===spinning&&(t=parseFloat(balanceAmount.textContent)-betInput.value,playerBet="green",playerBetAmount=betInput.value,lastBetAmount=betInput.value,betInput.value="",totalBetAmount++,totalAmountOfBetsForGreen.textContent=totalBetAmount,totalAmountOfBetsBalanceForGreen.textContent=playerBetAmount,balanceAmount.textContent=t.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent)))};redButton.addEventListener("click",betAmountRed),greenButton.addEventListener("click",betAmountGreen),blackButton.addEventListener("click",betAmountBlack),clearBtn.addEventListener("click",function(){betInput.value=""}),lastBtn.addEventListener("click",function(){0!==lastBetAmount&&(betInput.value=lastBetAmount)}),plusOneBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=t+1}),plusTenBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=t+10}),plusOneHundredBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=t+100}),plusOneThousandBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=t+1e3}),halfBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=t/2}),timesTwoBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=2*t}),maxBtn.addEventListener("click",function(){betInput.value=localStorage.getItem("Balance")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdWxldHRlLmpzIl0sIm5hbWVzIjpbInJvdWxldHRlRGl2IiwicGx1c09uZUJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInJvdWxldHRlSXRlbXMiLCJxdWVyeVNlbGVjdG9yQWxsIiwid2lubmluZ0NvbG9yIiwiZWxlbSIsImdldEJvdW5kaW5nQ2xpZW50UmVjdCIsImVsZW1PZmZzZXQiLCJtaWRkbGVMZWZ0IiwibWlkZGxlUmlnaHQiLCJzZWNvbmRUaW1lIiwiYmV0SW5wdXQiLCJyZWRCdXR0b24iLCJwbGF5ZXJCZXQiLCJsYXN0QmV0QW1vdW50IiwibGFzdEJ0biIsInBsdXNUZW5CdG4iLCJwbHVzT25lSHVuZHJlZEJ0biIsInBsdXNPbmVUaG91c2FuZEJ0biIsImhhbGZCdG4iLCJ0aW1lc1R3b0J0biIsIm1heEJ0biIsInRvdGFsQW1vdW50T2ZCZXRzRm9yUmVkIiwidG90YWxBbW91bnRPZkJldHNCYWxhbmNlRm9yUmVkIiwidG90YWxBbW91bnRPZkJldHNGb3JCbGFjayIsInRvdGFsQW1vdW50T2ZCZXRzQmFsYW5jZUZvckJsYWNrIiwidG90YWxBbW91bnRPZkJldHNGb3JHcmVlbiIsInRvdGFsQW1vdW50T2ZCZXRzQmFsYW5jZUZvckdyZWVuIiwidG90YWxCZXRBbW91bnQiLCJzcGluUm91bGV0dGUiLCJyYW5kb21OdW0iLCJyYW5kb20iLCJzZXRJbnRlcnZhbCIsInNlY29uZHMiLCJ0ZXh0Q29udGVudCIsIk1hdGgiLCJmbG9vciIsInNwaW5uaW5nIiwiYWRkIiwic3R5bGUiLCJ0cmFuc2Zvcm0iLCJjb25jYXQiLCJwb3MiLCJsYXN0RHJvcEl0ZW1JbWciLCJzZXRUaW1lb3V0IiwibGFzdERyb3BJdGVtIiwibGFzdERyb3BzQ2hpbGRDb3VudCIsImZpcnN0RWxlbWVudENoaWxkIiwicmVtb3ZlIiwiY29uc29sZSIsInBsYXllckJldEFtb3VudCIsIml0ZW0iLCJhbW91bnRWYWx1ZSIsImJhbGFuY2VBbW91bnQiLCJsb2NhbFN0b3JhZ2UiLCJsZWZ0IiwicmlnaHQiLCJjbGFzc0xpc3QiLCJzZXRBdHRyaWJ1dGUiLCJjcmVhdGVFbGVtZW50IiwiYXBwZW5kIiwibGFzdERyb3BzIiwicGFyc2VGbG9hdCIsInZhbHVlIiwidG9GaXhlZCIsImNvbnRhaW5zIiwiYmV0QW1vdW50UmVkIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJiZXRBbW91bnRCbGFjayIsImJhbGFuY2UiLCJiZXRBbW91bnRHcmVlbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJncmVlbkJ1dHRvbiIsImJsYWNrQnV0dG9uIiwiY2xlYXJCdG4iXSwibWFwcGluZ3MiOiJhQUFBLElBQU1BLGFBNkJBQyxnQkE3QkFELFlBQWNFLFNBQVNDLGNBQWMsc0JBQXNCLEVBQzNEQyxjQUFnQkYsU0FBU0csaUJBQWlCLDJCQUEyQixFQUFyRUQsS0FBQUEsU0FBZ0JGLGNBQVNHLHVCQUFpQixFQUM1Q0MsV0FBWUMsS0FBQUMsc0JBQUEsRUFDWkQsV0FBT0wsV0FBU0MsS0FBYyxFQUM5Qk0sWUFBYUYsV0FBS0MsTUFBQUEsRUFDbEJFLFVBQWFELFNBQVVOLGNBQVMsMkJBQUEsRUFDaENRLFFBQVdULFNBQUdPLGNBQ2xCLHlDQUNBLEVBR0lHLFdBQWEsR0FDWEMsU0FBV1gsU0FBU0MsY0FBYyxNQUFPLEVBQ3pDVyxVQUFZWixTQUFTQyxjQUczQix3Q0FHQSxFQUdJWSxZQUFhYixTQUFBQyxjQUNqQiwwQ0FDQSxFQUNJYSxZQUFnQmQsU0FBQ0MsY0FDckIsMENBQ0EsRUFDTWMsVUFBVWYsRUFFVmdCLFNBQVUsQ0FBQSxFQUNWQyxjQUFBQSxFQUNBQyxjQUFrQmxCLFNBQUdBLGNBQVNDLGdDQUEwQixFQUN4RGtCLFNBQVVuQixTQUFTQyxjQUFjLFFBQVEsRUFDekNtQixRQUFXcEIsU0FBR0EsY0FBU0MsT0FBbUIsRUFDMUNvQixXQUFTckIsU0FBU0MsY0FBb0IsUUFBQyxFQUN2Q3FCLFdBQUFBLFNBQXVCckIsY0FBWUEsU0FBQUEsRUFDbkNzQixrQkFBQUEsU0FBOEJ0QixjQUFZQSxVQUFhLEVBQ3ZE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LFdBQVduRCxTQUFTb0QsS0FBSyxFQUNyQ3BELFNBQVNvRCxNQUFRQSxFQUFRLEdBQzFCLENBQUMsRUFFRDdDLG1CQUFtQnNELGlCQUFpQixRQUFTLFdBQzVDLElBQUlULEVBQVFELFdBQVduRCxTQUFTb0QsS0FBSyxFQUNyQ3BELFNBQVNvRCxNQUFRQSxFQUFRLEdBQzFCLENBQUMsRUFFRDVDLFFBQVFxRCxpQkFBaUIsUUFBUyxXQUNqQyxJQUFJVCxFQUFRRCxXQUFXbkQsU0FBU29ELEtBQUssRUFDckNwRCxTQUFTb0QsTUFBUUEsRUFBUSxDQUMxQixDQUFDLEVBRUQzQyxZQUFZb0QsaUJBQWlCLFFBQVMsV0FDckMsSUFBSVQsRUFBUUQsV0FBV25ELFNBQVNvRCxLQUFLLEVBQ3JDcEQsU0FBU29ELE1BQWdCLEVBQVJBLENBQ2xCLENBQUMsRUFFRDFDLE9BQU9tRCxpQkFBaUIsUUFBUyxXQUNoQzdELFNBQVNvRCxNQUFRVCxhQUFhYSxRQUFRLFNBQVMsQ0FDaEQsQ0FBQyIsImZpbGUiOiJyb3VsZXR0ZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCByb3VsZXR0ZURpdiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1yb3VsZXR0ZV9fbGlzdFwiKTtcclxuY29uc3Qgcm91bGV0dGVJdGVtcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubWFpbi1yb3VsZXR0ZV9fbGlzdC1pdGVtXCIpO1xyXG5sZXQgd2lubmluZ0NvbG9yO1xyXG5sZXQgZWxlbSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1yb3VsZXR0ZV9fYXJyb3dcIik7XHJcbmxldCBlbGVtT2Zmc2V0ID0gZWxlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxubGV0IG1pZGRsZUxlZnQgPSBlbGVtT2Zmc2V0LmxlZnQgKyAyO1xyXG5sZXQgbWlkZGxlUmlnaHQgPSBlbGVtT2Zmc2V0LnJpZ2h0IC0gMjtcclxuY29uc3QgbGFzdERyb3BzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLXJvdWxldHRlX19sYXN0ZHJvcHNcIik7XHJcbmNvbnN0IHNlY29uZHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFwiLm1haW4tcm91bGV0dGVfX2NvdW50ZG93bi10aW1lci1zZWNvbmRzXCJcclxuKTtcclxubGV0IHNlY29uZFRpbWUgPSAxMDtcclxuY29uc3QgYmV0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2JldFwiKTtcclxuY29uc3QgcmVkQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcIi5tYWluLXJvdWxldHRlX19iZXRidXR0b25zLWJ1dHRvbi0tcmVkXCJcclxuKTtcclxuY29uc3QgZ3JlZW5CdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFxyXG5cdFwiLm1haW4tcm91bGV0dGVfX2JldGJ1dHRvbnMtYnV0dG9uLS1ncmVlblwiXHJcbik7XHJcbmNvbnN0IGJsYWNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcIi5tYWluLXJvdWxldHRlX19iZXRidXR0b25zLWJ1dHRvbi0tYmxhY2tcIlxyXG4pO1xyXG5sZXQgcGxheWVyQmV0ID0gMDtcclxubGV0IHBsYXllckJldEFtb3VudDtcclxubGV0IHNwaW5uaW5nID0gZmFsc2U7XHJcbmxldCBsYXN0QmV0QW1vdW50ID0gMDtcclxuY29uc3QgYmFsYW5jZUFtb3VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19saXN0LWl0ZW0tYmFsYW5jZS1hbW91bnRcIik7XHJcbmNvbnN0IGNsZWFyQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNjbGVhclwiKTtcclxuY29uc3QgbGFzdEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbGFzdFwiKTtcclxuY29uc3QgcGx1c09uZUJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGx1czFcIik7XHJcbmNvbnN0IHBsdXNUZW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BsdXMxMFwiKTtcclxuY29uc3QgcGx1c09uZUh1bmRyZWRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BsdXMxMDBcIik7XHJcbmNvbnN0IHBsdXNPbmVUaG91c2FuZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcGx1czEwMDBcIik7XHJcbmNvbnN0IGhhbGZCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2hhbGZcIik7XHJcbmNvbnN0IHRpbWVzVHdvQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN4MlwiKTtcclxuY29uc3QgbWF4QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNtYXhcIik7XHJcbmNvbnN0IHRvdGFsQW1vdW50T2ZCZXRzRm9yUmVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0b3RhbHZhbHVldGV4dHJlZFwiKTtcclxuY29uc3QgdG90YWxBbW91bnRPZkJldHNCYWxhbmNlRm9yUmVkID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiN0b3RhbHZhbHVlcmVkXCIpO1xyXG5jb25zdCB0b3RhbEFtb3VudE9mQmV0c0ZvckJsYWNrID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcIiN0b3RhbHZhbHVldGV4dGJsYWNrXCJcclxuKTtcclxuY29uc3QgdG90YWxBbW91bnRPZkJldHNCYWxhbmNlRm9yQmxhY2sgPVxyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdG90YWx2YWx1ZWJsYWNrXCIpO1xyXG5jb25zdCB0b3RhbEFtb3VudE9mQmV0c0ZvckdyZWVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcclxuXHRcIiN0b3RhbHZhbHVldGV4dGdyZWVuXCJcclxuKTtcclxuY29uc3QgdG90YWxBbW91bnRPZkJldHNCYWxhbmNlRm9yR3JlZW4gPVxyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjdG90YWx2YWx1ZWdyZWVuXCIpO1xyXG5sZXQgdG90YWxCZXRBbW91bnQgPSAwO1xyXG5cclxuY29uc3Qgc3BpblJvdWxldHRlID0gKCkgPT4ge1xyXG5cdGNvbnN0IHJhbmRvbU51bSA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDI1MDAwICsgNTAwMCk7XHJcblx0c3Bpbm5pbmcgPSB0cnVlO1xyXG5cclxuXHRyb3VsZXR0ZURpdi5jbGFzc0xpc3QuYWRkKFwic3BpblwiKTtcclxuXHRyb3VsZXR0ZURpdi5zdHlsZS50cmFuc2Zvcm0gPSBgdHJhbnNsYXRlM2QoLSR7cmFuZG9tTnVtfXB4LCAwLCAwKWA7XHJcbn07XHJcblxyXG5zZXRJbnRlcnZhbCgoKSA9PiB7XHJcblx0c2Vjb25kVGltZS0tO1xyXG5cdHNlY29uZHMudGV4dENvbnRlbnQgPSBzZWNvbmRUaW1lICsgXCI6XCI7XHJcbn0sIDEwMDApO1xyXG5cclxuc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG5cdGlmIChzZWNvbmRUaW1lID09PSAwKSB7XHJcblx0XHRzZWNvbmRUaW1lID0gMTA7XHJcblx0XHRzZWNvbmRzLnRleHRDb250ZW50ID0gc2Vjb25kVGltZSArIFwiOlwiO1xyXG5cdH1cclxufSwgMTAwKTtcclxuXHJcbnNldEludGVydmFsKCgpID0+IHtcclxuXHRzcGluUm91bGV0dGUoKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRjb25zdCBsYXN0RHJvcHNDaGlsZENvdW50ID0gbGFzdERyb3BzLmNoaWxkRWxlbWVudENvdW50O1xyXG5cdFx0c3Bpbm5pbmcgPSBmYWxzZTtcclxuXHRcdHRvdGFsQW1vdW50T2ZCZXRzRm9yQmxhY2sudGV4dENvbnRlbnQgPSBcIjBcIjtcclxuXHRcdHRvdGFsQW1vdW50T2ZCZXRzRm9yUmVkLnRleHRDb250ZW50ID0gXCIwXCI7XHJcblx0XHR0b3RhbEFtb3VudE9mQmV0c0ZvckdyZWVuLnRleHRDb250ZW50ID0gXCIwXCI7XHJcblx0XHR0b3RhbEFtb3VudE9mQmV0c0JhbGFuY2VGb3JCbGFjay50ZXh0Q29udGVudCA9IFwiMC4wMFwiXHJcblx0XHR0b3RhbEFtb3VudE9mQmV0c0JhbGFuY2VGb3JSZWQudGV4dENvbnRlbnQgPSBcIjAuMDBcIlxyXG5cdFx0dG90YWxBbW91bnRPZkJldHNCYWxhbmNlRm9yR3JlZW4udGV4dENvbnRlbnQgPSBcIjAuMDBcIlxyXG5cdFx0dG90YWxCZXRBbW91bnQgPSAwO1xyXG5cdFxyXG5cdFx0cm91bGV0dGVJdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcblx0XHRcdGxldCBwb3MgPSBpdGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5cclxuXHRcdFx0aWYgKFxyXG5cdFx0XHRcdG1pZGRsZUxlZnQgPj0gcG9zLmxlZnQgJiZcclxuXHRcdFx0XHRtaWRkbGVSaWdodCA8PSBwb3MucmlnaHQgJiZcclxuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC5jb250YWlucyhcIm1haW4tcm91bGV0dGVfX2xpc3QtaXRlbS0tcmVkXCIpXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdHdpbm5pbmdDb2xvciA9IFwicmVkXCI7XHJcblxyXG5cdFx0XHRcdGNvbnN0IGxhc3REcm9wSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRcdFx0Y29uc3QgbGFzdERyb3BJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRcdFx0XHRsYXN0RHJvcEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcdFx0XCJjbGFzc1wiLFxyXG5cdFx0XHRcdFx0XCJtYWluLXJvdWxldHRlX19sYXN0ZHJvcHMtaXRlbS1pbWdcIlxyXG5cdFx0XHRcdCk7XHJcblx0XHRcdFx0bGFzdERyb3BJdGVtSW1nLnNldEF0dHJpYnV0ZShcImFsdFwiLCBcIkNvaW4gSWNvblwiKTtcclxuXHRcdFx0XHRsYXN0RHJvcEl0ZW1JbWcuc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi9kaXN0L2ltZy9vdGhlci9jb2luLnBuZ1wiKTtcclxuXHRcdFx0XHRsYXN0RHJvcEl0ZW0uYXBwZW5kKGxhc3REcm9wSXRlbUltZyk7XHJcblx0XHRcdFx0bGFzdERyb3BJdGVtLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XHRcdFwiY2xhc3NcIixcclxuXHRcdFx0XHRcdFwibWFpbi1yb3VsZXR0ZV9fbGFzdGRyb3BzLWl0ZW0gbWFpbi1yb3VsZXR0ZV9fbGFzdGRyb3BzLWl0ZW0tLXJlZFwiXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0aWYgKGxhc3REcm9wc0NoaWxkQ291bnQgPT09IDEwKSB7XHJcblx0XHRcdFx0XHRsYXN0RHJvcHMuZmlyc3RFbGVtZW50Q2hpbGQucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHRsYXN0RHJvcHMuYXBwZW5kKGxhc3REcm9wSXRlbSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGxhc3REcm9wcy5hcHBlbmQobGFzdERyb3BJdGVtKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChwbGF5ZXJCZXQgPT09IFwicmVkXCIpIHtcclxuXHRcdFx0XHRcdHBsYXllckJldEFtb3VudCA9IHBsYXllckJldEFtb3VudCAqIDI7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhwbGF5ZXJCZXRBbW91bnQpO1xyXG5cdFx0XHRcdFx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRcdFx0XHRcdGxldCB2YWx1ZSA9IGFtb3VudFZhbHVlICsgcGxheWVyQmV0QW1vdW50O1xyXG5cclxuXHRcdFx0XHRcdGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSB2YWx1ZS50b0ZpeGVkKDIpO1xyXG5cdFx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJCYWxhbmNlXCIsIGAke2JhbGFuY2VBbW91bnQudGV4dENvbnRlbnR9YCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKFxyXG5cdFx0XHRcdG1pZGRsZUxlZnQgPj0gcG9zLmxlZnQgJiZcclxuXHRcdFx0XHRtaWRkbGVSaWdodCA8PSBwb3MucmlnaHQgJiZcclxuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC5jb250YWlucyhcIm1haW4tcm91bGV0dGVfX2xpc3QtaXRlbS0tYmxhY2tcIilcclxuXHRcdFx0KSB7XHJcblx0XHRcdFx0d2lubmluZ0NvbG9yID0gXCJibGFja1wiO1xyXG5cclxuXHRcdFx0XHRjb25zdCBsYXN0RHJvcEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0XHRcdGNvbnN0IGxhc3REcm9wSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRcdFx0bGFzdERyb3BJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XHRcdFwiY2xhc3NcIixcclxuXHRcdFx0XHRcdFwibWFpbi1yb3VsZXR0ZV9fbGFzdGRyb3BzLWl0ZW0taW1nXCJcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdGxhc3REcm9wSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJDb2luIEljb25cIik7XHJcblx0XHRcdFx0bGFzdERyb3BJdGVtSW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4vZGlzdC9pbWcvb3RoZXIvY29pbi5wbmdcIik7XHJcblx0XHRcdFx0bGFzdERyb3BJdGVtLmFwcGVuZChsYXN0RHJvcEl0ZW1JbWcpO1xyXG5cdFx0XHRcdGxhc3REcm9wSXRlbS5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFx0XHRcImNsYXNzXCIsXHJcblx0XHRcdFx0XHRcIm1haW4tcm91bGV0dGVfX2xhc3Rkcm9wcy1pdGVtIG1haW4tcm91bGV0dGVfX2xhc3Rkcm9wcy1pdGVtLS1ibGFja1wiXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0aWYgKGxhc3REcm9wc0NoaWxkQ291bnQgPT09IDEwKSB7XHJcblx0XHRcdFx0XHRsYXN0RHJvcHMuZmlyc3RFbGVtZW50Q2hpbGQucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHRsYXN0RHJvcHMuYXBwZW5kKGxhc3REcm9wSXRlbSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGxhc3REcm9wcy5hcHBlbmQobGFzdERyb3BJdGVtKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0aWYgKHBsYXllckJldCA9PT0gXCJibGFja1wiKSB7XHJcblx0XHRcdFx0XHRwbGF5ZXJCZXRBbW91bnQgPSBwbGF5ZXJCZXRBbW91bnQgKiAyO1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2cocGxheWVyQmV0QW1vdW50KTtcclxuXHRcdFx0XHRcdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0XHRcdFx0XHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSArIHBsYXllckJldEFtb3VudDtcclxuXHJcblx0XHRcdFx0XHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxuXHRcdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCBgJHtiYWxhbmNlQW1vdW50LnRleHRDb250ZW50fWApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIGlmIChcclxuXHRcdFx0XHRtaWRkbGVMZWZ0ID49IHBvcy5sZWZ0ICYmXHJcblx0XHRcdFx0bWlkZGxlUmlnaHQgPD0gcG9zLnJpZ2h0ICYmXHJcblx0XHRcdFx0aXRlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJtYWluLXJvdWxldHRlX19saXN0LWl0ZW0tLWdyZWVuXCIpXHJcblx0XHRcdCkge1xyXG5cdFx0XHRcdHdpbm5pbmdDb2xvciA9IFwiZ3JlZW5cIjtcclxuXHJcblx0XHRcdFx0Y29uc3QgbGFzdERyb3BJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdFx0XHRjb25zdCBsYXN0RHJvcEl0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0XHRcdGxhc3REcm9wSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFx0XHRcImNsYXNzXCIsXHJcblx0XHRcdFx0XHRcIm1haW4tcm91bGV0dGVfX2xhc3Rkcm9wcy1pdGVtLWltZ1wiXHJcblx0XHRcdFx0KTtcclxuXHRcdFx0XHRsYXN0RHJvcEl0ZW1JbWcuc2V0QXR0cmlidXRlKFwiYWx0XCIsIFwiQ29pbiBJY29uXCIpO1xyXG5cdFx0XHRcdGxhc3REcm9wSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuL2Rpc3QvaW1nL290aGVyL2NvaW4ucG5nXCIpO1xyXG5cdFx0XHRcdGxhc3REcm9wSXRlbS5hcHBlbmQobGFzdERyb3BJdGVtSW1nKTtcclxuXHRcdFx0XHRsYXN0RHJvcEl0ZW0uc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcdFx0XCJjbGFzc1wiLFxyXG5cdFx0XHRcdFx0XCJtYWluLXJvdWxldHRlX19sYXN0ZHJvcHMtaXRlbSBtYWluLXJvdWxldHRlX19sYXN0ZHJvcHMtaXRlbS0tZ3JlZW5cIlxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdGlmIChsYXN0RHJvcHNDaGlsZENvdW50ID09PSAxMCkge1xyXG5cdFx0XHRcdFx0bGFzdERyb3BzLmZpcnN0RWxlbWVudENoaWxkLnJlbW92ZSgpO1xyXG5cdFx0XHRcdFx0bGFzdERyb3BzLmFwcGVuZChsYXN0RHJvcEl0ZW0pO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRsYXN0RHJvcHMuYXBwZW5kKGxhc3REcm9wSXRlbSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGlmIChwbGF5ZXJCZXQgPT09IFwiZ3JlZW5cIikge1xyXG5cdFx0XHRcdFx0cGxheWVyQmV0QW1vdW50ID0gcGxheWVyQmV0QW1vdW50ICogMTQ7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhwbGF5ZXJCZXRBbW91bnQpO1xyXG5cdFx0XHRcdFx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRcdFx0XHRcdGxldCB2YWx1ZSA9IGFtb3VudFZhbHVlICsgcGxheWVyQmV0QW1vdW50O1xyXG5cclxuXHRcdFx0XHRcdGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSB2YWx1ZS50b0ZpeGVkKDIpO1xyXG5cdFx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJCYWxhbmNlXCIsIGAke2JhbGFuY2VBbW91bnQudGV4dENvbnRlbnR9YCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRwbGF5ZXJCZXQgPSAwO1xyXG5cdH0sIDYwMDApO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHJvdWxldHRlRGl2LmNsYXNzTGlzdC5yZW1vdmUoXCJzcGluXCIpO1xyXG5cdFx0cm91bGV0dGVEaXYuc3R5bGUudHJhbnNmb3JtID0gYHRyYW5zbGF0ZTNkKDAsIDAsIDApYDtcclxuXHR9LCA5OTAwKTtcclxufSwgMTAwMDApO1xyXG5cclxuY29uc3QgYmV0QW1vdW50UmVkID0gKCkgPT4ge1xyXG5cdGNvbnN0IGJhbGFuY2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIik7XHJcblxyXG5cdGlmIChcclxuXHRcdGJldElucHV0LnZhbHVlICE9PSAwICYmXHJcblx0XHRiZXRJbnB1dC52YWx1ZSA8PSBwYXJzZUZsb2F0KGJhbGFuY2UpICYmXHJcblx0XHRwbGF5ZXJCZXQgPT09IDAgJiZcclxuXHRcdHNwaW5uaW5nID09PSBmYWxzZVxyXG5cdCkge1xyXG5cdFx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRcdGxldCB2YWx1ZSA9IGFtb3VudFZhbHVlIC0gYmV0SW5wdXQudmFsdWU7XHJcblx0XHRwbGF5ZXJCZXQgPSBcInJlZFwiO1xyXG5cdFx0cGxheWVyQmV0QW1vdW50ID0gYmV0SW5wdXQudmFsdWU7XHJcblx0XHRsYXN0QmV0QW1vdW50ID0gYmV0SW5wdXQudmFsdWU7XHJcblx0XHRiZXRJbnB1dC52YWx1ZSA9IFwiXCI7XHJcblx0XHR0b3RhbEJldEFtb3VudCsrO1xyXG5cdFx0dG90YWxBbW91bnRPZkJldHNGb3JSZWQudGV4dENvbnRlbnQgPSB0b3RhbEJldEFtb3VudDtcclxuXHRcdHRvdGFsQW1vdW50T2ZCZXRzQmFsYW5jZUZvclJlZC50ZXh0Q29udGVudCA9IHBsYXllckJldEFtb3VudDtcclxuXHJcblx0XHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxuXHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIkJhbGFuY2VcIiwgYCR7YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudH1gKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCBiZXRBbW91bnRCbGFjayA9ICgpID0+IHtcclxuXHRjb25zdCBiYWxhbmNlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpO1xyXG5cclxuXHRpZiAoXHJcblx0XHRiZXRJbnB1dC52YWx1ZSAhPT0gMCAmJlxyXG5cdFx0YmV0SW5wdXQudmFsdWUgPD0gcGFyc2VGbG9hdChiYWxhbmNlKSAmJlxyXG5cdFx0cGxheWVyQmV0ID09PSAwICYmXHJcblx0XHRzcGlubmluZyA9PT0gZmFsc2VcclxuXHQpIHtcclxuXHRcdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0XHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSAtIGJldElucHV0LnZhbHVlO1xyXG5cdFx0cGxheWVyQmV0ID0gXCJibGFja1wiO1xyXG5cdFx0cGxheWVyQmV0QW1vdW50ID0gYmV0SW5wdXQudmFsdWU7XHJcblx0XHRsYXN0QmV0QW1vdW50ID0gYmV0SW5wdXQudmFsdWU7XHJcblx0XHRiZXRJbnB1dC52YWx1ZSA9IFwiXCI7XHJcblx0XHR0b3RhbEJldEFtb3VudCsrO1xyXG5cdFx0dG90YWxBbW91bnRPZkJldHNGb3JCbGFjay50ZXh0Q29udGVudCA9IHRvdGFsQmV0QW1vdW50O1xyXG5cdFx0dG90YWxBbW91bnRPZkJldHNCYWxhbmNlRm9yQmxhY2sudGV4dENvbnRlbnQgPSBwbGF5ZXJCZXRBbW91bnQ7XHJcblxyXG5cdFx0YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcblxyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJCYWxhbmNlXCIsIGAke2JhbGFuY2VBbW91bnQudGV4dENvbnRlbnR9YCk7XHJcblx0fVxyXG59O1xyXG5jb25zdCBiZXRBbW91bnRHcmVlbiA9ICgpID0+IHtcclxuXHRjb25zdCBiYWxhbmNlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpO1xyXG5cclxuXHRpZiAoXHJcblx0XHRiZXRJbnB1dC52YWx1ZSAhPT0gMCAmJlxyXG5cdFx0YmV0SW5wdXQudmFsdWUgPD0gcGFyc2VGbG9hdChiYWxhbmNlKSAmJlxyXG5cdFx0cGxheWVyQmV0ID09PSAwICYmXHJcblx0XHRzcGlubmluZyA9PT0gZmFsc2VcclxuXHQpIHtcclxuXHRcdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0XHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSAtIGJldElucHV0LnZhbHVlO1xyXG5cdFx0cGxheWVyQmV0ID0gXCJncmVlblwiO1xyXG5cdFx0cGxheWVyQmV0QW1vdW50ID0gYmV0SW5wdXQudmFsdWU7XHJcblx0XHRsYXN0QmV0QW1vdW50ID0gYmV0SW5wdXQudmFsdWU7XHJcblx0XHRiZXRJbnB1dC52YWx1ZSA9IFwiXCI7XHJcblx0XHR0b3RhbEJldEFtb3VudCsrO1xyXG5cdFx0dG90YWxBbW91bnRPZkJldHNGb3JHcmVlbi50ZXh0Q29udGVudCA9IHRvdGFsQmV0QW1vdW50O1xyXG5cdFx0dG90YWxBbW91bnRPZkJldHNCYWxhbmNlRm9yR3JlZW4udGV4dENvbnRlbnQgPSBwbGF5ZXJCZXRBbW91bnQ7XHJcblxyXG5cdFx0YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcblxyXG5cdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJCYWxhbmNlXCIsIGAke2JhbGFuY2VBbW91bnQudGV4dENvbnRlbnR9YCk7XHJcblx0fVxyXG59O1xyXG5cclxucmVkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBiZXRBbW91bnRSZWQpO1xyXG5ncmVlbkJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYmV0QW1vdW50R3JlZW4pO1xyXG5ibGFja0J1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgYmV0QW1vdW50QmxhY2spO1xyXG5cclxuY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRiZXRJbnB1dC52YWx1ZSA9IFwiXCI7XHJcbn0pO1xyXG5cclxubGFzdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdGlmIChsYXN0QmV0QW1vdW50ICE9PSAwKSB7XHJcblx0XHRiZXRJbnB1dC52YWx1ZSA9IGxhc3RCZXRBbW91bnQ7XHJcblx0fVxyXG59KTtcclxuXHJcbnBsdXNPbmVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRsZXQgdmFsdWUgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKTtcclxuXHRiZXRJbnB1dC52YWx1ZSA9IHZhbHVlICsgMTtcclxufSk7XHJcblxyXG5wbHVzVGVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0bGV0IHZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSk7XHJcblx0YmV0SW5wdXQudmFsdWUgPSB2YWx1ZSArIDEwO1xyXG59KTtcclxuXHJcbnBsdXNPbmVIdW5kcmVkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0bGV0IHZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSk7XHJcblx0YmV0SW5wdXQudmFsdWUgPSB2YWx1ZSArIDEwMDtcclxufSk7XHJcblxyXG5wbHVzT25lVGhvdXNhbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRsZXQgdmFsdWUgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKTtcclxuXHRiZXRJbnB1dC52YWx1ZSA9IHZhbHVlICsgMTAwMDtcclxufSk7XHJcblxyXG5oYWxmQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0bGV0IHZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSk7XHJcblx0YmV0SW5wdXQudmFsdWUgPSB2YWx1ZSAvIDI7XHJcbn0pO1xyXG5cclxudGltZXNUd29CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRsZXQgdmFsdWUgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKTtcclxuXHRiZXRJbnB1dC52YWx1ZSA9IHZhbHVlICogMjtcclxufSk7XHJcblxyXG5tYXhCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRiZXRJbnB1dC52YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKTtcclxufSk7XHJcbiJdfQ==
