"use strict";var winningColor,playerBetAmount,rouletteDiv=document.querySelector(".main-roulette__list"),rouletteItems=document.querySelectorAll(".main-roulette__list-item"),elem=document.querySelector(".main-roulette__arrow"),elemOffset=elem.getBoundingClientRect(),middleLeft=elemOffset.left+2,middleRight=elemOffset.right-2,lastDrops=document.querySelector(".main-roulette__lastdrops"),seconds=document.querySelector(".main-roulette__countdown-timer-seconds"),secondTime=10,betInput=document.querySelector("#bet"),redButton=document.querySelector(".main-roulette__betbuttons-button--red"),greenButton=document.querySelector(".main-roulette__betbuttons-button--green"),blackButton=document.querySelector(".main-roulette__betbuttons-button--black"),playerBet=0,spinning=!1,balanceAmount=document.querySelector(".nav__list-item-balance-amount"),spinRoulette=function(){var t=Math.floor(25e3*Math.random()+5e3);spinning=!0,rouletteDiv.classList.add("spin"),rouletteDiv.style.transform="translate3d(-".concat(t,"px, 0, 0)")},betAmountRed=(setInterval(function(){secondTime--,seconds.textContent=secondTime+":"},1e3),setInterval(function(){0===secondTime&&(secondTime=10,seconds.textContent=secondTime+":")},100),setInterval(function(){spinRoulette(),setTimeout(function(){var a=lastDrops.childElementCount;spinning=!1,rouletteItems.forEach(function(t){var e,n,o=t.getBoundingClientRect();middleLeft>=o.left&&middleRight<=o.right&&t.classList.contains("main-roulette__list-item--red")?(winningColor="red",e=document.createElement("div"),(n=document.createElement("img")).setAttribute("class","main-roulette__lastdrops-item-img"),n.setAttribute("alt","Coin Icon"),n.setAttribute("src","./dist/img/other/coin.png"),e.append(n),e.setAttribute("class","main-roulette__lastdrops-item main-roulette__lastdrops-item--red"),9===a&&lastDrops.firstElementChild.remove(),lastDrops.append(e),"red"===playerBet&&(playerBetAmount*=2,console.log(playerBetAmount),n=parseFloat(balanceAmount.textContent)+playerBetAmount,balanceAmount.textContent=n.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent)))):middleLeft>=o.left&&middleRight<=o.right&&t.classList.contains("main-roulette__list-item--black")?(winningColor="black",e=document.createElement("div"),(n=document.createElement("img")).setAttribute("class","main-roulette__lastdrops-item-img"),n.setAttribute("alt","Coin Icon"),n.setAttribute("src","./dist/img/other/coin.png"),e.append(n),e.setAttribute("class","main-roulette__lastdrops-item main-roulette__lastdrops-item--black"),9===a&&lastDrops.firstElementChild.remove(),lastDrops.append(e),"black"===playerBet&&(playerBetAmount*=2,console.log(playerBetAmount),n=parseFloat(balanceAmount.textContent)+playerBetAmount,balanceAmount.textContent=n.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent)))):middleLeft>=o.left&&middleRight<=o.right&&t.classList.contains("main-roulette__list-item--green")&&(winningColor="green",e=document.createElement("div"),(n=document.createElement("img")).setAttribute("class","main-roulette__lastdrops-item-img"),n.setAttribute("alt","Coin Icon"),n.setAttribute("src","./dist/img/other/coin.png"),e.append(n),e.setAttribute("class","main-roulette__lastdrops-item main-roulette__lastdrops-item--green"),9===a&&lastDrops.firstElementChild.remove(),lastDrops.append(e),"green"===playerBet)&&(playerBetAmount*=14,console.log(playerBetAmount),o=parseFloat(balanceAmount.textContent)+playerBetAmount,balanceAmount.textContent=o.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent)))}),playerBet=0},6e3),setTimeout(function(){rouletteDiv.classList.remove("spin"),rouletteDiv.style.transform="translate3d(0, 0, 0)"},9900)},1e4),function(){var t=localStorage.getItem("Balance");0!==betInput.value&&betInput.value<=parseFloat(t)&&0===playerBet&&!1===spinning&&(t=parseFloat(balanceAmount.textContent)-betInput.value,playerBet="red",playerBetAmount=betInput.value,balanceAmount.textContent=t.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent)))}),betAmountBlack=function(){var t=localStorage.getItem("Balance");0!==betInput.value&&betInput.value<=parseFloat(t)&&0===playerBet&&!1===spinning&&(t=parseFloat(balanceAmount.textContent)-betInput.value,playerBet="black",playerBetAmount=betInput.value,balanceAmount.textContent=t.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent)))},betAmountGreen=function(){var t=localStorage.getItem("Balance");0!==betInput.value&&betInput.value<=parseFloat(t)&&0===playerBet&&!1===spinning&&(t=parseFloat(balanceAmount.textContent)-betInput.value,playerBet="green",playerBetAmount=betInput.value,balanceAmount.textContent=t.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent)))};redButton.addEventListener("click",betAmountRed),greenButton.addEventListener("click",betAmountGreen),blackButton.addEventListener("click",betAmountBlack);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInJvdWxldHRlLmpzIl0sIm5hbWVzIjpbInJvdWxldHRlRGl2IiwicGxheWVyQmV0QW1vdW50IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwicm91bGV0dGVJdGVtcyIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJ3aW5uaW5nQ29sb3IiLCJlbGVtIiwiZ2V0Qm91bmRpbmdDbGllbnRSZWN0IiwiZWxlbU9mZnNldCIsIm1pZGRsZUxlZnQiLCJtaWRkbGVSaWdodCIsInNlY29uZFRpbWUiLCJiZXRJbnB1dCIsInJlZEJ1dHRvbiIsImdyZWVuQnV0dG9uIiwiYmxhY2tCdXR0b24iLCJwbGF5ZXJCZXQiLCJzcGlubmluZyIsImJhbGFuY2VBbW91bnQiLCJyYW5kb21OdW0iLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJjbGFzc0xpc3QiLCJhZGQiLCJzZXRJbnRlcnZhbCIsInN0eWxlIiwidHJhbnNmb3JtIiwiY29uY2F0IiwiYmV0QW1vdW50UmVkIiwic2Vjb25kcyIsInNwaW5Sb3VsZXR0ZSIsInNldFRpbWVvdXQiLCJsYXN0RHJvcHNDaGlsZENvdW50IiwiY3JlYXRlRWxlbWVudCIsImxhc3REcm9wSXRlbUltZyIsInNldEF0dHJpYnV0ZSIsImxhc3REcm9wSXRlbSIsImJldEFtb3VudEJsYWNrIiwicG9zIiwiZmlyc3RFbGVtZW50Q2hpbGQiLCJpdGVtIiwiY29udGFpbnMiLCJsb2ciLCJsb2NhbFN0b3JhZ2UiLCJsYXN0RHJvcHMiLCJhcHBlbmQiLCJjb25zb2xlIiwidmFsdWUiLCJ0ZXh0Q29udGVudCIsImFtb3VudFZhbHVlIiwicmlnaHQiLCJyZW1vdmUiLCJnZXRJdGVtIiwic2V0SXRlbSIsInRvRml4ZWQiLCJiZXRBbW91bnRHcmVlbiIsImFkZEV2ZW50TGlzdGVuZXIiLCJiYWxhbmNlIiwicGFyc2VGbG9hdCJdLCJtYXBwaW5ncyI6ImFBQUEsSUFBTUEsYUFpQkZDLGdCQWpCRUQsWUFBY0UsU0FBU0MsY0FBYyxzQkFBc0IsRUFDM0RDLGNBQWdCRixTQUFTRyxpQkFBaUIsMkJBQTJCLEVBQXJFRCxLQUFBQSxTQUFnQkYsY0FBU0csdUJBQWlCLEVBQzVDQyxXQUFZQyxLQUFBQyxzQkFBQSxFQUNaRCxXQUFPTCxXQUFTQyxLQUFjLEVBQzlCTSxZQUFhRixXQUFLQyxNQUFBQSxFQUNsQkUsVUFBYUQsU0FBVU4sY0FBUywyQkFBQSxFQUNoQ1EsUUFBV1QsU0FBR08sY0FDbEIseUNBQ0EsRUFHSUcsV0FBYSxHQUNYQyxTQUFXWCxTQUFTQyxjQUFjLE1BQU8sRUFDekNXLFVBQVlaLFNBQVNDLGNBQWMsd0NBQXlDLEVBQzVFWSxZQUFjYixTQUFTQyxjQUFjLDBDQUEyQyxFQUNoRmEsWUFBY2QsU0FBU0MsY0FBYywwQ0FBMkMsRUFDbEZjLFVBQVksRUFFWkMsU0FBVyxDQUFBLEVBQ1RDLGNBQWdCakIsU0FBU0MsY0FBYyxnQ0FBaUMsRUFHdkVpQixhQUFZQyxXQUFsQixJQUNBSCxFQUFlRyxLQUFBQyxNQUFBLEtBQUFELEtBQUFFLE9BQUEsRUFBQSxHQUFBLEVBQWZMLFNBRUFsQixDQUFBQSxFQUVBQSxZQUFBd0IsVUFBQUMsSUFBQSxNQUFBLEVBRURDLFlBQVlDLE1BQUFDLFVBQU0sZ0JBQUFDLE9BQUFULEVBQUEsV0FBQSxDQUZsQixFQWlKTVUsY0E1SU5KLFlBQVEsV0FFUkEsVUFBVyxHQUhWSyxRQUlJbkIsWUFBZ0JBLFdBQUUsR0FIdkIsRUFBRyxHQUlEQSxFQUZGYyxZQUlDLFdBQ00sSUFBSmQsYUFFSGMsV0FBWSxHQUNYTSxRQUFBQSxZQUFjcEIsV0FBQSxJQUhmLEVBQUcsR0FNRCxFQUpGYyxZQU9FdEIsV0FORDRCLGFBT1MsRUFMVEMsV0FZRzNCLFdBWEYsSUFhRTRCLEVBQXFCaEMsVUFBU2lDLGtCQVpoQ2pCLFNBYVFrQixDQUFBQSxFQVhSaEMsY0FnQkVnQyxRQUFnQkMsU0FBQUEsR0FmakIsSUE2SUZDLEVBRUtDLEVBL0lDQyxFQWdCSEosRUFBQUEsc0JBQTZCLEVBYjdCMUIsWUFvQkl3QixFQUFBQSxNQW5CSnZCLGFBb0JVNkIsRUFBQ0MsT0FuQlhDLEVBQUtsQixVQW9CS21CLFNBQVFMLCtCQUFhLEdBbEIvQmhDLGFBb0JVLE1BR1ZnQyxFQUFhcEMsU0FBWWlDLGNBQUEsS0FBQSxHQUN4QmxDLEVBQWtCQSxTQUFBQSxjQUFtQixLQUFBLEdBQzdCMkMsYUFwQlIsUUFDQSxtQ0FDRCxFQUNBUixFQXNCQ1MsYUFBcUIsTUFBUyxXQUFBLEVBckIvQlQsRUFzQkFDLGFBQUEsTUFBQSwyQkFBQSxFQXJCQUMsRUF1QkE1QixPQUFBQSxDQUFzQixFQXRCdEI0QixFQTBCQWhDLGFBekJDLFFBQ0Esa0VBQ0QsRUFnQ2dCK0IsSUFBaEJELEdBN0JDVSxVQThCRFIsa0JBQW9CRixPQUFBQSxFQTNCbkJVLFVBa0NBQSxPQUFVTCxDQUFBQSxFQUdBTSxRQWxDUDlCLFlBQ0hoQixpQkFrQ0QsRUFqQ0MrQyxRQWtDRy9CLElBQUFBLGVBQWMsRUFoQ2JnQyxFQWlDSmhELFdBQWtCQSxjQUFtQmlELFdBQUEsRUFDekJqRCxnQkFoQ1prQixjQWtDSThCLFlBQVFFLEVBQWNsRCxRQUFBQSxDQUFBQSxFQWpDMUI0QyxhQW1DQTFCLFFBQWMrQixVQUFXLEdBQUFyQixPQUFHb0IsY0FBZUMsV0FBQyxDQUFBLElBaEM3Q3hDLFlBb0NBQSxFQUFBQSxNQW5DQUMsYUF1Q0FMLEVBQWU4QyxPQXRDZlYsRUF3Q0FsQixVQUFNYyxTQUFZLGlDQUFnQyxHQXRDbERoQyxhQXdDQThCLFFBS0FBLEVBQWVsQyxTQUFDbUMsY0FBb0IsS0FBQSxHQUNwQ0MsRUFBYVMsU0FBT1gsY0FBZ0IsS0FBQSxHQUNwQ0UsYUExQ0MsUUFDQSxtQ0FDRCxFQUNBRixFQStDT0MsYUFBQSxNQUFBLFdBQUEsRUE5Q1BELEVBK0NXVyxhQUFPVCxNQUFBQSwyQkFBYSxFQTlDL0JBLEVBK0NBUyxPQUFBWCxDQUFBLEVBOUNBRSxFQStDSXJCLGFBOUNILFFBQ0Esb0VBQ0QsRUFrRGVpQyxJQWhEWGhCLEdBQ0hZLFVBZ0RBRCxrQkFBcUJRLE9BQVMsRUFHaENQLFVBQUNDLE9BQUFULENBQUEsRUFHSyxVQUFMckIsWUFFSGdCLGlCQUFpQixFQUNoQmpDLFFBQUFBLElBQVl3QixlQUFnQixFQUV0QnlCLEVBRFlyQixXQUFTVCxjQUFBK0IsV0FBeUIsRUFDN0NqRCxnQkFHSDZCLGNBQWVvQixZQUFmcEIsRUFBQUEsUUFBcUIsQ0FBQSxFQUMxQmUsYUFBZ0JBLFFBQUFBLFVBQWFTLEdBQUFBLE9BQVFuQyxjQUFVK0IsV0FBQSxDQUFBLElBUzlDeEMsWUFBWXlDLEVBQUFBLE1BQ1psQyxhQUFZdUIsRUFBS1ksT0FDakJuRCxFQUFBQSxVQUFlMEMsU0FBRzlCLGlDQUFjLElBSWhDZ0MsYUFBYVUsUUFFZGpCLEVBQUFwQyxTQUFBaUMsY0FBQSxLQUFBLEdBRUtJLEVBQWlCckMsU0FBakJxQyxjQUF1QixLQUFBLEdBQ1pNLGFBRWhCLFFBTUMsbUNBQ0EsRUFDQTVCLEVBQVlvQixhQUFPLE1BQUEsV0FBQSxFQUNuQnBDLEVBQWVvQyxhQUFZWSxNQUFLLDJCQUFBLEVBRWhDOUIsRUFBYTRCLE9BQUNHLENBQW9CTSxFQUVsQ1gsRUFBYVUsYUFDZCxRQUNBLG9FQUNLRSxFQUtKNUMsSUFEQUEsR0FLQWlDLFVBQUlLLGtCQUF5QmhDLE9BQUFBLEVBRzdCbEIsVUFBQUEsT0FBa0JZLENBQVNvQyxFQUlkTSxVQUFiVixhQUNENUMsaUJBQUEsR0FDQStDLFFBQUFKLElBQUEzQyxlQUFBLEVBR0RjLEVBRFUyQyxXQUF3QnZDLGNBQWMrQixXQUFDLEVBQ3BCakQsZ0JBM0V4QmtCLGNBQWMrQixZQUFjRCxFQUFNTyxRQUFRLENBQUMsRUFDM0NYLGFBQWFVLFFBQVEsVUFBUyxHQUFBMUIsT0FBS1YsY0FBYytCLFdBQVcsQ0FBRSxFQUdqRSxDQUFDLEVBRURqQyxVQUFZLENBQ2IsRUFBRyxHQUFJLEVBRVBnQixXQUFXLFdBQ1ZqQyxZQUFZd0IsVUFBVTZCLE9BQU8sTUFBTSxFQUNuQ3JELFlBQVkyQixNQUFNQyxVQUFTLHNCQUM1QixFQUFHLElBQUksQ0FDUixFQUFHLEdBQUssRUFFYSxXQUNwQixJQUFNK0IsRUFBVWQsYUFBYVMsUUFBUSxTQUFTLEVBRzFCLElBQW5CekMsU0FBU29DLE9BQ1RwQyxTQUFTb0MsT0FBU1csV0FBV0QsQ0FBTyxHQUN0QixJQUFkMUMsV0FDYSxDQUFBLElBQWJDLFdBR0krQixFQURjVyxXQUFXekMsY0FBYytCLFdBQVcsRUFDNUJyQyxTQUFTb0MsTUFDbkNoQyxVQUFZLE1BQ1poQixnQkFBa0JZLFNBQVNvQyxNQUUzQjlCLGNBQWMrQixZQUFjRCxFQUFNTyxRQUFRLENBQUMsRUFFM0NYLGFBQWFVLFFBQVEsVUFBUyxHQUFBMUIsT0FBS1YsY0FBYytCLFdBQVcsQ0FBRSxFQUVoRSxHQUVNWCxlQUFpQixXQUN0QixJQUFNb0IsRUFBVWQsYUFBYVMsUUFBUSxTQUFTLEVBRzFCLElBQW5CekMsU0FBU29DLE9BQ1RwQyxTQUFTb0MsT0FBU1csV0FBV0QsQ0FBTyxHQUN0QixJQUFkMUMsV0FDYSxDQUFBLElBQWJDLFdBR0krQixFQURjVyxXQUFXekMsY0FBYytCLFdBQVcsRUFDNUJyQyxTQUFTb0MsTUFDbkNoQyxVQUFZLFFBQ1poQixnQkFBa0JZLFNBQVNvQyxNQUUzQjlCLGNBQWMrQixZQUFjRCxFQUFNTyxRQUFRLENBQUMsRUFFM0NYLGFBQWFVLFFBQVEsVUFBUyxHQUFBMUIsT0FBS1YsY0FBYytCLFdBQVcsQ0FBRSxFQUVoRSxFQUNNTyxlQUFpQixXQUN0QixJQUFNRSxFQUFVZCxhQUFhUyxRQUFRLFNBQVMsRUFHMUIsSUFBbkJ6QyxTQUFTb0MsT0FDVHBDLFNBQVNvQyxPQUFTVyxXQUFXRCxDQUFPLEdBQ3RCLElBQWQxQyxXQUNhLENBQUEsSUFBYkMsV0FHSStCLEVBRGNXLFdBQVd6QyxjQUFjK0IsV0FBVyxFQUM1QnJDLFNBQVNvQyxNQUNuQ2hDLFVBQVksUUFDWmhCLGdCQUFrQlksU0FBU29DLE1BRTNCOUIsY0FBYytCLFlBQWNELEVBQU1PLFFBQVEsQ0FBQyxFQUUzQ1gsYUFBYVUsUUFBUSxVQUFTLEdBQUExQixPQUFLVixjQUFjK0IsV0FBVyxDQUFFLEVBRWhFLEVBRUFwQyxVQUFVNEMsaUJBQWlCLFFBQVM1QixZQUFZLEVBQ2hEZixZQUFZMkMsaUJBQWlCLFFBQVNELGNBQWMsRUFDcER6QyxZQUFZMEMsaUJBQWlCLFFBQVNuQixjQUFjIiwiZmlsZSI6InJvdWxldHRlLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHJvdWxldHRlRGl2ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLXJvdWxldHRlX19saXN0XCIpO1xyXG5jb25zdCByb3VsZXR0ZUl0ZW1zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbChcIi5tYWluLXJvdWxldHRlX19saXN0LWl0ZW1cIik7XHJcbmxldCB3aW5uaW5nQ29sb3I7XHJcbmxldCBlbGVtID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLXJvdWxldHRlX19hcnJvd1wiKTtcclxubGV0IGVsZW1PZmZzZXQgPSBlbGVtLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xyXG5sZXQgbWlkZGxlTGVmdCA9IGVsZW1PZmZzZXQubGVmdCArIDI7XHJcbmxldCBtaWRkbGVSaWdodCA9IGVsZW1PZmZzZXQucmlnaHQgLSAyO1xyXG5jb25zdCBsYXN0RHJvcHMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tcm91bGV0dGVfX2xhc3Rkcm9wc1wiKTtcclxuY29uc3Qgc2Vjb25kcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXHJcblx0XCIubWFpbi1yb3VsZXR0ZV9fY291bnRkb3duLXRpbWVyLXNlY29uZHNcIlxyXG4pO1xyXG5sZXQgc2Vjb25kVGltZSA9IDEwO1xyXG5jb25zdCBiZXRJbnB1dCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYmV0XCIpO1xyXG5jb25zdCByZWRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tcm91bGV0dGVfX2JldGJ1dHRvbnMtYnV0dG9uLS1yZWRcIik7XHJcbmNvbnN0IGdyZWVuQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLXJvdWxldHRlX19iZXRidXR0b25zLWJ1dHRvbi0tZ3JlZW5cIik7XHJcbmNvbnN0IGJsYWNrQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLXJvdWxldHRlX19iZXRidXR0b25zLWJ1dHRvbi0tYmxhY2tcIik7XHJcbmxldCBwbGF5ZXJCZXQgPSAwO1xyXG5sZXQgcGxheWVyQmV0QW1vdW50O1xyXG5sZXQgc3Bpbm5pbmcgPSBmYWxzZTtcclxuY29uc3QgYmFsYW5jZUFtb3VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19saXN0LWl0ZW0tYmFsYW5jZS1hbW91bnRcIik7XHJcblxyXG5jb25zdCBzcGluUm91bGV0dGUgPSAoKSA9PiB7XHJcblx0Y29uc3QgcmFuZG9tTnVtID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjUwMDAgKyA1MDAwKTtcclxuXHRzcGlubmluZyA9IHRydWU7XHJcblxyXG5cdHJvdWxldHRlRGl2LmNsYXNzTGlzdC5hZGQoXCJzcGluXCIpO1xyXG5cdHJvdWxldHRlRGl2LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgtJHtyYW5kb21OdW19cHgsIDAsIDApYDtcclxufTtcclxuXHJcbnNldEludGVydmFsKCgpID0+IHtcclxuXHRzZWNvbmRUaW1lLS07XHJcblx0c2Vjb25kcy50ZXh0Q29udGVudCA9IHNlY29uZFRpbWUgKyBcIjpcIjtcclxufSwgMTAwMCk7XHJcblxyXG5zZXRJbnRlcnZhbCgoKSA9PiB7XHJcblx0aWYgKHNlY29uZFRpbWUgPT09IDApIHtcclxuXHRcdHNlY29uZFRpbWUgPSAxMDtcclxuXHRcdHNlY29uZHMudGV4dENvbnRlbnQgPSBzZWNvbmRUaW1lICsgXCI6XCI7XHJcblx0fVxyXG59LCAxMDApO1xyXG5cclxuc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG5cdHNwaW5Sb3VsZXR0ZSgpO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGNvbnN0IGxhc3REcm9wc0NoaWxkQ291bnQgPSBsYXN0RHJvcHMuY2hpbGRFbGVtZW50Q291bnQ7XHJcblx0XHRzcGlubmluZyA9IGZhbHNlO1xyXG5cclxuXHRcdHJvdWxldHRlSXRlbXMuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG5cdFx0XHRsZXQgcG9zID0gaXRlbS5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtcclxuXHJcblx0XHRcdGlmIChcclxuXHRcdFx0XHRtaWRkbGVMZWZ0ID49IHBvcy5sZWZ0ICYmXHJcblx0XHRcdFx0bWlkZGxlUmlnaHQgPD0gcG9zLnJpZ2h0ICYmXHJcblx0XHRcdFx0aXRlbS5jbGFzc0xpc3QuY29udGFpbnMoXCJtYWluLXJvdWxldHRlX19saXN0LWl0ZW0tLXJlZFwiKVxyXG5cdFx0XHQpIHtcclxuXHRcdFx0XHR3aW5uaW5nQ29sb3IgPSBcInJlZFwiO1xyXG5cclxuXHRcdFx0XHRjb25zdCBsYXN0RHJvcEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0XHRcdGNvbnN0IGxhc3REcm9wSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRcdFx0bGFzdERyb3BJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XHRcdFwiY2xhc3NcIixcclxuXHRcdFx0XHRcdFwibWFpbi1yb3VsZXR0ZV9fbGFzdGRyb3BzLWl0ZW0taW1nXCJcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdGxhc3REcm9wSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJDb2luIEljb25cIik7XHJcblx0XHRcdFx0bGFzdERyb3BJdGVtSW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4vZGlzdC9pbWcvb3RoZXIvY29pbi5wbmdcIik7XHJcblx0XHRcdFx0bGFzdERyb3BJdGVtLmFwcGVuZChsYXN0RHJvcEl0ZW1JbWcpO1xyXG5cdFx0XHRcdGxhc3REcm9wSXRlbS5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFx0XHRcImNsYXNzXCIsXHJcblx0XHRcdFx0XHRcIm1haW4tcm91bGV0dGVfX2xhc3Rkcm9wcy1pdGVtIG1haW4tcm91bGV0dGVfX2xhc3Rkcm9wcy1pdGVtLS1yZWRcIlxyXG5cdFx0XHRcdCk7XHJcblxyXG5cdFx0XHRcdGlmIChsYXN0RHJvcHNDaGlsZENvdW50ID09PSA5KSB7XHJcblx0XHRcdFx0XHRsYXN0RHJvcHMuZmlyc3RFbGVtZW50Q2hpbGQucmVtb3ZlKCk7XHJcblx0XHRcdFx0XHRsYXN0RHJvcHMuYXBwZW5kKGxhc3REcm9wSXRlbSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGxhc3REcm9wcy5hcHBlbmQobGFzdERyb3BJdGVtKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmIChwbGF5ZXJCZXQgPT09IFwicmVkXCIpIHtcclxuXHRcdFx0XHRcdHBsYXllckJldEFtb3VudCA9IHBsYXllckJldEFtb3VudCAqIDI7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhwbGF5ZXJCZXRBbW91bnQpO1xyXG5cdFx0XHRcdFx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRcdFx0XHRcdGxldCB2YWx1ZSA9IGFtb3VudFZhbHVlICsgcGxheWVyQmV0QW1vdW50O1xyXG5cclxuXHRcdFx0XHRcdGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSB2YWx1ZS50b0ZpeGVkKDIpO1xyXG5cdFx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJCYWxhbmNlXCIsIGAke2JhbGFuY2VBbW91bnQudGV4dENvbnRlbnR9YCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKFxyXG5cdFx0XHRcdG1pZGRsZUxlZnQgPj0gcG9zLmxlZnQgJiZcclxuXHRcdFx0XHRtaWRkbGVSaWdodCA8PSBwb3MucmlnaHQgJiZcclxuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC5jb250YWlucyhcIm1haW4tcm91bGV0dGVfX2xpc3QtaXRlbS0tYmxhY2tcIilcclxuXHRcdFx0KSB7XHJcblx0XHRcdFx0d2lubmluZ0NvbG9yID0gXCJibGFja1wiO1xyXG5cclxuXHRcdFx0XHRjb25zdCBsYXN0RHJvcEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0XHRcdGNvbnN0IGxhc3REcm9wSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRcdFx0bGFzdERyb3BJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XHRcdFwiY2xhc3NcIixcclxuXHRcdFx0XHRcdFwibWFpbi1yb3VsZXR0ZV9fbGFzdGRyb3BzLWl0ZW0taW1nXCJcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdGxhc3REcm9wSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJDb2luIEljb25cIik7XHJcblx0XHRcdFx0bGFzdERyb3BJdGVtSW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4vZGlzdC9pbWcvb3RoZXIvY29pbi5wbmdcIik7XHJcblx0XHRcdFx0bGFzdERyb3BJdGVtLmFwcGVuZChsYXN0RHJvcEl0ZW1JbWcpO1xyXG5cdFx0XHRcdGxhc3REcm9wSXRlbS5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFx0XHRcImNsYXNzXCIsXHJcblx0XHRcdFx0XHRcIm1haW4tcm91bGV0dGVfX2xhc3Rkcm9wcy1pdGVtIG1haW4tcm91bGV0dGVfX2xhc3Rkcm9wcy1pdGVtLS1ibGFja1wiXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0aWYgKGxhc3REcm9wc0NoaWxkQ291bnQgPT09IDkpIHtcclxuXHRcdFx0XHRcdGxhc3REcm9wcy5maXJzdEVsZW1lbnRDaGlsZC5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdGxhc3REcm9wcy5hcHBlbmQobGFzdERyb3BJdGVtKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0bGFzdERyb3BzLmFwcGVuZChsYXN0RHJvcEl0ZW0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAocGxheWVyQmV0ID09PSBcImJsYWNrXCIpIHtcclxuXHRcdFx0XHRcdHBsYXllckJldEFtb3VudCA9IHBsYXllckJldEFtb3VudCAqIDI7XHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhwbGF5ZXJCZXRBbW91bnQpO1xyXG5cdFx0XHRcdFx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRcdFx0XHRcdGxldCB2YWx1ZSA9IGFtb3VudFZhbHVlICsgcGxheWVyQmV0QW1vdW50O1xyXG5cclxuXHRcdFx0XHRcdGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSB2YWx1ZS50b0ZpeGVkKDIpO1xyXG5cdFx0XHRcdFx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJCYWxhbmNlXCIsIGAke2JhbGFuY2VBbW91bnQudGV4dENvbnRlbnR9YCk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKFxyXG5cdFx0XHRcdG1pZGRsZUxlZnQgPj0gcG9zLmxlZnQgJiZcclxuXHRcdFx0XHRtaWRkbGVSaWdodCA8PSBwb3MucmlnaHQgJiZcclxuXHRcdFx0XHRpdGVtLmNsYXNzTGlzdC5jb250YWlucyhcIm1haW4tcm91bGV0dGVfX2xpc3QtaXRlbS0tZ3JlZW5cIilcclxuXHRcdFx0KSB7XHJcblx0XHRcdFx0d2lubmluZ0NvbG9yID0gXCJncmVlblwiO1xyXG5cclxuXHRcdFx0XHRjb25zdCBsYXN0RHJvcEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0XHRcdGNvbnN0IGxhc3REcm9wSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRcdFx0bGFzdERyb3BJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XHRcdFwiY2xhc3NcIixcclxuXHRcdFx0XHRcdFwibWFpbi1yb3VsZXR0ZV9fbGFzdGRyb3BzLWl0ZW0taW1nXCJcclxuXHRcdFx0XHQpO1xyXG5cdFx0XHRcdGxhc3REcm9wSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJDb2luIEljb25cIik7XHJcblx0XHRcdFx0bGFzdERyb3BJdGVtSW1nLnNldEF0dHJpYnV0ZShcInNyY1wiLCBcIi4vZGlzdC9pbWcvb3RoZXIvY29pbi5wbmdcIik7XHJcblx0XHRcdFx0bGFzdERyb3BJdGVtLmFwcGVuZChsYXN0RHJvcEl0ZW1JbWcpO1xyXG5cdFx0XHRcdGxhc3REcm9wSXRlbS5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFx0XHRcImNsYXNzXCIsXHJcblx0XHRcdFx0XHRcIm1haW4tcm91bGV0dGVfX2xhc3Rkcm9wcy1pdGVtIG1haW4tcm91bGV0dGVfX2xhc3Rkcm9wcy1pdGVtLS1ncmVlblwiXHJcblx0XHRcdFx0KTtcclxuXHJcblx0XHRcdFx0aWYgKGxhc3REcm9wc0NoaWxkQ291bnQgPT09IDkpIHtcclxuXHRcdFx0XHRcdGxhc3REcm9wcy5maXJzdEVsZW1lbnRDaGlsZC5yZW1vdmUoKTtcclxuXHRcdFx0XHRcdGxhc3REcm9wcy5hcHBlbmQobGFzdERyb3BJdGVtKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0bGFzdERyb3BzLmFwcGVuZChsYXN0RHJvcEl0ZW0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpZiAocGxheWVyQmV0ID09PSBcImdyZWVuXCIpIHtcclxuXHRcdFx0XHRcdHBsYXllckJldEFtb3VudCA9IHBsYXllckJldEFtb3VudCAqIDE0O1xyXG5cdFx0XHRcdFx0Y29uc29sZS5sb2cocGxheWVyQmV0QW1vdW50KTtcclxuXHRcdFx0XHRcdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0XHRcdFx0XHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSArIHBsYXllckJldEFtb3VudDtcclxuXHJcblx0XHRcdFx0XHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxuXHRcdFx0XHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCBgJHtiYWxhbmNlQW1vdW50LnRleHRDb250ZW50fWApO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0cGxheWVyQmV0ID0gMDtcclxuXHR9LCA2MDAwKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRyb3VsZXR0ZURpdi5jbGFzc0xpc3QucmVtb3ZlKFwic3BpblwiKTtcclxuXHRcdHJvdWxldHRlRGl2LnN0eWxlLnRyYW5zZm9ybSA9IGB0cmFuc2xhdGUzZCgwLCAwLCAwKWA7XHJcblx0fSwgOTkwMCk7XHJcbn0sIDEwMDAwKTtcclxuXHJcbmNvbnN0IGJldEFtb3VudFJlZCA9ICgpID0+IHtcclxuXHRjb25zdCBiYWxhbmNlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpO1xyXG5cclxuXHRpZiAoXHJcblx0XHRiZXRJbnB1dC52YWx1ZSAhPT0gMCAmJlxyXG5cdFx0YmV0SW5wdXQudmFsdWUgPD0gcGFyc2VGbG9hdChiYWxhbmNlKSAmJlxyXG5cdFx0cGxheWVyQmV0ID09PSAwICYmXHJcblx0XHRzcGlubmluZyA9PT0gZmFsc2VcclxuXHQpIHtcclxuXHRcdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0XHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSAtIGJldElucHV0LnZhbHVlO1xyXG5cdFx0cGxheWVyQmV0ID0gXCJyZWRcIjtcclxuXHRcdHBsYXllckJldEFtb3VudCA9IGJldElucHV0LnZhbHVlO1xyXG5cclxuXHRcdGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSB2YWx1ZS50b0ZpeGVkKDIpO1xyXG5cclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCBgJHtiYWxhbmNlQW1vdW50LnRleHRDb250ZW50fWApO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IGJldEFtb3VudEJsYWNrID0gKCkgPT4ge1xyXG5cdGNvbnN0IGJhbGFuY2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIik7XHJcblxyXG5cdGlmIChcclxuXHRcdGJldElucHV0LnZhbHVlICE9PSAwICYmXHJcblx0XHRiZXRJbnB1dC52YWx1ZSA8PSBwYXJzZUZsb2F0KGJhbGFuY2UpICYmXHJcblx0XHRwbGF5ZXJCZXQgPT09IDAgJiZcclxuXHRcdHNwaW5uaW5nID09PSBmYWxzZVxyXG5cdCkge1xyXG5cdFx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRcdGxldCB2YWx1ZSA9IGFtb3VudFZhbHVlIC0gYmV0SW5wdXQudmFsdWU7XHJcblx0XHRwbGF5ZXJCZXQgPSBcImJsYWNrXCI7XHJcblx0XHRwbGF5ZXJCZXRBbW91bnQgPSBiZXRJbnB1dC52YWx1ZTtcclxuXHJcblx0XHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxuXHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIkJhbGFuY2VcIiwgYCR7YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudH1gKTtcclxuXHR9XHJcbn07XHJcbmNvbnN0IGJldEFtb3VudEdyZWVuID0gKCkgPT4ge1xyXG5cdGNvbnN0IGJhbGFuY2UgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIik7XHJcblxyXG5cdGlmIChcclxuXHRcdGJldElucHV0LnZhbHVlICE9PSAwICYmXHJcblx0XHRiZXRJbnB1dC52YWx1ZSA8PSBwYXJzZUZsb2F0KGJhbGFuY2UpICYmXHJcblx0XHRwbGF5ZXJCZXQgPT09IDAgJiZcclxuXHRcdHNwaW5uaW5nID09PSBmYWxzZVxyXG5cdCkge1xyXG5cdFx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRcdGxldCB2YWx1ZSA9IGFtb3VudFZhbHVlIC0gYmV0SW5wdXQudmFsdWU7XHJcblx0XHRwbGF5ZXJCZXQgPSBcImdyZWVuXCI7XHJcblx0XHRwbGF5ZXJCZXRBbW91bnQgPSBiZXRJbnB1dC52YWx1ZTtcclxuXHJcblx0XHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxuXHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIkJhbGFuY2VcIiwgYCR7YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudH1gKTtcclxuXHR9XHJcbn07XHJcblxyXG5yZWRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGJldEFtb3VudFJlZCk7XHJcbmdyZWVuQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBiZXRBbW91bnRHcmVlbik7XHJcbmJsYWNrQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBiZXRBbW91bnRCbGFjayk7XHJcbiJdfQ==
