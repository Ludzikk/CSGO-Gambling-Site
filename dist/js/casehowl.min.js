"use strict";var currentWinningItemPrice,howlCase={under25:{name:"M4A4 | Howl",img:"./dist/img/howl/howl.png",price:5213},above25:{name:"M4A4 | Poly Mag",img:"./dist/img/howl/polymag.png",price:.68}},openBtn=document.querySelector(".open-btn"),caseBox=document.querySelector(".case"),winningItemBox=document.querySelector(".winning-item"),winningImg=document.querySelector(".winning-item img"),winningButton=document.querySelector(".winning-item-button"),openAudio=new Audio("./dist/audio/open.mp3"),itemsAnubisPrice=[[5213],[.68]],itemsAnubisImg=[["./dist/img/howl/howl.png"],["./dist/img/howl/polymag.png"]],itemsAnubisName=[["M4A4 | Howl"],["M4A4 | Poly Mag"]],red="linear-gradient(180deg, black 40%, rgba(222, 76, 65, .5) 100%)",pink="linear-gradient(180deg, black 40%, rgba(255, 50, 240, .5) 100%)",purple="linear-gradient(180deg, black 40%, rgba(125, 50, 255, .5) 100%)",lightBlue="linear-gradient(180deg, black 40%, rgba(160, 211, 255, .5) 100%)",blue="linear-gradient(180deg, black 40%, rgba(50, 113, 255, .5) 100%)",grey="linear-gradient(180deg, black 40%, rgba(78, 78, 78, .5) 100%)",opened=!1,balanceAmount=document.querySelector(".nav__list-item-balance-amount"),addBalance=(balanceAmount.textContent=localStorage.getItem("Balance"),function(){var e=parseFloat(balanceAmount.textContent)+currentWinningItemPrice;balanceAmount.textContent=e.toFixed(2)}),removeBalanceOnOpen=function(){var e=parseFloat(balanceAmount.textContent)-2e3;balanceAmount.textContent=e.toFixed(2)},startOpeningAnimation=function(){caseBox.classList.add("open-anim"),addItems(),opened=!0,setTimeout(function(){opened=!1,resetOpening()},6500)},setWinningItem=function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),o=(o=e)<=50?0:1,e=(n.style.background=e<=50?red:blue,Math.floor(Math.random()*itemsAnubisImg[o].length));n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[o][e]),a.setAttribute("alt",itemsAnubisName[o][e]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[o][e],console.log(itemsAnubisName[o][e]),n.append(a,i),t.append(n),caseBox.append(t),currentWinningItemPrice=itemsAnubisPrice[o][e],removeBalanceOnOpen(),setTimeout(function(){addBalance(),localStorage.setItem("Balance","".concat(balanceAmount.textContent))},5500),setTimeout(function(){t.remove()},6500)},addItems=function(){for(var e=0;e<=10;e++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),o=(o=e)<=50?0:1,m=Math.floor(Math.random()*itemsAnubisImg[o].length);n.style.background=e<=50?red:blue,n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[o][m]),a.setAttribute("alt",itemsAnubisName[o][m]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[o][m],n.append(a,i),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}();setWinningItem();for(var t=0;t<=4;t++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),o=(o=e)<=50?0:1,m=Math.floor(Math.random()*itemsAnubisImg[o].length);n.style.background=e<=50?red:blue,n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[o][m]),a.setAttribute("alt",itemsAnubisName[o][m]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[o][m],n.append(a,i),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}()},resetOpening=function(){caseBox.classList.remove("open-anim")};openBtn.addEventListener("click",function(){!1===opened&&2e3<=parseFloat(balanceAmount.textContent)&&(startOpeningAnimation(),openAudio.play())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhc2Vob3dsLmpzIl0sIm5hbWVzIjpbInJlbW92ZUJhbGFuY2VPbk9wZW4iLCJob3dsQ2FzZSIsInVuZGVyMjUiLCJuYW1lIiwicHJpY2UiLCJhYm92ZTI1IiwiaW1nIiwib3BlbkJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsImNhc2VCb3giLCJ3aW5uaW5nSXRlbUJveCIsIndpbm5pbmdJbWciLCJ3aW5uaW5nQnV0dG9uIiwib3BlbkF1ZGlvIiwiaXRlbXNBbnViaXNQcmljZSIsInBpbmsiLCJwdXJwbGUiLCJibHVlIiwib3BlbmVkIiwiYmFsYW5jZUFtb3VudCIsImFkZEJhbGFuY2UiLCJ2YWx1ZSIsImFtb3VudFZhbHVlIiwicGFyc2VGbG9hdCIsInRleHRDb250ZW50Iiwic3RhcnRPcGVuaW5nQW5pbWF0aW9uIiwibG9jYWxTdG9yYWdlIiwidG9GaXhlZCIsImFkZEl0ZW1zIiwiY3VycmVudFdpbm5pbmdJdGVtUHJpY2UiLCJzZXRXaW5uaW5nSXRlbSIsIndpbm5pbmdJdGVtRGl2IiwiY3JlYXRlRWxlbWVudCIsIndpbm5pbmdJdGVtVGV4dCIsImNoYW5jZXMiLCJ3aW5uaW5nSXRlbU51bWJlciIsInNldFRpbWVvdXQiLCJyZXNldE9wZW5pbmciLCJ3aW5uaW5nSXRlbSIsInJhbmRvbUl0ZW1Gcm9tQ29sb3IiLCJNYXRoIiwiZmxvb3IiLCJyYW5kb20iLCJpdGVtc0FudWJpc0ltZyIsInNldEF0dHJpYnV0ZSIsIndpbm5pbmdJdGVtSW1nIiwiaXRlbXNBbnViaXNOYW1lIiwiY29uc29sZSIsImFwcGVuZCIsInN0eWxlIiwiYmFja2dyb3VuZCIsInJlZCIsImxlbmd0aCIsIm5vcm1hbEl0ZW1OdW1iZXIiLCJub3JtYWxJdGVtRGl2Iiwibm9ybWFsSXRlbSIsIm5vcm1hbEl0ZW1UZXh0IiwiY29uY2F0IiwicmVtb3ZlIiwiX2xvb3AyIiwiaSIsIm5vcm1hbEl0ZW1JbWciLCJjbGFzc0xpc3QiLCJhZGRFdmVudExpc3RlbmVyIiwicGxheSJd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dHVuZGVyMjU6IHtcclxuXHRcdG5hbWU6IFwiTTRBNCB8IEhvd2xcIixcclxuXHRcdGltZzogXCIuL2Rpc3QvaW1nL2hvd2wvaG93bC5wbmdcIixcclxuXHRcdHByaWNlOiA1MjEzLFxyXG5cdH0sXHJcblxyXG5cdGFib3ZlMjU6IHtcclxuXHRcdG5hbWU6IFwiTTRBNCB8IFBvbHkgTWFnXCIsXHJcblx0XHRpbWc6IFwiLi9kaXN0L2ltZy9ob3dsL3BvbHltYWcucG5nXCIsXHJcblx0XHRwcmljZTogMC42OCxcclxuXHR9LFxyXG59O1xyXG5jb25zdCBvcGVuQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcGVuLWJ0blwiKTtcclxuY29uc3QgY2FzZUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FzZVwiKTtcclxuY29uc3Qgd2lubmluZ0l0ZW1Cb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbVwiKTtcclxuY29uc3Qgd2lubmluZ0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmluZy1pdGVtIGltZ1wiKTtcclxuY29uc3Qgd2lubmluZ0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmluZy1pdGVtLWJ1dHRvblwiKTtcclxuY29uc3Qgb3BlbkF1ZGlvID0gbmV3IEF1ZGlvKFwiLi9kaXN0L2F1ZGlvL29wZW4ubXAzXCIpO1xyXG5jb25zdCBpdGVtc0FudWJpc1ByaWNlID0gW1s1MjEzXSwgWzAuNjhdXTtcclxuY29uc3QgaXRlbXNBbnViaXNJbWcgPSBbXHJcblx0W1wiLi9kaXN0L2ltZy9ob3dsL2hvd2wucG5nXCJdLFxyXG5cdFtcIi4vZGlzdC9pbWcvaG93bC9wb2x5bWFnLnBuZ1wiXSxcclxuXTtcclxuY29uc3QgaXRlbXNBbnViaXNOYW1lID0gW1tcIk00QTQgfCBIb3dsXCJdLCBbXCJNNEE0IHwgUG9seSBNYWdcIl1dO1xyXG5jb25zdCByZWQgPVxyXG5cdFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDIyMiwgNzYsIDY1LCAuNSkgMTAwJSlcIjtcclxuY29uc3QgcGluayA9XHJcblx0XCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoMjU1LCA1MCwgMjQwLCAuNSkgMTAwJSlcIjtcclxuY29uc3QgcHVycGxlID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSgxMjUsIDUwLCAyNTUsIC41KSAxMDAlKVwiO1xyXG5jb25zdCBsaWdodEJsdWUgPVxyXG5cdFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDE2MCwgMjExLCAyNTUsIC41KSAxMDAlKVwiOyBcclxuY29uc3QgYmx1ZSA9XHJcblx0XCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoNTAsIDExMywgMjU1LCAuNSkgMTAwJSlcIjtcclxuY29uc3QgZ3JleSA9XHJcblx0XCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoNzgsIDc4LCA3OCwgLjUpIDEwMCUpXCI7XHJcbmxldCBvcGVuZWQgPSBmYWxzZTtcclxubGV0IGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlO1xyXG5jb25zdCBiYWxhbmNlQW1vdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX2xpc3QtaXRlbS1iYWxhbmNlLWFtb3VudFwiKTtcclxuXHJcbmJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIik7XHJcblxyXG5jb25zdCBhZGRCYWxhbmNlID0gKCkgPT4ge1xyXG5cdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0bGV0IHZhbHVlID0gYW1vdW50VmFsdWUgKyBjdXJyZW50V2lubmluZ0l0ZW1QcmljZTtcclxuXHJcblx0YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVCYWxhbmNlT25PcGVuID0gKCkgPT4ge1xyXG5cdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0bGV0IHZhbHVlID0gYW1vdW50VmFsdWUgLSAyMDAwO1xyXG5cclxuXHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxufTtcclxuXHJcbmNvbnN0IHN0YXJ0T3BlbmluZ0FuaW1hdGlvbiA9ICgpID0+IHtcclxuXHRjYXNlQm94LmNsYXNzTGlzdC5hZGQoXCJvcGVuLWFuaW1cIik7XHJcblx0YWRkSXRlbXMoKTtcclxuXHRvcGVuZWQgPSB0cnVlO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdG9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0cmVzZXRPcGVuaW5nKCk7XHJcblx0fSwgNjUwMCk7XHJcbn07XHJcblxyXG5jb25zdCBzZXRXaW5uaW5nSXRlbSA9ICgpID0+IHtcclxuXHRjb25zdCB3aW5uaW5nSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRsZXQgY2hhbmNlcyA9IHdpbm5pbmdJdGVtTnVtYmVyO1xyXG5cclxuXHRpZiAoY2hhbmNlcyA8PSA1MCkge1xyXG5cdFx0Y2hhbmNlcyA9IDA7XHJcblx0fSBlbHNlIHtcclxuXHRcdGNoYW5jZXMgPSAxO1xyXG5cdH1cclxuXHJcblx0aWYgKHdpbm5pbmdJdGVtTnVtYmVyIDw9IDUwKSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcmVkO1xyXG5cdH0gZWxzZSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYmx1ZTtcclxuXHR9XHJcblxyXG5cdGNvbnN0IHJhbmRvbUl0ZW1Gcm9tQ29sb3IgPSBNYXRoLmZsb29yKFxyXG5cdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdCk7XHJcblxyXG5cdHdpbm5pbmdJdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtXCIpO1xyXG5cdHdpbm5pbmdJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLWltZ1wiKTtcclxuXHR3aW5uaW5nSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcInNyY1wiLFxyXG5cdFx0aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHQpO1xyXG5cdHdpbm5pbmdJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFwiYWx0XCIsXHJcblx0XHRpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHQpO1xyXG5cdHdpbm5pbmdJdGVtVGV4dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1uYW1lXCIpO1xyXG5cdHdpbm5pbmdJdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0Y29uc29sZS5sb2coaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdKTtcclxuXHJcblx0d2lubmluZ0l0ZW0uYXBwZW5kKHdpbm5pbmdJdGVtSW1nLCB3aW5uaW5nSXRlbVRleHQpO1xyXG5cdHdpbm5pbmdJdGVtRGl2LmFwcGVuZCh3aW5uaW5nSXRlbSk7XHJcblx0Y2FzZUJveC5hcHBlbmQod2lubmluZ0l0ZW1EaXYpO1xyXG5cclxuXHRjdXJyZW50V2lubmluZ0l0ZW1QcmljZSA9IGl0ZW1zQW51YmlzUHJpY2VbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdHJlbW92ZUJhbGFuY2VPbk9wZW4oKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRhZGRCYWxhbmNlKCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIkJhbGFuY2VcIiwgYCR7YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudH1gKTtcclxuXHR9LCA1NTAwKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHR3aW5uaW5nSXRlbURpdi5yZW1vdmUoKTtcclxuXHR9LCA2NTAwKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZEl0ZW1zID0gKCkgPT4ge1xyXG5cdGZvciAobGV0IGkgPSAwOyBpIDw9IDEwOyBpKyspIHtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGxldCBjaGFuY2VzID0gbm9ybWFsSXRlbU51bWJlcjtcclxuXHJcblx0XHRpZiAoY2hhbmNlcyA8PSA1MCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMDtcclxuXHRcdH0gIGVsc2Uge1xyXG5cdFx0XHRjaGFuY2VzID0gMTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAobm9ybWFsSXRlbU51bWJlciA8PSA1MCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSByZWQ7XHJcblx0XHR9ICBlbHNlIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYmx1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRub3JtYWxJdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1pbWdcIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJzcmNcIixcclxuXHRcdFx0aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJhbHRcIixcclxuXHRcdFx0aXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0tbmFtZVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRcdG5vcm1hbEl0ZW0uYXBwZW5kKG5vcm1hbEl0ZW1JbWcsIG5vcm1hbEl0ZW1UZXh0KTtcclxuXHRcdG5vcm1hbEl0ZW1EaXYuYXBwZW5kKG5vcm1hbEl0ZW0pO1xyXG5cdFx0Y2FzZUJveC5hcHBlbmQobm9ybWFsSXRlbURpdik7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdG5vcm1hbEl0ZW1EaXYucmVtb3ZlKCk7XHJcblx0XHR9LCA2NTAwKTtcclxuXHR9XHJcblxyXG5cdHNldFdpbm5pbmdJdGVtKCk7XHJcblxyXG5cdGZvciAobGV0IGkgPSAwOyBpIDw9IDQ7IGkrKykge1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG5cdFx0bGV0IGNoYW5jZXMgPSBub3JtYWxJdGVtTnVtYmVyO1xyXG5cclxuXHRcdGlmIChjaGFuY2VzIDw9IDUwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAwO1xyXG5cdFx0fSAgZWxzZSB7XHJcblx0XHRcdGNoYW5jZXMgPSAxO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHJhbmRvbUl0ZW1Gcm9tQ29sb3IgPSBNYXRoLmZsb29yKFxyXG5cdFx0XHRNYXRoLnJhbmRvbSgpICogaXRlbXNBbnViaXNJbWdbY2hhbmNlc10ubGVuZ3RoXHJcblx0XHQpO1xyXG5cclxuXHRcdGlmIChub3JtYWxJdGVtTnVtYmVyIDw9IDUwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHRcdH0gIGVsc2Uge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBibHVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdG5vcm1hbEl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLWltZ1wiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcInNyY1wiLFxyXG5cdFx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcImFsdFwiLFxyXG5cdFx0XHRpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtVGV4dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1uYW1lXCIpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5hcHBlbmQobm9ybWFsSXRlbUltZywgbm9ybWFsSXRlbVRleHQpO1xyXG5cdFx0bm9ybWFsSXRlbURpdi5hcHBlbmQobm9ybWFsSXRlbSk7XHJcblx0XHRjYXNlQm94LmFwcGVuZChub3JtYWxJdGVtRGl2KTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0bm9ybWFsSXRlbURpdi5yZW1vdmUoKTtcclxuXHRcdH0sIDY1MDApO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IHJlc2V0T3BlbmluZyA9ICgpID0+IHtcclxuXHRjYXNlQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuLWFuaW1cIik7XHJcbn07XHJcblxyXG5vcGVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0aWYgKG9wZW5lZCA9PT0gZmFsc2UgJiYgcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KSA+PSAyMDAwKSB7XHJcblx0XHRzdGFydE9wZW5pbmdBbmltYXRpb24oKTtcclxuXHRcdG9wZW5BdWRpby5wbGF5KCk7XHJcblx0fVxyXG59KTtcclxuIl19
