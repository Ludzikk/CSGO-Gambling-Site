"use strict";var currentWinningItemPrice,openBtn=document.querySelector(".open-btn"),spinningBtn=document.querySelector(".open-btn--spinning"),caseBox=document.querySelector(".case"),winningItemBox=document.querySelector(".winning-item"),winningImg=document.querySelector(".winning-item img"),winningButton=document.querySelector(".winning-item-button"),balanceAmountMobile=document.querySelector(".nav__balance-amount"),openAudio=new Audio("./dist/audio/open.mp3"),itemsAnubisPrice=[[5213],[.68]],itemsAnubisImg=[["./dist/img/howl/howl.png"],["./dist/img/howl/polymag.png"]],itemsAnubisName=[["M4A4 | Howl"],["M4A4 | Poly Mag"]],lastDropBg=["rgba(222, 76, 65, 0.2) 100%","rgba(75, 138, 255, 0.2) 100%"],red="linear-gradient(180deg, black 40%, rgba(222, 76, 65, .5) 100%)",pink="linear-gradient(180deg, black 40%, rgba(255, 50, 240, .5) 100%)",purple="linear-gradient(180deg, black 40%, rgba(125, 50, 255, .5) 100%)",lightBlue="linear-gradient(180deg, black 40%, rgba(160, 211, 255, .5) 100%)",blue="linear-gradient(180deg, black 40%, rgba(50, 113, 255, .5) 100%)",grey="linear-gradient(180deg, black 40%, rgba(78, 78, 78, .5) 100%)",opened=!1,balanceAmount=document.querySelector(".nav__list-item-balance-amount"),addBalance=(balanceAmount.textContent=localStorage.getItem("Balance"),function(){var e=parseFloat(balanceAmount.textContent)+currentWinningItemPrice;balanceAmount.textContent=e.toFixed(2),balanceAmountMobile.textContent=e.toFixed(2)}),removeBalanceOnOpen=function(){var e=parseFloat(balanceAmount.textContent)-2e3;balanceAmount.textContent=e.toFixed(2),balanceAmountMobile.textContent=e.toFixed(2)},startOpeningAnimation=function(){caseBox.classList.add("open-anim"),addItems(),opened=!0,setTimeout(function(){opened=!1,resetOpening()},6500)},setWinningItem=function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),s=(s=e)<=50?0:1,m=(n.style.background=e<=50?red:blue,Math.floor(Math.random()*itemsAnubisImg[s].length));n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[s][m]),i.setAttribute("alt",itemsAnubisName[s][m]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[s][m],console.log(itemsAnubisName[s][m]),n.append(i,a),t.append(n),caseBox.append(t),currentWinningItemPrice=itemsAnubisPrice[s][m],removeBalanceOnOpen(),openBtn.classList.add("hidden"),spinningBtn.classList.remove("hidden"),setTimeout(function(){addBalance(),localStorage.setItem("Balance","".concat(balanceAmount.textContent)),id++;var e=document.createElement("div"),t=document.createElement("img"),n=document.createElement("div"),i=document.createElement("p"),a=document.createElement("p"),o=document.createElement("img");s<=0?e.setAttribute("class","main__dropsbox-item main__dropsbox-item--red"):e.setAttribute("class","main__dropsbox-item main__dropsbox-item--blue"),e.setAttribute("id",id),t.setAttribute("class","main__dropsbox-item-img"),t.setAttribute("src","".concat(itemsAnubisImg[s][m])),t.setAttribute("alt","".concat(itemsAnubisImg[s][m])),a.setAttribute("class","main__dropsbox-item-name"),i.setAttribute("class","main__dropsbox-item-price"),o.setAttribute("class","main__dropsbox-item-pricebox-img"),o.setAttribute("src","./dist/img/other/coin.png"),o.setAttribute("alt","Coin Icon"),n.setAttribute("class","main__dropsbox-item-pricebox hidden"),i.textContent=itemsAnubisPrice[s][m],e.style.order="-"+id,a.textContent=itemsAnubisName[s][m],n.append(i,o),e.append(t,a,n),lastItemDrops.append(e),10<lastItemDrops.childElementCount&&lastItemDrops.firstElementChild.remove(),id%2==0?e.style.background="linear-gradient(90deg, #1d2126 25%, ".concat(lastDropBg[s]):e.style.background="linear-gradient(90deg, #282e35 25%, ".concat(lastDropBg[s]),e.addEventListener("mouseover",function(){n.classList.remove("hidden")}),e.addEventListener("mouseleave",function(){n.classList.add("hidden")})},5500),setTimeout(function(){t.remove(),openBtn.classList.remove("hidden"),spinningBtn.classList.add("hidden")},6500)},addItems=function(){for(var e=0;e<=10;e++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),o=(o=e)<=50?0:1,s=Math.floor(Math.random()*itemsAnubisImg[o].length);n.style.background=e<=50?red:blue,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[o][s]),i.setAttribute("alt",itemsAnubisName[o][s]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[o][s],n.append(i,a),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}();setWinningItem();for(var t=0;t<=4;t++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),o=(o=e)<=50?0:1,s=Math.floor(Math.random()*itemsAnubisImg[o].length);n.style.background=e<=50?red:blue,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[o][s]),i.setAttribute("alt",itemsAnubisName[o][s]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[o][s],n.append(i,a),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}()},resetOpening=function(){caseBox.classList.remove("open-anim")};openBtn.addEventListener("click",function(){!1===opened&&2e3<=parseFloat(balanceAmount.textContent)&&(startOpeningAnimation(),openAudio.play())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhc2Vob3dsLmpzIl0sIm5hbWVzIjpbImJhbGFuY2VBbW91bnQiLCJvcGVuQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwic3Bpbm5pbmdCdG4iLCJjYXNlQm94Iiwid2lubmluZ0l0ZW1Cb3giLCJ3aW5uaW5nSW1nIiwid2lubmluZ0J1dHRvbiIsImJhbGFuY2VBbW91bnRNb2JpbGUiLCJvcGVuQXVkaW8iLCJBdWRpbyIsImxhc3REcm9wQmciLCJyZWQiLCJibHVlIiwiZ3JleSIsIm9wZW5lZCIsImFkZEJhbGFuY2UiLCJhbW91bnRWYWx1ZSIsInRleHRDb250ZW50IiwidG9GaXhlZCIsInZhbHVlIiwicmVtb3ZlQmFsYW5jZU9uT3BlbiIsImxvY2FsU3RvcmFnZSIsInN0YXJ0T3BlbmluZ0FuaW1hdGlvbiIsImFkZCIsInNldFRpbWVvdXQiLCJyZXNldE9wZW5pbmciLCJwYXJzZUZsb2F0Iiwic2V0V2lubmluZ0l0ZW0iLCJ3aW5uaW5nSXRlbSIsImNyZWF0ZUVsZW1lbnQiLCJ3aW5uaW5nSXRlbUltZyIsImFkZEl0ZW1zIiwid2lubmluZ0l0ZW1UZXh0IiwiY2hhbmNlcyIsImJhY2tncm91bmQiLCJmbG9vciIsInJhbmRvbSIsIndpbm5pbmdJdGVtRGl2IiwicmFuZG9tSXRlbUZyb21Db2xvciIsIk1hdGgiLCJzZXRBdHRyaWJ1dGUiLCJjdXJyZW50V2lubmluZ0l0ZW1QcmljZSIsIml0ZW1zQW51YmlzSW1nIiwibGVuZ3RoIiwiaXRlbVByaWNlQm94IiwiaXRlbVByaWNlIiwiaXRlbXNBbnViaXNOYW1lIiwiY29uc29sZSIsIml0ZW1UZXh0IiwiaXRlbVByaWNlSWNvbiIsIml0ZW1zQW51YmlzUHJpY2UiLCJhcHBlbmQiLCJpdGVtSW1nIiwibGFzdEl0ZW1Ecm9wcyIsInNldEl0ZW0iLCJjb25jYXQiLCJpZCIsIml0ZW0iLCJzdHlsZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJub3JtYWxJdGVtSW1nIiwibm9ybWFsSXRlbVRleHQiLCJub3JtYWxJdGVtTnVtYmVyIiwibm9ybWFsSXRlbSIsIm5vcm1hbEl0ZW1EaXYiLCJmaXJzdEVsZW1lbnRDaGlsZCIsIl9sb29wIiwiaSIsIl9sb29wMiIsInBsYXkiXSwibWFwcGluZ3MiOiJhQUFBLElBb0NDQSx3QkFwQ0tDLFFBQVVDLFNBQVNDLGNBQWMsV0FBVyxFQUM1Q0MsWUFBY0YsU0FBU0MsY0FBYyxxQkFBcUIsRUFEMURGLFFBQVVDLFNBQVNDLGNBQWMsT0FBQSxFQUNqQ0MsZUFBY0YsU0FBU0MsY0FBYyxlQUFBLEVBQ3JDRSxXQUFVSCxTQUFTQyxjQUFjLG1CQUFRLEVBQ3pDRyxjQUFpQkosU0FBU0MsY0FBYyxzQkFBZ0IsRUFDeERJLG9CQUFzQkosU0FBQUEsY0FBYyxzQkFBb0IsRUFDeERLLFVBQWEsSUFBR04sTUFBUSx1QkFBZSxFQUN2Q08saUJBQW1CLENBQUdQLENBQUFBLE1BQVEsQ0FBQ0MsTUFDL0JPLGVBQWdCQyxDQUN0QixDQUFBLDRCQUNBLENBQUEsZ0NBS01DLGdCQUNMLENBQUEsQ0FBQSxlQUFBLENBQUEsb0JBR0tDLFdBQU0sQ0FDWiw4QkFDQSxnQ0FJTUMsSUFBTyxpRUFDUEMsS0FBTyxrRUFDVEMsT0FDSixrRUFDTWhCLFVBRU5BLG1FQUVNaUIsS0FBQUEsa0VBQ0RDLEtBQUFBLGdFQUNKRixPQUFTLENBQUEsRUFHVFAsY0FBb0JVLFNBQUFBLGNBQW9CQyxnQ0FBVSxFQUs5Q0MsWUFGTHJCLGNBQU1zQixZQUFzQkMsYUFBdEJELFFBQUFBLFNBQTRCLEVBRXJCSixXQVRaLElBWUFULEVBRGNVLFdBQWNFLGNBQWNGLFdBQUUsRUFDeEJBLHdCQUdyQm5CLGNBQU13QixZQUF3QkgsRUFBQUQsUUFBeEJJLENBQUFBLEVBWExmLG9CQVlrQmdCLFlBQWVKLEVBQUNELFFBQUEsQ0FBQSxDQVhuQyxHQWVDTSxvQkFBaUIsV0FaakIsSUFjQ0MsRUFEY0MsV0FBQTVCLGNBQUFtQixXQUFBLEVBQ0EsSUFFZm5CLGNBQUFtQixZQUFBRSxFQUFBRCxRQUFB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UyxXQUFXLEVBQzVDc0IsRUFBY3RCLGFBQWEsUUFBUyxlQUFlLEVBQ25Ec0IsRUFBY3RCLGFBQ2IsTUFDQUUsZUFBZVQsR0FBU0ssRUFDekIsRUFDQXdCLEVBQWN0QixhQUNiLE1BQ0FNLGdCQUFnQmIsR0FBU0ssRUFDMUIsRUFDQXlCLEVBQWV2QixhQUFhLFFBQVMsZ0JBQWdCLEVBQ3JEdUIsRUFBZTlDLFlBQWM2QixnQkFBZ0JiLEdBQVNLLEdBRXREMkIsRUFBV2QsT0FBT1csRUFBZUMsQ0FBYyxFQUMvQ0csRUFBY2YsT0FBT2MsQ0FBVSxFQUMvQjlELFFBQVFnRCxPQUFPZSxDQUFhLEVBRTVCMUMsV0FBVyxXQUNWMEMsRUFBY0wsT0FBTyxDQUN0QixFQUFHLElBQUksQ0FDUixFQTdDMkIsQ0E4QzVCLEVBRU1wQyxhQUFlLFdBQ3BCdEIsUUFBUXlELFVBQVVDLE9BQU8sV0FBVyxDQUNyQyxFQUVBOUQsUUFBUTRELGlCQUFpQixRQUFTLFdBQ2xCLENBQUEsSUFBWDdDLFFBQTZELEtBQXpDWSxXQUFXNUIsY0FBY21CLFdBQVcsSUFDM0RLLHNCQUFzQixFQUN0QmQsVUFBVStELEtBQUssRUFFakIsQ0FBQyIsImZpbGUiOiJjYXNlaG93bC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBvcGVuQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcGVuLWJ0blwiKTtcclxuY29uc3Qgc3Bpbm5pbmdCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9wZW4tYnRuLS1zcGlubmluZ1wiKTtcclxuY29uc3QgY2FzZUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FzZVwiKTtcclxuY29uc3Qgd2lubmluZ0l0ZW1Cb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbVwiKTtcclxuY29uc3Qgd2lubmluZ0ltZyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmluZy1pdGVtIGltZ1wiKTtcclxuY29uc3Qgd2lubmluZ0J1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmluZy1pdGVtLWJ1dHRvblwiKTtcclxuY29uc3QgYmFsYW5jZUFtb3VudE1vYmlsZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19iYWxhbmNlLWFtb3VudFwiKTtcclxuY29uc3Qgb3BlbkF1ZGlvID0gbmV3IEF1ZGlvKFwiLi9kaXN0L2F1ZGlvL29wZW4ubXAzXCIpO1xyXG5jb25zdCBpdGVtc0FudWJpc1ByaWNlID0gW1s1MjEzXSwgWzAuNjhdXTtcclxuY29uc3QgaXRlbXNBbnViaXNJbWcgPSBbXHJcblx0W1wiLi9kaXN0L2ltZy9ob3dsL2hvd2wucG5nXCJdLFxyXG5cdFtcIi4vZGlzdC9pbWcvaG93bC9wb2x5bWFnLnBuZ1wiXSxcclxuXTtcclxuY29uc3QgaXRlbXNBbnViaXNOYW1lID0gW1tcIk00QTQgfCBIb3dsXCJdLCBbXCJNNEE0IHwgUG9seSBNYWdcIl1dO1xyXG5jb25zdCBsYXN0RHJvcEJnID0gW1xyXG5cdFwicmdiYSgyMjIsIDc2LCA2NSwgMC4yKSAxMDAlXCIsXHJcblx0XCJyZ2JhKDc1LCAxMzgsIDI1NSwgMC4yKSAxMDAlXCIsXHJcbl07XHJcbmNvbnN0IHJlZCA9IFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDIyMiwgNzYsIDY1LCAuNSkgMTAwJSlcIjtcclxuY29uc3QgcGluayA9IFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDI1NSwgNTAsIDI0MCwgLjUpIDEwMCUpXCI7XHJcbmNvbnN0IHB1cnBsZSA9XHJcblx0XCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoMTI1LCA1MCwgMjU1LCAuNSkgMTAwJSlcIjtcclxuY29uc3QgbGlnaHRCbHVlID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSgxNjAsIDIxMSwgMjU1LCAuNSkgMTAwJSlcIjtcclxuY29uc3QgYmx1ZSA9IFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDUwLCAxMTMsIDI1NSwgLjUpIDEwMCUpXCI7XHJcbmNvbnN0IGdyZXkgPSBcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSg3OCwgNzgsIDc4LCAuNSkgMTAwJSlcIjtcclxubGV0IG9wZW5lZCA9IGZhbHNlO1xyXG5sZXQgY3VycmVudFdpbm5pbmdJdGVtUHJpY2U7XHJcbmNvbnN0IGJhbGFuY2VBbW91bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fbGlzdC1pdGVtLWJhbGFuY2UtYW1vdW50XCIpO1xyXG5cclxuYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKTtcclxuXHJcbmNvbnN0IGFkZEJhbGFuY2UgPSAoKSA9PiB7XHJcblx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSArIGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlO1xyXG5cclxuXHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxuXHRiYWxhbmNlQW1vdW50TW9iaWxlLnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZUJhbGFuY2VPbk9wZW4gPSAoKSA9PiB7XHJcblx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSAtIDIwMDA7XHJcblxyXG5cdGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSB2YWx1ZS50b0ZpeGVkKDIpO1xyXG5cdGJhbGFuY2VBbW91bnRNb2JpbGUudGV4dENvbnRlbnQgPSB2YWx1ZS50b0ZpeGVkKDIpO1xyXG59O1xyXG5cclxuY29uc3Qgc3RhcnRPcGVuaW5nQW5pbWF0aW9uID0gKCkgPT4ge1xyXG5cdGNhc2VCb3guY2xhc3NMaXN0LmFkZChcIm9wZW4tYW5pbVwiKTtcclxuXHRhZGRJdGVtcygpO1xyXG5cdG9wZW5lZCA9IHRydWU7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0b3BlbmVkID0gZmFsc2U7XHJcblx0XHRyZXNldE9wZW5pbmcoKTtcclxuXHR9LCA2NTAwKTtcclxufTtcclxuXHJcbmNvbnN0IHNldFdpbm5pbmdJdGVtID0gKCkgPT4ge1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdGxldCBjaGFuY2VzID0gd2lubmluZ0l0ZW1OdW1iZXI7XHJcblxyXG5cdGlmIChjaGFuY2VzIDw9IDUwKSB7XHJcblx0XHRjaGFuY2VzID0gMDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y2hhbmNlcyA9IDE7XHJcblx0fVxyXG5cclxuXHRpZiAod2lubmluZ0l0ZW1OdW1iZXIgPD0gNTApIHtcclxuXHRcdHdpbm5pbmdJdGVtLnN0eWxlLmJhY2tncm91bmQgPSByZWQ7XHJcblx0fSBlbHNlIHtcclxuXHRcdHdpbm5pbmdJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBibHVlO1xyXG5cdH1cclxuXHJcblx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRNYXRoLnJhbmRvbSgpICogaXRlbXNBbnViaXNJbWdbY2hhbmNlc10ubGVuZ3RoXHJcblx0KTtcclxuXHJcblx0d2lubmluZ0l0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdHdpbm5pbmdJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFwic3JjXCIsXHJcblx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdCk7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XCJhbHRcIixcclxuXHRcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdCk7XHJcblx0d2lubmluZ0l0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0d2lubmluZ0l0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRjb25zb2xlLmxvZyhpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl0pO1xyXG5cclxuXHR3aW5uaW5nSXRlbS5hcHBlbmQod2lubmluZ0l0ZW1JbWcsIHdpbm5pbmdJdGVtVGV4dCk7XHJcblx0d2lubmluZ0l0ZW1EaXYuYXBwZW5kKHdpbm5pbmdJdGVtKTtcclxuXHRjYXNlQm94LmFwcGVuZCh3aW5uaW5nSXRlbURpdik7XHJcblxyXG5cdGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlID0gaXRlbXNBbnViaXNQcmljZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0cmVtb3ZlQmFsYW5jZU9uT3BlbigpO1xyXG5cclxuXHRvcGVuQnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0c3Bpbm5pbmdCdG4uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRhZGRCYWxhbmNlKCk7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIkJhbGFuY2VcIiwgYCR7YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudH1gKTtcclxuXHJcblx0XHRpZCsrO1xyXG5cdFx0Y29uc3QgaXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBpdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRcdGNvbnN0IGl0ZW1QcmljZUJveCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBpdGVtUHJpY2UgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0XHRjb25zdCBpdGVtUHJpY2VJY29uID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHJcblx0XHRpZiAoY2hhbmNlcyA8PSAwKSB7XHJcblx0XHRcdGl0ZW0uc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcdFwiY2xhc3NcIixcclxuXHRcdFx0XHRcIm1haW5fX2Ryb3BzYm94LWl0ZW0gbWFpbl9fZHJvcHNib3gtaXRlbS0tcmVkXCJcclxuXHRcdFx0KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGl0ZW0uc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcdFwiY2xhc3NcIixcclxuXHRcdFx0XHRcIm1haW5fX2Ryb3BzYm94LWl0ZW0gbWFpbl9fZHJvcHNib3gtaXRlbS0tYmx1ZVwiXHJcblx0XHRcdCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aXRlbS5zZXRBdHRyaWJ1dGUoXCJpZFwiLCBpZCk7XHJcblx0XHRpdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFpbl9fZHJvcHNib3gtaXRlbS1pbWdcIik7XHJcblx0XHRpdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJzcmNcIixcclxuXHRcdFx0YCR7aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl19YFxyXG5cdFx0KTtcclxuXHRcdGl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcImFsdFwiLFxyXG5cdFx0XHRgJHtpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXX1gXHJcblx0XHQpO1xyXG5cdFx0aXRlbVRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtYWluX19kcm9wc2JveC1pdGVtLW5hbWVcIik7XHJcblx0XHRpdGVtUHJpY2Uuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtYWluX19kcm9wc2JveC1pdGVtLXByaWNlXCIpO1xyXG5cdFx0aXRlbVByaWNlSWNvbi5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX2Ryb3BzYm94LWl0ZW0tcHJpY2Vib3gtaW1nXCIpO1xyXG5cdFx0aXRlbVByaWNlSWNvbi5zZXRBdHRyaWJ1dGUoXCJzcmNcIiwgXCIuL2Rpc3QvaW1nL290aGVyL2NvaW4ucG5nXCIpO1xyXG5cdFx0aXRlbVByaWNlSWNvbi5zZXRBdHRyaWJ1dGUoXCJhbHRcIiwgXCJDb2luIEljb25cIik7XHJcblx0XHRpdGVtUHJpY2VCb3guc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtYWluX19kcm9wc2JveC1pdGVtLXByaWNlYm94IGhpZGRlblwiKTtcclxuXHRcdGl0ZW1QcmljZS50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzUHJpY2VbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblx0XHRpdGVtLnN0eWxlLm9yZGVyID0gXCItXCIgKyBpZDtcclxuXHRcdGl0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cdFx0aXRlbVByaWNlQm94LmFwcGVuZChpdGVtUHJpY2UsIGl0ZW1QcmljZUljb24pO1xyXG5cdFx0aXRlbS5hcHBlbmQoaXRlbUltZywgaXRlbVRleHQsIGl0ZW1QcmljZUJveCk7XHJcblx0XHRsYXN0SXRlbURyb3BzLmFwcGVuZChpdGVtKTtcclxuXHJcblx0XHRpZiAobGFzdEl0ZW1Ecm9wcy5jaGlsZEVsZW1lbnRDb3VudCA+IDEwKSB7XHJcblx0XHRcdGxhc3RJdGVtRHJvcHMuZmlyc3RFbGVtZW50Q2hpbGQucmVtb3ZlKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGlkICUgMiA9PT0gMCkge1xyXG5cdFx0XHRpdGVtLnN0eWxlLmJhY2tncm91bmQgPSBgbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjMWQyMTI2IDI1JSwgJHtsYXN0RHJvcEJnW2NoYW5jZXNdfWA7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpdGVtLnN0eWxlLmJhY2tncm91bmQgPSBgbGluZWFyLWdyYWRpZW50KDkwZGVnLCAjMjgyZTM1IDI1JSwgJHtsYXN0RHJvcEJnW2NoYW5jZXNdfWA7XHJcblx0XHR9XHJcblxyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsICgpID0+IHtcclxuXHRcdFx0aXRlbVByaWNlQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHR9KTtcclxuXHJcblx0XHRpdGVtLmFkZEV2ZW50TGlzdGVuZXIoXCJtb3VzZWxlYXZlXCIsICgpID0+IHtcclxuXHRcdFx0aXRlbVByaWNlQm94LmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0XHR9KTtcclxuXHR9LCA1NTAwKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHR3aW5uaW5nSXRlbURpdi5yZW1vdmUoKTtcclxuXHRcdG9wZW5CdG4uY2xhc3NMaXN0LnJlbW92ZShcImhpZGRlblwiKTtcclxuXHRcdHNwaW5uaW5nQnRuLmNsYXNzTGlzdC5hZGQoXCJoaWRkZW5cIik7XHJcblx0fSwgNjUwMCk7XHJcbn07XHJcblxyXG5jb25zdCBhZGRJdGVtcyA9ICgpID0+IHtcclxuXHRmb3IgKGxldCBpID0gMDsgaSA8PSAxMDsgaSsrKSB7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcblx0XHRsZXQgY2hhbmNlcyA9IG5vcm1hbEl0ZW1OdW1iZXI7XHJcblxyXG5cdFx0aWYgKGNoYW5jZXMgPD0gNTApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDA7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjaGFuY2VzID0gMTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAobm9ybWFsSXRlbU51bWJlciA8PSA1MCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSByZWQ7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBibHVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdG5vcm1hbEl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLWltZ1wiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcInNyY1wiLFxyXG5cdFx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcImFsdFwiLFxyXG5cdFx0XHRpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtVGV4dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1uYW1lXCIpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5hcHBlbmQobm9ybWFsSXRlbUltZywgbm9ybWFsSXRlbVRleHQpO1xyXG5cdFx0bm9ybWFsSXRlbURpdi5hcHBlbmQobm9ybWFsSXRlbSk7XHJcblx0XHRjYXNlQm94LmFwcGVuZChub3JtYWxJdGVtRGl2KTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0bm9ybWFsSXRlbURpdi5yZW1vdmUoKTtcclxuXHRcdH0sIDY1MDApO1xyXG5cdH1cclxuXHJcblx0c2V0V2lubmluZ0l0ZW0oKTtcclxuXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPD0gNDsgaSsrKSB7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcblx0XHRsZXQgY2hhbmNlcyA9IG5vcm1hbEl0ZW1OdW1iZXI7XHJcblxyXG5cdFx0aWYgKGNoYW5jZXMgPD0gNTApIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDA7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjaGFuY2VzID0gMTtcclxuXHRcdH1cclxuXHJcblx0XHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAobm9ybWFsSXRlbU51bWJlciA8PSA1MCkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSByZWQ7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBibHVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdG5vcm1hbEl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLWltZ1wiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcInNyY1wiLFxyXG5cdFx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcImFsdFwiLFxyXG5cdFx0XHRpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtVGV4dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1uYW1lXCIpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5hcHBlbmQobm9ybWFsSXRlbUltZywgbm9ybWFsSXRlbVRleHQpO1xyXG5cdFx0bm9ybWFsSXRlbURpdi5hcHBlbmQobm9ybWFsSXRlbSk7XHJcblx0XHRjYXNlQm94LmFwcGVuZChub3JtYWxJdGVtRGl2KTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0bm9ybWFsSXRlbURpdi5yZW1vdmUoKTtcclxuXHRcdH0sIDY1MDApO1xyXG5cdH1cclxufTtcclxuXHJcbmNvbnN0IHJlc2V0T3BlbmluZyA9ICgpID0+IHtcclxuXHRjYXNlQm94LmNsYXNzTGlzdC5yZW1vdmUoXCJvcGVuLWFuaW1cIik7XHJcbn07XHJcblxyXG5vcGVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0aWYgKG9wZW5lZCA9PT0gZmFsc2UgJiYgcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KSA+PSAyMDAwKSB7XHJcblx0XHRzdGFydE9wZW5pbmdBbmltYXRpb24oKTtcclxuXHRcdG9wZW5BdWRpby5wbGF5KCk7XHJcblx0fVxyXG59KTtcclxuIl19
