"use strict";var currentWinningItemPrice,howlCase={under25:{name:"M4A4 | Howl",img:"./dist/img/howl/howl.png",price:5213},above25:{name:"M4A4 | Poly Mag",img:"./dist/img/howl/polymag.png",price:.68}},openBtn=document.querySelector(".open-btn"),spinningBtn=document.querySelector(".open-btn--spinning"),caseBox=document.querySelector(".case"),winningItemBox=document.querySelector(".winning-item"),winningImg=document.querySelector(".winning-item img"),winningButton=document.querySelector(".winning-item-button"),openAudio=new Audio("./dist/audio/open.mp3"),itemsAnubisPrice=[[5213],[.68]],itemsAnubisImg=[["./dist/img/howl/howl.png"],["./dist/img/howl/polymag.png"]],itemsAnubisName=[["M4A4 | Howl"],["M4A4 | Poly Mag"]],red="linear-gradient(180deg, black 40%, rgba(222, 76, 65, .5) 100%)",pink="linear-gradient(180deg, black 40%, rgba(255, 50, 240, .5) 100%)",purple="linear-gradient(180deg, black 40%, rgba(125, 50, 255, .5) 100%)",lightBlue="linear-gradient(180deg, black 40%, rgba(160, 211, 255, .5) 100%)",blue="linear-gradient(180deg, black 40%, rgba(50, 113, 255, .5) 100%)",grey="linear-gradient(180deg, black 40%, rgba(78, 78, 78, .5) 100%)",opened=!1,balanceAmount=document.querySelector(".nav__list-item-balance-amount"),addBalance=(balanceAmount.textContent=localStorage.getItem("Balance"),function(){var e=parseFloat(balanceAmount.textContent)+currentWinningItemPrice;balanceAmount.textContent=e.toFixed(2)}),removeBalanceOnOpen=function(){var e=parseFloat(balanceAmount.textContent)-2e3;balanceAmount.textContent=e.toFixed(2)},startOpeningAnimation=function(){caseBox.classList.add("open-anim"),addItems(),opened=!0,setTimeout(function(){opened=!1,resetOpening()},6500)},setWinningItem=function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),o=(o=e)<=50?0:1,e=(n.style.background=e<=50?red:blue,Math.floor(Math.random()*itemsAnubisImg[o].length));n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[o][e]),a.setAttribute("alt",itemsAnubisName[o][e]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[o][e],console.log(itemsAnubisName[o][e]),n.append(a,i),t.append(n),caseBox.append(t),currentWinningItemPrice=itemsAnubisPrice[o][e],removeBalanceOnOpen(),openBtn.classList.add("hidden"),spinningBtn.classList.remove("hidden"),setTimeout(function(){addBalance(),localStorage.setItem("Balance","".concat(balanceAmount.textContent))},5500),setTimeout(function(){t.remove(),openBtn.classList.remove("hidden"),spinningBtn.classList.add("hidden")},6500)},addItems=function(){for(var e=0;e<=10;e++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),o=(o=e)<=50?0:1,m=Math.floor(Math.random()*itemsAnubisImg[o].length);n.style.background=e<=50?red:blue,n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[o][m]),a.setAttribute("alt",itemsAnubisName[o][m]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[o][m],n.append(a,i),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}();setWinningItem();for(var t=0;t<=4;t++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),o=(o=e)<=50?0:1,m=Math.floor(Math.random()*itemsAnubisImg[o].length);n.style.background=e<=50?red:blue,n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[o][m]),a.setAttribute("alt",itemsAnubisName[o][m]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[o][m],n.append(a,i),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}()},resetOpening=function(){caseBox.classList.remove("open-anim")};openBtn.addEventListener("click",function(){!1===opened&&2e3<=parseFloat(balanceAmount.textContent)&&(startOpeningAnimation(),openAudio.play())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhc2Vob3dsLmpzIl0sIm5hbWVzIjpbImN1cnJlbnRXaW5uaW5nSXRlbVByaWNlIiwiaG93bENhc2UiLCJ1bmRlcjI1IiwibmFtZSIsInByaWNlIiwiYWJvdmUyNSIsImltZyIsIm9wZW5CdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJzcGlubmluZ0J0biIsImNhc2VCb3giLCJ3aW5uaW5nSXRlbUJveCIsIndpbm5pbmdJbWciLCJ3aW5uaW5nQnV0dG9uIiwib3BlbkF1ZGlvIiwiaXRlbXNBbnViaXNQcmljZSIsInBpbmsiLCJwdXJwbGUiLCJsaWdodEJsdWUiLCJibHVlIiwib3BlbmVkIiwiYmFsYW5jZUFtb3VudCIsImFkZEJhbGFuY2UiLCJ2YWx1ZSIsImFtb3VudFZhbHVlIiwidGV4dENvbnRlbnQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic3RhcnRPcGVuaW5nQW5pbWF0aW9uIiwidG9GaXhlZCIsInBhcnNlRmxvYXQiLCJ3aW5uaW5nSXRlbU51bWJlciIsIndpbm5pbmdJdGVtRGl2IiwiY3JlYXRlRWxlbWVudCIsImFkZEl0ZW1zIiwid2lubmluZ0l0ZW0iLCJ3aW5uaW5nSXRlbUltZyIsInNldFRpbWVvdXQiLCJjaGFuY2VzIiwicmVzZXRPcGVuaW5nIiwiYmFja2dyb3VuZCIsImZsb29yIiwiTWF0aCIsInJhbmRvbSIsInJhbmRvbUl0ZW1Gcm9tQ29sb3IiLCJzZXRBdHRyaWJ1dGUiLCJ3aW5uaW5nSXRlbVRleHQiLCJhcHBlbmQiLCJyZWQiLCJpdGVtc0FudWJpc0ltZyIsImxlbmd0aCIsImNsYXNzTGlzdCIsIml0ZW1zQW51YmlzTmFtZSIsIm5vcm1hbEl0ZW1OdW1iZXIiLCJub3JtYWxJdGVtIiwibm9ybWFsSXRlbUltZyIsImNvbnNvbGUiLCJyZW1vdmVCYWxhbmNlT25PcGVuIiwic3R5bGUiLCJyZW1vdmUiLCJjb25jYXQiLCJub3JtYWxJdGVtVGV4dCIsIm5vcm1hbEl0ZW1EaXYiLCJhZGQiLCJpIiwiX2xvb3AiLCJz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eUMsVUFBVVEsT0FBTyxXQUFXLENBQ3JDLEVBRUFyRCxRQUFROEQsaUJBQWlCLFFBQVMsV0FDbEIsQ0FBQSxJQUFYaEQsUUFBNkQsS0FBekNVLFdBQVdULGNBQWNJLFdBQVcsSUFDM0RHLHNCQUFzQixFQUN0QmQsVUFBVXVELEtBQUssRUFFakIsQ0FBQyIsImZpbGUiOiJjYXNlaG93bC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBob3dsQ2FzZSA9IHtcclxuXHR1bmRlcjI1OiB7XHJcblx0XHRuYW1lOiBcIk00QTQgfCBIb3dsXCIsXHJcblx0XHRpbWc6IFwiLi9kaXN0L2ltZy9ob3dsL2hvd2wucG5nXCIsXHJcblx0XHRwcmljZTogNTIxMyxcclxuXHR9LFxyXG5cclxuXHRhYm92ZTI1OiB7XHJcblx0XHRuYW1lOiBcIk00QTQgfCBQb2x5IE1hZ1wiLFxyXG5cdFx0aW1nOiBcIi4vZGlzdC9pbWcvaG93bC9wb2x5bWFnLnBuZ1wiLFxyXG5cdFx0cHJpY2U6IDAuNjgsXHJcblx0fSxcclxufTtcclxuY29uc3Qgb3BlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3Blbi1idG5cIik7XHJcbmNvbnN0IHNwaW5uaW5nQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcGVuLWJ0bi0tc3Bpbm5pbmdcIik7XHJcbmNvbnN0IGNhc2VCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhc2VcIik7XHJcbmNvbnN0IHdpbm5pbmdJdGVtQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uaW5nLWl0ZW1cIik7XHJcbmNvbnN0IHdpbm5pbmdJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbSBpbWdcIik7XHJcbmNvbnN0IHdpbm5pbmdCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbS1idXR0b25cIik7XHJcbmNvbnN0IG9wZW5BdWRpbyA9IG5ldyBBdWRpbyhcIi4vZGlzdC9hdWRpby9vcGVuLm1wM1wiKTtcclxuY29uc3QgaXRlbXNBbnViaXNQcmljZSA9IFtbNTIxM10sIFswLjY4XV07XHJcbmNvbnN0IGl0ZW1zQW51YmlzSW1nID0gW1xyXG5cdFtcIi4vZGlzdC9pbWcvaG93bC9ob3dsLnBuZ1wiXSxcclxuXHRbXCIuL2Rpc3QvaW1nL2hvd2wvcG9seW1hZy5wbmdcIl0sXHJcbl07XHJcbmNvbnN0IGl0ZW1zQW51YmlzTmFtZSA9IFtbXCJNNEE0IHwgSG93bFwiXSwgW1wiTTRBNCB8IFBvbHkgTWFnXCJdXTtcclxuY29uc3QgcmVkID0gXCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoMjIyLCA3NiwgNjUsIC41KSAxMDAlKVwiO1xyXG5jb25zdCBwaW5rID0gXCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoMjU1LCA1MCwgMjQwLCAuNSkgMTAwJSlcIjtcclxuY29uc3QgcHVycGxlID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSgxMjUsIDUwLCAyNTUsIC41KSAxMDAlKVwiO1xyXG5jb25zdCBsaWdodEJsdWUgPVxyXG5cdFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDE2MCwgMjExLCAyNTUsIC41KSAxMDAlKVwiO1xyXG5jb25zdCBibHVlID0gXCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoNTAsIDExMywgMjU1LCAuNSkgMTAwJSlcIjtcclxuY29uc3QgZ3JleSA9IFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDc4LCA3OCwgNzgsIC41KSAxMDAlKVwiO1xyXG5sZXQgb3BlbmVkID0gZmFsc2U7XHJcbmxldCBjdXJyZW50V2lubmluZ0l0ZW1QcmljZTtcclxuY29uc3QgYmFsYW5jZUFtb3VudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubmF2X19saXN0LWl0ZW0tYmFsYW5jZS1hbW91bnRcIik7XHJcblxyXG5iYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJCYWxhbmNlXCIpO1xyXG5cclxuY29uc3QgYWRkQmFsYW5jZSA9ICgpID0+IHtcclxuXHRsZXQgYW1vdW50VmFsdWUgPSBwYXJzZUZsb2F0KGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQpO1xyXG5cdGxldCB2YWx1ZSA9IGFtb3VudFZhbHVlICsgY3VycmVudFdpbm5pbmdJdGVtUHJpY2U7XHJcblxyXG5cdGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSB2YWx1ZS50b0ZpeGVkKDIpO1xyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlQmFsYW5jZU9uT3BlbiA9ICgpID0+IHtcclxuXHRsZXQgYW1vdW50VmFsdWUgPSBwYXJzZUZsb2F0KGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQpO1xyXG5cdGxldCB2YWx1ZSA9IGFtb3VudFZhbHVlIC0gMjAwMDtcclxuXHJcblx0YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcbn07XHJcblxyXG5jb25zdCBzdGFydE9wZW5pbmdBbmltYXRpb24gPSAoKSA9PiB7XHJcblx0Y2FzZUJveC5jbGFzc0xpc3QuYWRkKFwib3Blbi1hbmltXCIpO1xyXG5cdGFkZEl0ZW1zKCk7XHJcblx0b3BlbmVkID0gdHJ1ZTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRvcGVuZWQgPSBmYWxzZTtcclxuXHRcdHJlc2V0T3BlbmluZygpO1xyXG5cdH0sIDY1MDApO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0V2lubmluZ0l0ZW0gPSAoKSA9PiB7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0bGV0IGNoYW5jZXMgPSB3aW5uaW5nSXRlbU51bWJlcjtcclxuXHJcblx0aWYgKGNoYW5jZXMgPD0gNTApIHtcclxuXHRcdGNoYW5jZXMgPSAwO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjaGFuY2VzID0gMTtcclxuXHR9XHJcblxyXG5cdGlmICh3aW5uaW5nSXRlbU51bWJlciA8PSA1MCkge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHR9IGVsc2Uge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGJsdWU7XHJcblx0fVxyXG5cclxuXHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdE1hdGgucmFuZG9tKCkgKiBpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXS5sZW5ndGhcclxuXHQpO1xyXG5cclxuXHR3aW5uaW5nSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbVwiKTtcclxuXHR3aW5uaW5nSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1pbWdcIik7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XCJzcmNcIixcclxuXHRcdGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0KTtcclxuXHR3aW5uaW5nSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcImFsdFwiLFxyXG5cdFx0aXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0KTtcclxuXHR3aW5uaW5nSXRlbVRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0tbmFtZVwiKTtcclxuXHR3aW5uaW5nSXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdGNvbnNvbGUubG9nKGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXSk7XHJcblxyXG5cdHdpbm5pbmdJdGVtLmFwcGVuZCh3aW5uaW5nSXRlbUltZywgd2lubmluZ0l0ZW1UZXh0KTtcclxuXHR3aW5uaW5nSXRlbURpdi5hcHBlbmQod2lubmluZ0l0ZW0pO1xyXG5cdGNhc2VCb3guYXBwZW5kKHdpbm5pbmdJdGVtRGl2KTtcclxuXHJcblx0Y3VycmVudFdpbm5pbmdJdGVtUHJpY2UgPSBpdGVtc0FudWJpc1ByaWNlW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRyZW1vdmVCYWxhbmNlT25PcGVuKCk7XHJcblxyXG5cdG9wZW5CdG4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRzcGlubmluZ0J0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGFkZEJhbGFuY2UoKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCBgJHtiYWxhbmNlQW1vdW50LnRleHRDb250ZW50fWApO1xyXG5cdH0sIDU1MDApO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHdpbm5pbmdJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0b3BlbkJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0c3Bpbm5pbmdCdG4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHR9LCA2NTAwKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZEl0ZW1zID0gKCkgPT4ge1xyXG5cdGZvciAobGV0IGkgPSAwOyBpIDw9IDEwOyBpKyspIHtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGxldCBjaGFuY2VzID0gbm9ybWFsSXRlbU51bWJlcjtcclxuXHJcblx0XHRpZiAoY2hhbmNlcyA8PSA1MCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNoYW5jZXMgPSAxO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHJhbmRvbUl0ZW1Gcm9tQ29sb3IgPSBNYXRoLmZsb29yKFxyXG5cdFx0XHRNYXRoLnJhbmRvbSgpICogaXRlbXNBbnViaXNJbWdbY2hhbmNlc10ubGVuZ3RoXHJcblx0XHQpO1xyXG5cclxuXHRcdGlmIChub3JtYWxJdGVtTnVtYmVyIDw9IDUwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGJsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwic3JjXCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwiYWx0XCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0XHRub3JtYWxJdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0XHRub3JtYWxJdGVtLmFwcGVuZChub3JtYWxJdGVtSW1nLCBub3JtYWxJdGVtVGV4dCk7XHJcblx0XHRub3JtYWxJdGVtRGl2LmFwcGVuZChub3JtYWxJdGVtKTtcclxuXHRcdGNhc2VCb3guYXBwZW5kKG5vcm1hbEl0ZW1EaXYpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRub3JtYWxJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0fSwgNjUwMCk7XHJcblx0fVxyXG5cclxuXHRzZXRXaW5uaW5nSXRlbSgpO1xyXG5cclxuXHRmb3IgKGxldCBpID0gMDsgaSA8PSA0OyBpKyspIHtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGxldCBjaGFuY2VzID0gbm9ybWFsSXRlbU51bWJlcjtcclxuXHJcblx0XHRpZiAoY2hhbmNlcyA8PSA1MCkge1xyXG5cdFx0XHRjaGFuY2VzID0gMDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGNoYW5jZXMgPSAxO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNvbnN0IHJhbmRvbUl0ZW1Gcm9tQ29sb3IgPSBNYXRoLmZsb29yKFxyXG5cdFx0XHRNYXRoLnJhbmRvbSgpICogaXRlbXNBbnViaXNJbWdbY2hhbmNlc10ubGVuZ3RoXHJcblx0XHQpO1xyXG5cclxuXHRcdGlmIChub3JtYWxJdGVtTnVtYmVyIDw9IDUwKSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGJsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwic3JjXCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwiYWx0XCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0XHRub3JtYWxJdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0XHRub3JtYWxJdGVtLmFwcGVuZChub3JtYWxJdGVtSW1nLCBub3JtYWxJdGVtVGV4dCk7XHJcblx0XHRub3JtYWxJdGVtRGl2LmFwcGVuZChub3JtYWxJdGVtKTtcclxuXHRcdGNhc2VCb3guYXBwZW5kKG5vcm1hbEl0ZW1EaXYpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRub3JtYWxJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0fSwgNjUwMCk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgcmVzZXRPcGVuaW5nID0gKCkgPT4ge1xyXG5cdGNhc2VCb3guY2xhc3NMaXN0LnJlbW92ZShcIm9wZW4tYW5pbVwiKTtcclxufTtcclxuXHJcbm9wZW5CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRpZiAob3BlbmVkID09PSBmYWxzZSAmJiBwYXJzZUZsb2F0KGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQpID49IDIwMDApIHtcclxuXHRcdHN0YXJ0T3BlbmluZ0FuaW1hdGlvbigpO1xyXG5cdFx0b3BlbkF1ZGlvLnBsYXkoKTtcclxuXHR9XHJcbn0pO1xyXG4iXX0=
