"use strict";var crashGoing,timerOnStart,timerOnStartCheck,timerNormal,timerNormalCheck,betAmount,lastBetAmount,multiplier=document.querySelector(".main-crash__multiplier-text"),betBtn=document.querySelector(".main-crash__bet"),withdrawBtn=document.querySelector(".main-crash__bet--withdraw"),betInput=document.querySelector(".main-crash__input"),timer=document.querySelector(".main-crash__countdown-timer-seconds"),clearBtn=document.querySelector("#clear"),lastBtn=document.querySelector("#last"),plusOneBtn=document.querySelector("#plus1"),plusTenBtn=document.querySelector("#plus10"),plusOneHundredBtn=document.querySelector("#plus100"),plusOneThousandBtn=document.querySelector("#plus1000"),halfBtn=document.querySelector("#half"),timesTwoBtn=document.querySelector("#x2"),maxBtn=document.querySelector("#max"),winAudio=new Audio("./dist/audio/win.wav"),betAudio=new Audio("./dist/audio/bet.wav"),multiplierAmount=1,speed=100,crashGoingStatus=!1,secondTime=15,didBet=!1,startCrash=function(){var t=Math.floor(25*Math.random()+5),t=Math.floor(5e5*Math.random())/t;crashGoingStatus=!0,timer.classList.remove("crash-time-text-start"),setTimeout(function(){clearInterval(timerOnStart),clearInterval(timerOnStartCheck),clearInterval(timerNormal),clearInterval(timerNormalCheck)},100),crashGoing=setInterval(function(){multiplierAmount<2?multiplierAmount+=.01:2<multiplierAmount&&multiplierAmount<3?multiplierAmount+=.02:3<multiplierAmount&&multiplierAmount<4?multiplierAmount+=.03:4<multiplierAmount&&multiplierAmount<5?multiplierAmount+=.04:5<multiplierAmount&&multiplierAmount<6?multiplierAmount+=.05:6<multiplierAmount&&multiplierAmount<10?multiplierAmount+=.06:10<multiplierAmount&&multiplierAmount<20?multiplierAmount+=.08:20<multiplierAmount&&multiplierAmount<50?multiplierAmount+=.12:50<multiplierAmount&&(multiplierAmount+=.18),multiplier.textContent=multiplierAmount.toFixed(2)+"x"},speed),setTimeout(function(){stopCrash()},Math.floor(t))},stopCrash=function(){clearInterval(crashGoing),crashGoingStatus=!1,multiplierAmount=1,didBet=!(secondTime=15),startTimer(),setTimeout(function(){startCrash()},15e3)},startTimer=function(){timer.classList.add("crash-time-text-start"),timerNormal=setInterval(function(){secondTime--,timer.textContent=secondTime+"s"},1e3),timerNormalCheck=setInterval(function(){0===secondTime&&(secondTime=15,timer.textContent=secondTime+"s")})},startTimerOnEnter=function(){timer.classList.add("crash-time-text-start"),timerOnStart=setInterval(function(){secondTime--,timer.textContent=secondTime+"s"},1e3),timerOnStartCheck=setInterval(function(){0===secondTime&&(secondTime=15,timer.textContent=secondTime+"s")})},playerBet=function(){""!==betInput.value&&!1===crashGoingStatus&&!1===didBet&&(didBet=!0,lastBetAmount=betAmount,betInput.value=0,betAudio.play(),removeBalance())},removeBalance=function(){var t=parseFloat(balanceAmount.textContent)-betAmount;balanceAmount.textContent=t.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent))},addMoneyToBalance=function(){var t;!0===didBet&&!0===crashGoingStatus&&(winAudio.play(),didBet=!1,betAmount*=multiplierAmount,t=parseFloat(balanceAmount.textContent)+betAmount,balanceAmount.textContent=t.toFixed(2),localStorage.setItem("Balance","".concat(balanceAmount.textContent)))};setTimeout(function(){startCrash()},15e3),startTimerOnEnter(),betBtn.addEventListener("click",function(){betAmount=betInput.value,playerBet()}),withdrawBtn.addEventListener("click",function(){addMoneyToBalance()}),clearBtn.addEventListener("click",function(){betInput.value=0}),lastBtn.addEventListener("click",function(){0!==lastBetAmount&&(betInput.value=lastBetAmount)}),plusOneBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=t+1}),plusTenBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=t+10}),plusOneHundredBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=t+100}),plusOneThousandBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=t+1e3}),halfBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=t/2}),timesTwoBtn.addEventListener("click",function(){var t=parseFloat(betInput.value);betInput.value=2*t}),maxBtn.addEventListener("click",function(){betInput.value=localStorage.getItem("Balance")});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNyYXNoLmpzIl0sIm5hbWVzIjpbIm11bHRpcGxpZXJBbW91bnQiLCJjcmFzaEdvaW5nU3RhdHVzIiwic2Vjb25kVGltZSIsInRpbWVyT25TdGFydCIsInRpbWVyT25TdGFydENoZWNrIiwidGltZXJOb3JtYWwiLCJiZXRBbW91bnQiLCJtdWx0aXBsaWVyIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYmV0QnRuIiwid2l0aGRyYXdCdG4iLCJ0aW1lciIsImxhc3RCdG4iLCJjbGVhckJ0biIsInBsdXNPbmVCdG4iLCJwbHVzVGVuQnRuIiwicGx1c09uZUh1bmRyZWRCdG4iLCJwbHVzT25lVGhvdXNhbmRCdG4iLCJoYWxmQnRuIiwidGltZXNUd29CdG4iLCJtYXhCdG4iLCJBdWRpbyIsIndpbkF1ZGlvIiwiYmV0QXVkaW8iLCJzcGVlZCIsImNyYXNoR29pbmciLCJ0aW1lck5vcm1hbENoZWNrIiwibGFzdEJldEFtb3VudCIsInN0YXJ0Q3Jhc2giLCJNYXRoIiwicmFuZG9tIiwiY3Jhc2hUaW1lIiwiY3Jhc2hUaW1lRGl2aWRlIiwiZmxvb3IiLCJjbGFzc0xpc3QiLCJyZW1vdmUiLCJzZXRUaW1lb3V0IiwiY2xlYXJJbnRlcnZhbCIsInRleHRDb250ZW50IiwidG9GaXhlZCIsInN0b3BDcmFzaCIsImNyYXNoQWZ0ZXIiLCJkaWRCZXQiLCJzdGFydFRpbWVyIiwiYWRkIiwic2V0SW50ZXJ2YWwiLCJzdGFydFRpbWVyT25FbnRlciIsInBsYXllckJldCIsImJldElucHV0IiwicGxheSIsInJlbW92ZUJhbGFuY2UiLCJ2YWx1ZSIsImFtb3VudFZhbHVlIiwiYmFsYW5jZUFtb3VudCIsImxvY2FsU3RvcmFnZSIsImFkZE1vbmV5VG9CYWxhbmNlIiwic2V0SXRlbSIsImNvbmNhdCIsImFkZEV2ZW50TGlzdGVuZXIiLCJwYXJzZUZsb2F0IiwiZ2V0SXRlbSJdLCJtYXBwaW5ncyI6ImFBQUEsSUFpQklBLFdBR0FDLGFBQ0FDLGtCQUNBQyxZQUNBQyxpQkFDQUMs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QUFPLFdBQzVCLElBQUFyQixnQkFFRlQsU0FBUXdDLE1BQUFBLGNBdEJSLENBQUMsRUEyQkR2QyxXQUFXdUMsaUJBQWlCLFFBQVEsV0F4Qm5DLElBeUJBUCxFQUFTUSxXQUFhWCxTQUFTRyxLQUFDQSxFQXhCaENILFNBeUJRRyxNQUFNQSxFQUFRLENBQ3ZCLENBQUMsRUF2QkRwQyxXQTBCVW9DLGlCQUFRRyxRQUFhTSxXQUM5QixJQUFDVCxFQUFBUSxXQUFBWCxTQUFBRyxLQUFBLEVBekJESCxTQUFTRyxNQUFRQSxFQUFRLEVBQzFCLENBQUMsRUFFRG5DLGtCQUFrQjBDLGlCQUFpQixRQUFTLFdBQzNDLElBQUlQLEVBQVFRLFdBQVdYLFNBQVNHLEtBQUssRUFDckNILFNBQVNHLE1BQVFBLEVBQVEsR0FDMUIsQ0FBQyxFQUVEbEMsbUJBQW1CeUMsaUJBQWlCLFFBQVMsV0FDNUMsSUFBSVAsRUFBUVEsV0FBV1gsU0FBU0csS0FBSyxFQUNyQ0gsU0FBU0csTUFBUUEsRUFBUSxHQUMxQixDQUFDLEVBRURqQyxRQUFRd0MsaUJBQWlCLFFBQVMsV0FDakMsSUFBSVAsRUFBUVEsV0FBV1gsU0FBU0csS0FBSyxFQUNyQ0gsU0FBU0csTUFBUUEsRUFBUSxDQUMxQixDQUFDLEVBRURoQyxZQUFZdUMsaUJBQWlCLFFBQVMsV0FDckMsSUFBSVAsRUFBUVEsV0FBV1gsU0FBU0csS0FBSyxFQUNyQ0gsU0FBU0csTUFBZ0IsRUFBUkEsQ0FDbEIsQ0FBQyxFQUVEL0IsT0FBT3NDLGlCQUFpQixRQUFTLFdBQ2hDVixTQUFTRyxNQUFRRyxhQUFhTSxRQUFRLFNBQVMsQ0FDaEQsQ0FBQyIsImZpbGUiOiJjcmFzaC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBtdWx0aXBsaWVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5tYWluLWNyYXNoX19tdWx0aXBsaWVyLXRleHRcIik7XHJcbmNvbnN0IGJldEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jcmFzaF9fYmV0XCIpO1xyXG5jb25zdCB3aXRoZHJhd0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jcmFzaF9fYmV0LS13aXRoZHJhd1wiKTtcclxuY29uc3QgYmV0SW5wdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm1haW4tY3Jhc2hfX2lucHV0XCIpO1xyXG5jb25zdCB0aW1lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jcmFzaF9fY291bnRkb3duLXRpbWVyLXNlY29uZHNcIik7XHJcbi8vIGNvbnN0IHRpbWVyTGluZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubWFpbi1jcmFzaF9fY291bnRkb3duLXRpbWVybGluZVwiKVxyXG5jb25zdCBjbGVhckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjY2xlYXJcIik7XHJcbmNvbnN0IGxhc3RCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI2xhc3RcIik7XHJcbmNvbnN0IHBsdXNPbmVCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BsdXMxXCIpO1xyXG5jb25zdCBwbHVzVGVuQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbHVzMTBcIik7XHJcbmNvbnN0IHBsdXNPbmVIdW5kcmVkQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbHVzMTAwXCIpO1xyXG5jb25zdCBwbHVzT25lVGhvdXNhbmRCdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3BsdXMxMDAwXCIpO1xyXG5jb25zdCBoYWxmQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNoYWxmXCIpO1xyXG5jb25zdCB0aW1lc1R3b0J0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjeDJcIik7XHJcbmNvbnN0IG1heEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjbWF4XCIpO1xyXG5jb25zdCB3aW5BdWRpbyA9IG5ldyBBdWRpbyhcIi4vZGlzdC9hdWRpby93aW4ud2F2XCIpO1xyXG5jb25zdCBiZXRBdWRpbyA9IG5ldyBBdWRpbyhcIi4vZGlzdC9hdWRpby9iZXQud2F2XCIpO1xyXG5sZXQgbXVsdGlwbGllckFtb3VudCA9IDE7XHJcbmxldCBzcGVlZCA9IDEwMDtcclxubGV0IGNyYXNoR29pbmc7XHJcbmxldCBjcmFzaEdvaW5nU3RhdHVzID0gZmFsc2U7XHJcbmxldCBzZWNvbmRUaW1lID0gMTU7XHJcbmxldCB0aW1lck9uU3RhcnQ7XHJcbmxldCB0aW1lck9uU3RhcnRDaGVjaztcclxubGV0IHRpbWVyTm9ybWFsO1xyXG5sZXQgdGltZXJOb3JtYWxDaGVjaztcclxubGV0IGJldEFtb3VudDtcclxubGV0IGRpZEJldCA9IGZhbHNlO1xyXG5sZXQgbGFzdEJldEFtb3VudDtcclxuXHJcbmNvbnN0IHN0YXJ0Q3Jhc2ggPSAoKSA9PiB7XHJcblx0Y29uc3QgY3Jhc2hUaW1lRGl2aWRlID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMjUgKyA1KTtcclxuXHRjb25zdCBjcmFzaFRpbWUgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiA1MDAwMDApO1xyXG5cdGNvbnN0IGNyYXNoQWZ0ZXIgPSBjcmFzaFRpbWUgLyBjcmFzaFRpbWVEaXZpZGU7XHJcblxyXG5cdGNyYXNoR29pbmdTdGF0dXMgPSB0cnVlO1xyXG5cdHRpbWVyLmNsYXNzTGlzdC5yZW1vdmUoXCJjcmFzaC10aW1lLXRleHQtc3RhcnRcIik7XHJcblx0Ly8gY29uc29sZS5sb2coTWF0aC5mbG9vcihjcmFzaEFmdGVyKSk7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0Y2xlYXJJbnRlcnZhbCh0aW1lck9uU3RhcnQpO1xyXG5cdFx0Y2xlYXJJbnRlcnZhbCh0aW1lck9uU3RhcnRDaGVjayk7XHJcblx0XHRjbGVhckludGVydmFsKHRpbWVyTm9ybWFsKTtcclxuXHRcdGNsZWFySW50ZXJ2YWwodGltZXJOb3JtYWxDaGVjayk7XHJcblx0fSwgMTAwKTtcclxuXHJcblx0Y3Jhc2hHb2luZyA9IHNldEludGVydmFsKCgpID0+IHtcclxuXHRcdGlmIChtdWx0aXBsaWVyQW1vdW50IDwgMikge1xyXG5cdFx0XHRtdWx0aXBsaWVyQW1vdW50ICs9IDAuMDE7XHJcblx0XHR9IGVsc2UgaWYgKG11bHRpcGxpZXJBbW91bnQgPiAyICYmIG11bHRpcGxpZXJBbW91bnQgPCAzKSB7XHJcblx0XHRcdG11bHRpcGxpZXJBbW91bnQgKz0gMC4wMjtcclxuXHRcdH0gZWxzZSBpZiAobXVsdGlwbGllckFtb3VudCA+IDMgJiYgbXVsdGlwbGllckFtb3VudCA8IDQpIHtcclxuXHRcdFx0bXVsdGlwbGllckFtb3VudCArPSAwLjAzO1xyXG5cdFx0fSBlbHNlIGlmIChtdWx0aXBsaWVyQW1vdW50ID4gNCAmJiBtdWx0aXBsaWVyQW1vdW50IDwgNSkge1xyXG5cdFx0XHRtdWx0aXBsaWVyQW1vdW50ICs9IDAuMDQ7XHJcblx0XHR9IGVsc2UgaWYgKG11bHRpcGxpZXJBbW91bnQgPiA1ICYmIG11bHRpcGxpZXJBbW91bnQgPCA2KSB7XHJcblx0XHRcdG11bHRpcGxpZXJBbW91bnQgKz0gMC4wNTtcclxuXHRcdH0gZWxzZSBpZiAobXVsdGlwbGllckFtb3VudCA+IDYgJiYgbXVsdGlwbGllckFtb3VudCA8IDEwKSB7XHJcblx0XHRcdG11bHRpcGxpZXJBbW91bnQgKz0gMC4wNjtcclxuXHRcdH0gZWxzZSBpZiAobXVsdGlwbGllckFtb3VudCA+IDEwICYmIG11bHRpcGxpZXJBbW91bnQgPCAyMCkge1xyXG5cdFx0XHRtdWx0aXBsaWVyQW1vdW50ICs9IDAuMDg7XHJcblx0XHR9IGVsc2UgaWYgKG11bHRpcGxpZXJBbW91bnQgPiAyMCAmJiBtdWx0aXBsaWVyQW1vdW50IDwgNTApIHtcclxuXHRcdFx0bXVsdGlwbGllckFtb3VudCArPSAwLjEyO1xyXG5cdFx0fSBlbHNlIGlmIChtdWx0aXBsaWVyQW1vdW50ID4gNTApIHtcclxuXHRcdFx0bXVsdGlwbGllckFtb3VudCArPSAwLjE4O1xyXG5cdFx0fVxyXG5cclxuXHRcdG11bHRpcGxpZXIudGV4dENvbnRlbnQgPSBtdWx0aXBsaWVyQW1vdW50LnRvRml4ZWQoMikgKyBcInhcIjtcclxuXHR9LCBzcGVlZCk7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0c3RvcENyYXNoKCk7XHJcblx0fSwgTWF0aC5mbG9vcihjcmFzaEFmdGVyKSk7XHJcbn07XHJcblxyXG5jb25zdCBzdG9wQ3Jhc2ggPSAoKSA9PiB7XHJcblx0Y2xlYXJJbnRlcnZhbChjcmFzaEdvaW5nKTtcclxuXHRjcmFzaEdvaW5nU3RhdHVzID0gZmFsc2U7XHJcblx0bXVsdGlwbGllckFtb3VudCA9IDE7XHJcblx0c2Vjb25kVGltZSA9IDE1O1xyXG5cdGRpZEJldCA9IGZhbHNlO1xyXG5cdHN0YXJ0VGltZXIoKTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRzdGFydENyYXNoKCk7XHJcblx0fSwgMTUwMDApO1xyXG59O1xyXG5cclxuY29uc3Qgc3RhcnRUaW1lciA9ICgpID0+IHtcclxuXHR0aW1lci5jbGFzc0xpc3QuYWRkKFwiY3Jhc2gtdGltZS10ZXh0LXN0YXJ0XCIpO1xyXG5cclxuXHR0aW1lck5vcm1hbCA9IHNldEludGVydmFsKCgpID0+IHtcclxuXHRcdHNlY29uZFRpbWUtLTtcclxuXHRcdHRpbWVyLnRleHRDb250ZW50ID0gc2Vjb25kVGltZSArIFwic1wiO1xyXG5cdH0sIDEwMDApO1xyXG5cclxuXHR0aW1lck5vcm1hbENoZWNrID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG5cdFx0aWYgKHNlY29uZFRpbWUgPT09IDApIHtcclxuXHRcdFx0c2Vjb25kVGltZSA9IDE1O1xyXG5cdFx0XHR0aW1lci50ZXh0Q29udGVudCA9IHNlY29uZFRpbWUgKyBcInNcIjtcclxuXHRcdH1cclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IHN0YXJ0VGltZXJPbkVudGVyID0gKCkgPT4ge1xyXG5cdHRpbWVyLmNsYXNzTGlzdC5hZGQoXCJjcmFzaC10aW1lLXRleHQtc3RhcnRcIik7XHJcblx0Ly8gdGltZXJMaW5lLmNsYXNzTGlzdC5hZGQoXCJjcmFzaC10aW1lLWxpbmUtc3RhcnRcIilcclxuXHJcblx0dGltZXJPblN0YXJ0ID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG5cdFx0c2Vjb25kVGltZS0tO1xyXG5cdFx0dGltZXIudGV4dENvbnRlbnQgPSBzZWNvbmRUaW1lICsgXCJzXCI7XHJcblx0fSwgMTAwMCk7XHJcblxyXG5cdHRpbWVyT25TdGFydENoZWNrID0gc2V0SW50ZXJ2YWwoKCkgPT4ge1xyXG5cdFx0aWYgKHNlY29uZFRpbWUgPT09IDApIHtcclxuXHRcdFx0c2Vjb25kVGltZSA9IDE1O1xyXG5cdFx0XHR0aW1lci50ZXh0Q29udGVudCA9IHNlY29uZFRpbWUgKyBcInNcIjtcclxuXHRcdH1cclxuXHR9KTtcclxufTtcclxuXHJcbmNvbnN0IHBsYXllckJldCA9ICgpID0+IHtcclxuXHRpZiAoYmV0SW5wdXQudmFsdWUgIT09IFwiXCIgJiYgY3Jhc2hHb2luZ1N0YXR1cyA9PT0gZmFsc2UgJiYgZGlkQmV0ID09PSBmYWxzZSkge1xyXG5cdFx0ZGlkQmV0ID0gdHJ1ZTtcclxuXHRcdGxhc3RCZXRBbW91bnQgPSBiZXRBbW91bnQ7XHJcbiAgICAgICAgYmV0SW5wdXQudmFsdWUgPSAwXHJcblx0XHRiZXRBdWRpby5wbGF5KCk7XHJcblx0XHRyZW1vdmVCYWxhbmNlKCk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgcmVtb3ZlQmFsYW5jZSA9ICgpID0+IHtcclxuXHRsZXQgYW1vdW50VmFsdWUgPSBwYXJzZUZsb2F0KGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQpO1xyXG5cdGxldCB2YWx1ZSA9IGFtb3VudFZhbHVlIC0gYmV0QW1vdW50O1xyXG5cdGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSB2YWx1ZS50b0ZpeGVkKDIpO1xyXG5cdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCBgJHtiYWxhbmNlQW1vdW50LnRleHRDb250ZW50fWApO1xyXG59O1xyXG5cclxuY29uc3QgYWRkTW9uZXlUb0JhbGFuY2UgPSAoKSA9PiB7XHJcblx0aWYgKGRpZEJldCA9PT0gdHJ1ZSAmJiBjcmFzaEdvaW5nU3RhdHVzID09PSB0cnVlKSB7XHJcblx0XHR3aW5BdWRpby5wbGF5KCk7XHJcblx0XHRkaWRCZXQgPSBmYWxzZTtcclxuXHRcdGJldEFtb3VudCAqPSBtdWx0aXBsaWVyQW1vdW50O1xyXG5cdFx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRcdGxldCB2YWx1ZSA9IGFtb3VudFZhbHVlICsgYmV0QW1vdW50O1xyXG5cdFx0YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcblx0XHRsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIkJhbGFuY2VcIiwgYCR7YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudH1gKTtcclxuXHR9XHJcbn07XHJcblxyXG5zZXRUaW1lb3V0KCgpID0+IHtcclxuXHRzdGFydENyYXNoKCk7XHJcbn0sIDE1MDAwKTtcclxuXHJcbnN0YXJ0VGltZXJPbkVudGVyKCk7XHJcblxyXG5iZXRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRiZXRBbW91bnQgPSBiZXRJbnB1dC52YWx1ZTtcclxuXHRwbGF5ZXJCZXQoKTtcclxufSk7XHJcblxyXG53aXRoZHJhd0J0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdGFkZE1vbmV5VG9CYWxhbmNlKCk7XHJcbn0pO1xyXG5cclxuY2xlYXJCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRiZXRJbnB1dC52YWx1ZSA9IDA7XHJcbn0pO1xyXG5cclxubGFzdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdGlmIChsYXN0QmV0QW1vdW50ICE9PSAwKSB7XHJcblx0XHRiZXRJbnB1dC52YWx1ZSA9IGxhc3RCZXRBbW91bnQ7XHJcblx0fVxyXG59KTtcclxuXHJcbnBsdXNPbmVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRsZXQgdmFsdWUgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKTtcclxuXHRiZXRJbnB1dC52YWx1ZSA9IHZhbHVlICsgMTtcclxufSk7XHJcblxyXG5wbHVzVGVuQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0bGV0IHZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSk7XHJcblx0YmV0SW5wdXQudmFsdWUgPSB2YWx1ZSArIDEwO1xyXG59KTtcclxuXHJcbnBsdXNPbmVIdW5kcmVkQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0bGV0IHZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSk7XHJcblx0YmV0SW5wdXQudmFsdWUgPSB2YWx1ZSArIDEwMDtcclxufSk7XHJcblxyXG5wbHVzT25lVGhvdXNhbmRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRsZXQgdmFsdWUgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKTtcclxuXHRiZXRJbnB1dC52YWx1ZSA9IHZhbHVlICsgMTAwMDtcclxufSk7XHJcblxyXG5oYWxmQnRuLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcblx0bGV0IHZhbHVlID0gcGFyc2VGbG9hdChiZXRJbnB1dC52YWx1ZSk7XHJcblx0YmV0SW5wdXQudmFsdWUgPSB2YWx1ZSAvIDI7XHJcbn0pO1xyXG5cclxudGltZXNUd29CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRsZXQgdmFsdWUgPSBwYXJzZUZsb2F0KGJldElucHV0LnZhbHVlKTtcclxuXHRiZXRJbnB1dC52YWx1ZSA9IHZhbHVlICogMjtcclxufSk7XHJcblxyXG5tYXhCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRiZXRJbnB1dC52YWx1ZSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKTtcclxufSk7XHJcbiJdfQ==
