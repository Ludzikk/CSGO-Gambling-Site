"use strict";var currentWinningItemPrice,openBtn=document.querySelector(".open-btn"),caseBox=document.querySelector(".case"),winningItemBox=document.querySelector(".winning-item"),winningImg=document.querySelector(".winning-item img"),winningButton=document.querySelector(".winning-item-button"),spinningBtn=document.querySelector(".open-btn--spinning"),balanceAmountMobile=document.querySelector(".nav__balance-amount"),openAudio=new Audio("./dist/audio/open.mp3"),itemsAnubisPrice=[[451],[120,87],[.5]],itemsAnubisImg=[["./dist/img/printstream/m4a1-sprintstream.png"],["./dist/img/printstream/uspprintstream.png","./dist/img/printstream/deserteagleprintstream.png"],["./dist/img/printstream/cz-75-autojungledashed.png"]],itemsAnubisName=[["M4A1-S | Printstream"],["USP-S | Printstream","Desert Eagle | Printstream"],["CZ-75 | Jungle Dashed"]],lastDropBg=["rgba(222, 76, 65, 0.2) 100%","rgba(255, 112, 183, 0.2) 100%","rgba(75, 138, 255, 0.2) 100%"],red="linear-gradient(180deg, black 40%, rgba(222, 76, 65, .5) 100%)",pink="linear-gradient(180deg, black 40%, rgba(255, 50, 240, .5) 100%)",purple="linear-gradient(180deg, black 40%, rgba(125, 50, 255, .5) 100%)",lightBlue="linear-gradient(180deg, black 40%, rgba(160, 211, 255, .5) 100%)",blue="linear-gradient(180deg, black 40%, rgba(50, 113, 255, .5) 100%)",grey="linear-gradient(180deg, black 40%, rgba(78, 78, 78, .5) 100%)",opened=!1,balanceAmount=document.querySelector(".nav__list-item-balance-amount"),addBalance=(balanceAmount.textContent=localStorage.getItem("Balance"),function(){var e=parseFloat(balanceAmount.textContent)+currentWinningItemPrice;balanceAmount.textContent=e.toFixed(2),balanceAmountMobile.textContent=e.toFixed(2)}),removeBalanceOnOpen=function(){var e=parseFloat(balanceAmount.textContent)-20;balanceAmount.textContent=e.toFixed(2),balanceAmountMobile.textContent=e.toFixed(2)},startOpeningAnimation=function(){caseBox.classList.add("open-anim"),addItems(),opened=!0,setTimeout(function(){opened=!1,resetOpening()},6500)},setWinningItem=function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),o=(o=e)<=5?0:5<o&&o<=30?1:2,r=(n.style.background=e<=5?red:5<e&&e<=30?pink:grey,Math.floor(Math.random()*itemsAnubisImg[o].length));n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[o][r]),i.setAttribute("alt",itemsAnubisName[o][r]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[o][r],console.log(itemsAnubisName[o][r]),n.append(i,a),t.append(n),caseBox.append(t),currentWinningItemPrice=itemsAnubisPrice[o][r],removeBalanceOnOpen(),openBtn.classList.add("hidden"),spinningBtn.classList.remove("hidden"),setTimeout(function(){addBalance(),localStorage.setItem("Balance","".concat(balanceAmount.textContent)),id++;var e=document.createElement("div"),t=document.createElement("img"),n=document.createElement("div"),i=document.createElement("p"),a=document.createElement("p"),s=document.createElement("img");o<=0?e.setAttribute("class","main__dropsbox-item main__dropsbox-item--red"):o<=1?e.setAttribute("class","main__dropsbox-item main__dropsbox-item--pink"):e.setAttribute("class","main__dropsbox-item main__dropsbox-item--blue"),e.setAttribute("id",id),t.setAttribute("class","main__dropsbox-item-img"),t.setAttribute("src","".concat(itemsAnubisImg[o][r])),t.setAttribute("alt","".concat(itemsAnubisImg[o][r])),a.setAttribute("class","main__dropsbox-item-name"),i.setAttribute("class","main__dropsbox-item-price"),s.setAttribute("class","main__dropsbox-item-pricebox-img"),s.setAttribute("src","./dist/img/other/coin.png"),s.setAttribute("alt","Coin Icon"),n.setAttribute("class","main__dropsbox-item-pricebox hidden"),i.textContent=itemsAnubisPrice[o][r],e.style.order="-"+id,a.textContent=itemsAnubisName[o][r],n.append(i,s),e.append(t,a,n),lastItemDrops.append(e),10<lastItemDrops.childElementCount&&lastItemDrops.firstElementChild.remove(),id%2==0?e.style.background="linear-gradient(90deg, #1d2126 25%, ".concat(lastDropBg[o]):e.style.background="linear-gradient(90deg, #282e35 25%, ".concat(lastDropBg[o]),e.addEventListener("mouseover",function(){n.classList.remove("hidden")}),e.addEventListener("mouseleave",function(){n.classList.add("hidden")})},5500),setTimeout(function(){t.remove(),openBtn.classList.remove("hidden"),spinningBtn.classList.add("hidden")},5500),setTimeout(function(){t.remove(),openBtn.classList.remove("hidden"),spinningBtn.classList.add("hidden")},6500)},addItems=function(){for(var e=0;e<=10;e++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),s=(s=e)<=5?0:5<s&&s<=30?1:2,o=Math.floor(Math.random()*itemsAnubisImg[s].length);n.style.background=e<=5?red:5<e&&e<=30?pink:grey,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[s][o]),i.setAttribute("alt",itemsAnubisName[s][o]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[s][o],n.append(i,a),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}();setWinningItem();for(var t=0;t<=4;t++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),i=document.createElement("img"),a=document.createElement("p"),s=(s=e)<=5?0:5<s&&s<=30?1:2,o=Math.floor(Math.random()*itemsAnubisImg[s].length);n.style.background=e<=5?red:5<e&&e<=30?pink:grey,n.setAttribute("class","case-item"),i.setAttribute("class","case-item-img"),i.setAttribute("src",itemsAnubisImg[s][o]),i.setAttribute("alt",itemsAnubisName[s][o]),a.setAttribute("class","case-item-name"),a.textContent=itemsAnubisName[s][o],n.append(i,a),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}()},resetOpening=function(){caseBox.classList.remove("open-anim")};openBtn.addEventListener("click",function(){!1===opened&&20<=parseFloat(balanceAmount.textContent)&&(startOpeningAnimation(),openAudio.play())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhc2VwcmludHN0cmVhbS5qcyJdLCJuYW1lcyI6WyJzdGFydE9wZW5pbmdBbmltYXRpb24iLCJvcGVuQnRuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY2FzZUJveCIsIndpbm5pbmdJdGVtQm94Iiwid2lubmluZ0ltZyIsIndpbm5pbmdCdXR0b24iLCJzcGlubmluZ0J0biIsImJhbGFuY2VBbW91bnRNb2JpbGUiLCJvcGVuQXVkaW8iLCJBdWRpbyIsImxpZ2h0Qmx1ZSIsImJhbGFuY2VBbW91bnQiLCJwdXJwbGUiLCJhbW91bnRWYWx1ZSIsIm9wZW5lZCIsImFkZCIsInRleHRDb250ZW50IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInZhbHVlIiwicGFyc2VGbG9hdCIsImN1cnJlbnRXaW5uaW5nSXRlbVByaWNlIiwic2V0V2lubmluZ0l0ZW0iLCJ3aW5uaW5nSXRlbU51bWJlciIsImZsb29yIiwidG9GaXhlZCIsIndpbm5pbmdJdGVtSW1nIiwid2lubmluZ0l0ZW1UZXh0IiwiY3JlYXRlRWxlbWVudCIsImNoYW5jZXMiLCJjbGFzc0xpc3QiLCJhZGRJdGVtcyIsIndpbm5pbmdJdGVtIiwic2V0VGltZW91dCIsInJlc2V0T3BlbmluZyIsInNldEF0dHJpYnV0ZSIsIml0ZW1zQW51YmlzSW1nIiwiaXRlbXNBbnViaXNOYW1lIiwiY29uc29sZSIsInJhbmRvbUl0ZW1Gcm9tQ29sb3IiLCJhcHBlbmQiLCJyZW1vdmVCYWxhbmNlT25PcGVuIiwiaXRlbSIsInN0eWxlIiwiaWQiLCJpdGVtSW1nIiwiTWF0aCIsInJhbmRvbSIsImxlbmd0aCIsIml0ZW1QcmljZUJveCIsIml0ZW1QcmljZUljb24iLCJ3aW5uaW5nSXRlbURpdiIsImxhc3RJdGVtRHJvcHMiLCJmaXJzdEVsZW1lbnRDaGlsZCIsImJhY2tncm91bmQiLCJhZGRFdmVudExpc3RlbmVyIiwiYWRkQmFsYW5jZSIsInNldEl0ZW0iLCJjb25jYXQiLCJyZW1vdmUiLCJub3JtYWxJdGVtSW1nIiwibm9ybWFsSXRlbSIsIml0ZW1UZXh0IiwiaXRlbVByaWNlIiwibm9ybWFsSXRlbVRleHQiLCJub3JtYWxJdGVtRGl2IiwiY2hpbGRFbGVtZW50Q291bnQiLCJsYXN0RHJvcEJnIiwibm9ybWFsSXRlbU51bWJlciIsInJlZCIsIl9sb29wMiIsInBsYXkiLCJwaW5rIiwiZ3JleSIsImkiXSwibWFwcGluZ3MiOiJhQUFBLElBeURNQSx3QkF6REFDLFFBQVVDLFNBQVNDLGNBQWMsV0FBVyxFQUM1Q0MsUUFBVUYsU0FBU0MsY0FBYyxPQUFPLEVBRHhDRixlQUFtQkUsU0FBQUEsY0FBYyxlQUFZLEVBQzdDQyxXQUFVRixTQUFTQyxjQUFjLG1CQUFRLEVBQ3pDRSxjQUFpQkgsU0FBU0MsY0FBYyxzQkFBZ0IsRUFDeERHLFlBQWFKLFNBQVNDLGNBQWMscUJBQW9CLEVBQ3hESSxvQkFBd0JMLFNBQUNDLGNBQWMsc0JBQXVCLEVBQzlESyxVQUFjTixJQUFBQSxNQUFTQyx1QkFBYyxFQUNyQ00saUJBQW1CLENBQUdQLENBQUFBLEtBQUFBLENBQVEsSUFBQ0MsSUFBQUEsQ0FBQUEsS0FDL0JPLGVBQWdCQyxDQUN0QixDQUFBLGdEQUNBLENBUUEsNENBS0EscURBTUEsQ0FBQSxzREFHTUMsZ0JBQ0wsQ0FDRCxDQUFBLHdCQUNBLENBQUEsc0JBQWEsOEJBQ2IsQ0FBQSwwQkFFTUMsV0FBYSxDQUVuQkEsOEJBRUEsZ0NBaEJDLGdDQW9CQUEsSUFBQUEsaUVBQ0FKLEtBQUFBLGtFQUNBSyxPQUVELGtFQUNLQyxVQWxCSixtRUFxQkFGLEtBQUFBLGtFQUNBSixLQUFBQSxnRUFDQU8sT0FBQSxDQUFBLEVBR0FaLGNBQWtCYSxTQUFJZCxjQUFZLGdDQUFBLEVBS2pDYSxZQXhCRkgsY0FxQlVLLFlBQUlDLGFBQUFDLFFBQUEsU0FBQSxFQUdFLFdBckJmLElBdUJHQyxFQURZQyxXQUFBVCxjQUFBSyxXQUFBLEVBQ1BLLHdCQUdUVixjQUFNVyxZQUFpQkgsRUFBakJHLFFBQUFBLENBQWNBLEVBdEJuQmYsb0JBdUJNZ0IsWUFB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QVF3RCxpQkFBaUIsUUFBUyxXQUNsQixDQUFBLElBQVh6QyxRQUE2RCxJQUF6Q00sV0FBV1QsY0FBY0ssV0FBVyxJQUMzRGxCLHNCQUFzQixFQUN0QlUsVUFBVStELEtBQUssRUFFakIsQ0FBQyIsImZpbGUiOiJjYXNlcHJpbnRzdHJlYW0ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgb3BlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3Blbi1idG5cIik7XHJcbmNvbnN0IGNhc2VCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhc2VcIik7XHJcbmNvbnN0IHdpbm5pbmdJdGVtQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uaW5nLWl0ZW1cIik7XHJcbmNvbnN0IHdpbm5pbmdJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbSBpbWdcIik7XHJcbmNvbnN0IHdpbm5pbmdCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbS1idXR0b25cIik7XHJcbmNvbnN0IHNwaW5uaW5nQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5vcGVuLWJ0bi0tc3Bpbm5pbmdcIik7XHJcbmNvbnN0IGJhbGFuY2VBbW91bnRNb2JpbGUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fYmFsYW5jZS1hbW91bnRcIik7XHJcbmNvbnN0IG9wZW5BdWRpbyA9IG5ldyBBdWRpbyhcIi4vZGlzdC9hdWRpby9vcGVuLm1wM1wiKTtcclxuY29uc3QgaXRlbXNBbnViaXNQcmljZSA9IFtbNDUxXSwgWzEyMCwgODddLCBbMC41XV07XHJcbmNvbnN0IGl0ZW1zQW51YmlzSW1nID0gW1xyXG5cdFtcIi4vZGlzdC9pbWcvcHJpbnRzdHJlYW0vbTRhMS1zcHJpbnRzdHJlYW0ucG5nXCJdLFxyXG5cdFtcclxuXHRcdFwiLi9kaXN0L2ltZy9wcmludHN0cmVhbS91c3BwcmludHN0cmVhbS5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9wcmludHN0cmVhbS9kZXNlcnRlYWdsZXByaW50c3RyZWFtLnBuZ1wiLFxyXG5cdF0sXHJcblx0W1wiLi9kaXN0L2ltZy9wcmludHN0cmVhbS9jei03NS1hdXRvanVuZ2xlZGFzaGVkLnBuZ1wiXSxcclxuXTtcclxuY29uc3QgaXRlbXNBbnViaXNOYW1lID0gW1xyXG5cdFtcIk00QTEtUyB8IFByaW50c3RyZWFtXCJdLFxyXG5cdFtcIlVTUC1TIHwgUHJpbnRzdHJlYW1cIiwgXCJEZXNlcnQgRWFnbGUgfCBQcmludHN0cmVhbVwiXSxcclxuXHRbXCJDWi03NSB8IEp1bmdsZSBEYXNoZWRcIl0sXHJcbl07XHJcbmNvbnN0IGxhc3REcm9wQmcgPSBbXHJcblx0XCJyZ2JhKDIyMiwgNzYsIDY1LCAwLjIpIDEwMCVcIixcclxuXHRcInJnYmEoMjU1LCAxMTIsIDE4MywgMC4yKSAxMDAlXCIsXHJcblx0XCJyZ2JhKDc1LCAxMzgsIDI1NSwgMC4yKSAxMDAlXCIsXHJcbl07XHJcbmNvbnN0IHJlZCA9IFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDIyMiwgNzYsIDY1LCAuNSkgMTAwJSlcIjtcclxuY29uc3QgcGluayA9IFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDI1NSwgNTAsIDI0MCwgLjUpIDEwMCUpXCI7XHJcbmNvbnN0IHB1cnBsZSA9XHJcblx0XCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoMTI1LCA1MCwgMjU1LCAuNSkgMTAwJSlcIjtcclxuY29uc3QgbGlnaHRCbHVlID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSgxNjAsIDIxMSwgMjU1LCAuNSkgMTAwJSlcIjtcclxuY29uc3QgYmx1ZSA9IFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDUwLCAxMTMsIDI1NSwgLjUpIDEwMCUpXCI7XHJcbmNvbnN0IGdyZXkgPSBcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSg3OCwgNzgsIDc4LCAuNSkgMTAwJSlcIjtcclxubGV0IG9wZW5lZCA9IGZhbHNlO1xyXG5sZXQgY3VycmVudFdpbm5pbmdJdGVtUHJpY2U7XHJcbmNvbnN0IGJhbGFuY2VBbW91bnQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm5hdl9fbGlzdC1pdGVtLWJhbGFuY2UtYW1vdW50XCIpO1xyXG5cclxuYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiQmFsYW5jZVwiKTtcclxuXHJcbmNvbnN0IGFkZEJhbGFuY2UgPSAoKSA9PiB7XHJcblx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSArIGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlO1xyXG5cclxuXHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxuXHRiYWxhbmNlQW1vdW50TW9iaWxlLnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxufTtcclxuXHJcbmNvbnN0IHJlbW92ZUJhbGFuY2VPbk9wZW4gPSAoKSA9PiB7XHJcblx0bGV0IGFtb3VudFZhbHVlID0gcGFyc2VGbG9hdChiYWxhbmNlQW1vdW50LnRleHRDb250ZW50KTtcclxuXHRsZXQgdmFsdWUgPSBhbW91bnRWYWx1ZSAtIDIwO1xyXG5cclxuXHRiYWxhbmNlQW1vdW50LnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxuXHRiYWxhbmNlQW1vdW50TW9iaWxlLnRleHRDb250ZW50ID0gdmFsdWUudG9GaXhlZCgyKTtcclxufTtcclxuXHJcbmNvbnN0IHN0YXJ0T3BlbmluZ0FuaW1hdGlvbiA9ICgpID0+IHtcclxuXHRjYXNlQm94LmNsYXNzTGlzdC5hZGQoXCJvcGVuLWFuaW1cIik7XHJcblx0YWRkSXRlbXMoKTtcclxuXHRvcGVuZWQgPSB0cnVlO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdG9wZW5lZCA9IGZhbHNlO1xyXG5cdFx0cmVzZXRPcGVuaW5nKCk7XHJcblx0fSwgNjUwMCk7XHJcbn07XHJcblxyXG5jb25zdCBzZXRXaW5uaW5nSXRlbSA9ICgpID0+IHtcclxuXHRjb25zdCB3aW5uaW5nSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRsZXQgY2hhbmNlcyA9IHdpbm5pbmdJdGVtTnVtYmVyO1xyXG5cclxuXHRpZiAoY2hhbmNlcyA8PSA1KSB7XHJcblx0XHRjaGFuY2VzID0gMDtcclxuXHR9IGVsc2UgaWYgKGNoYW5jZXMgPiA1ICYmIGNoYW5jZXMgPD0gMzApIHtcclxuXHRcdGNoYW5jZXMgPSAxO1xyXG5cdH0gZWxzZSB7XHJcblx0XHRjaGFuY2VzID0gMjtcclxuXHR9XHJcblxyXG5cdGlmICh3aW5uaW5nSXRlbU51bWJlciA8PSA1KSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcmVkO1xyXG5cdH0gZWxzZSBpZiAod2lubmluZ0l0ZW1OdW1iZXIgPiA1ICYmIHdpbm5pbmdJdGVtTnVtYmVyIDw9IDMwKSB7XHJcblx0XHR3aW5uaW5nSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcGluaztcclxuXHR9IGVsc2Uge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGdyZXk7XHJcblx0fVxyXG5cclxuXHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdE1hdGgucmFuZG9tKCkgKiBpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXS5sZW5ndGhcclxuXHQpO1xyXG5cclxuXHR3aW5uaW5nSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbVwiKTtcclxuXHR3aW5uaW5nSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1pbWdcIik7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XCJzcmNcIixcclxuXHRcdGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0KTtcclxuXHR3aW5uaW5nSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcImFsdFwiLFxyXG5cdFx0aXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0KTtcclxuXHR3aW5uaW5nSXRlbVRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0tbmFtZVwiKTtcclxuXHR3aW5uaW5nSXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdGNvbnNvbGUubG9nKGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXSk7XHJcblxyXG5cdHdpbm5pbmdJdGVtLmFwcGVuZCh3aW5uaW5nSXRlbUltZywgd2lubmluZ0l0ZW1UZXh0KTtcclxuXHR3aW5uaW5nSXRlbURpdi5hcHBlbmQod2lubmluZ0l0ZW0pO1xyXG5cdGNhc2VCb3guYXBwZW5kKHdpbm5pbmdJdGVtRGl2KTtcclxuXHJcblx0Y3VycmVudFdpbm5pbmdJdGVtUHJpY2UgPSBpdGVtc0FudWJpc1ByaWNlW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRyZW1vdmVCYWxhbmNlT25PcGVuKCk7XHJcblxyXG5cdG9wZW5CdG4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHRzcGlubmluZ0J0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGFkZEJhbGFuY2UoKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCBgJHtiYWxhbmNlQW1vdW50LnRleHRDb250ZW50fWApO1xyXG5cclxuXHRcdGlkKys7XHJcblx0XHRjb25zdCBpdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IGl0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0Y29uc3QgaXRlbVByaWNlQm94ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IGl0ZW1QcmljZSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cdFx0Y29uc3QgaXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHRcdGNvbnN0IGl0ZW1QcmljZUljb24gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cclxuXHRcdGlmIChjaGFuY2VzIDw9IDApIHtcclxuXHRcdFx0aXRlbS5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFx0XCJjbGFzc1wiLFxyXG5cdFx0XHRcdFwibWFpbl9fZHJvcHNib3gtaXRlbSBtYWluX19kcm9wc2JveC1pdGVtLS1yZWRcIlxyXG5cdFx0XHQpO1xyXG5cdFx0fSBlbHNlIGlmKGNoYW5jZXMgPD0gMSl7XHJcblx0XHRcdGl0ZW0uc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcdFwiY2xhc3NcIixcclxuXHRcdFx0XHRcIm1haW5fX2Ryb3BzYm94LWl0ZW0gbWFpbl9fZHJvcHNib3gtaXRlbS0tcGlua1wiXHJcblx0XHRcdCk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpdGVtLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XHRcImNsYXNzXCIsXHJcblx0XHRcdFx0XCJtYWluX19kcm9wc2JveC1pdGVtIG1haW5fX2Ryb3BzYm94LWl0ZW0tLWJsdWVcIlxyXG5cdFx0XHQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGl0ZW0uc2V0QXR0cmlidXRlKFwiaWRcIiwgaWQpO1xyXG5cdFx0aXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIm1haW5fX2Ryb3BzYm94LWl0ZW0taW1nXCIpO1xyXG5cdFx0aXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwic3JjXCIsXHJcblx0XHRcdGAke2l0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdfWBcclxuXHRcdCk7XHJcblx0XHRpdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJhbHRcIixcclxuXHRcdFx0YCR7aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl19YFxyXG5cdFx0KTtcclxuXHRcdGl0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFpbl9fZHJvcHNib3gtaXRlbS1uYW1lXCIpO1xyXG5cdFx0aXRlbVByaWNlLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFpbl9fZHJvcHNib3gtaXRlbS1wcmljZVwiKTtcclxuXHRcdGl0ZW1QcmljZUljb24uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJtYWluX19kcm9wc2JveC1pdGVtLXByaWNlYm94LWltZ1wiKTtcclxuXHRcdGl0ZW1QcmljZUljb24uc2V0QXR0cmlidXRlKFwic3JjXCIsIFwiLi9kaXN0L2ltZy9vdGhlci9jb2luLnBuZ1wiKTtcclxuXHRcdGl0ZW1QcmljZUljb24uc2V0QXR0cmlidXRlKFwiYWx0XCIsIFwiQ29pbiBJY29uXCIpO1xyXG5cdFx0aXRlbVByaWNlQm94LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwibWFpbl9fZHJvcHNib3gtaXRlbS1wcmljZWJveCBoaWRkZW5cIik7XHJcblx0XHRpdGVtUHJpY2UudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc1ByaWNlW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cdFx0aXRlbS5zdHlsZS5vcmRlciA9IFwiLVwiICsgaWQ7XHJcblx0XHRpdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHRcdGl0ZW1QcmljZUJveC5hcHBlbmQoaXRlbVByaWNlLCBpdGVtUHJpY2VJY29uKTtcclxuXHRcdGl0ZW0uYXBwZW5kKGl0ZW1JbWcsIGl0ZW1UZXh0LCBpdGVtUHJpY2VCb3gpO1xyXG5cdFx0bGFzdEl0ZW1Ecm9wcy5hcHBlbmQoaXRlbSk7XHJcblxyXG5cdFx0aWYgKGxhc3RJdGVtRHJvcHMuY2hpbGRFbGVtZW50Q291bnQgPiAxMCkge1xyXG5cdFx0XHRsYXN0SXRlbURyb3BzLmZpcnN0RWxlbWVudENoaWxkLnJlbW92ZSgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpZCAlIDIgPT09IDApIHtcclxuXHRcdFx0aXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYGxpbmVhci1ncmFkaWVudCg5MGRlZywgIzFkMjEyNiAyNSUsICR7bGFzdERyb3BCZ1tjaGFuY2VzXX1gO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gYGxpbmVhci1ncmFkaWVudCg5MGRlZywgIzI4MmUzNSAyNSUsICR7bGFzdERyb3BCZ1tjaGFuY2VzXX1gO1xyXG5cdFx0fVxyXG5cclxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCAoKSA9PiB7XHJcblx0XHRcdGl0ZW1QcmljZUJveC5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0aXRlbS5hZGRFdmVudExpc3RlbmVyKFwibW91c2VsZWF2ZVwiLCAoKSA9PiB7XHJcblx0XHRcdGl0ZW1QcmljZUJveC5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdFx0fSk7XHJcblx0fSwgNTUwMCk7XHJcblxyXG5cdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0d2lubmluZ0l0ZW1EaXYucmVtb3ZlKCk7XHJcblx0XHRvcGVuQnRuLmNsYXNzTGlzdC5yZW1vdmUoXCJoaWRkZW5cIik7XHJcblx0XHRzcGlubmluZ0J0bi5jbGFzc0xpc3QuYWRkKFwiaGlkZGVuXCIpO1xyXG5cdH0sIDU1MDApO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHdpbm5pbmdJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0b3BlbkJ0bi5jbGFzc0xpc3QucmVtb3ZlKFwiaGlkZGVuXCIpO1xyXG5cdFx0c3Bpbm5pbmdCdG4uY2xhc3NMaXN0LmFkZChcImhpZGRlblwiKTtcclxuXHR9LCA2NTAwKTtcclxufTtcclxuXHJcbmNvbnN0IGFkZEl0ZW1zID0gKCkgPT4ge1xyXG5cdGZvciAobGV0IGkgPSAwOyBpIDw9IDEwOyBpKyspIHtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGxldCBjaGFuY2VzID0gbm9ybWFsSXRlbU51bWJlcjtcclxuXHJcblx0XHRpZiAoY2hhbmNlcyA8PSA1KSB7XHJcblx0XHRcdGNoYW5jZXMgPSAwO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuY2VzID4gNSAmJiBjaGFuY2VzIDw9IDMwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAxO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDI7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRcdE1hdGgucmFuZG9tKCkgKiBpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXS5sZW5ndGhcclxuXHRcdCk7XHJcblxyXG5cdFx0aWYgKG5vcm1hbEl0ZW1OdW1iZXIgPD0gNSkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSByZWQ7XHJcblx0XHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiA1ICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gMzApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcGluaztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGdyZXk7XHJcblx0XHR9XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwic3JjXCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwiYWx0XCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0XHRub3JtYWxJdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0XHRub3JtYWxJdGVtLmFwcGVuZChub3JtYWxJdGVtSW1nLCBub3JtYWxJdGVtVGV4dCk7XHJcblx0XHRub3JtYWxJdGVtRGl2LmFwcGVuZChub3JtYWxJdGVtKTtcclxuXHRcdGNhc2VCb3guYXBwZW5kKG5vcm1hbEl0ZW1EaXYpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRub3JtYWxJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0fSwgNjUwMCk7XHJcblx0fVxyXG5cclxuXHRzZXRXaW5uaW5nSXRlbSgpO1xyXG5cclxuXHRmb3IgKGxldCBpID0gMDsgaSA8PSA0OyBpKyspIHtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbURpdiA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtVGV4dCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJwXCIpO1xyXG5cclxuXHRcdGxldCBjaGFuY2VzID0gbm9ybWFsSXRlbU51bWJlcjtcclxuXHJcblx0XHRpZiAoY2hhbmNlcyA8PSA1KSB7XHJcblx0XHRcdGNoYW5jZXMgPSAwO1xyXG5cdFx0fSBlbHNlIGlmIChjaGFuY2VzID4gNSAmJiBjaGFuY2VzIDw9IDMwKSB7XHJcblx0XHRcdGNoYW5jZXMgPSAxO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Y2hhbmNlcyA9IDI7XHJcblx0XHR9XHJcblxyXG5cdFx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRcdE1hdGgucmFuZG9tKCkgKiBpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXS5sZW5ndGhcclxuXHRcdCk7XHJcblxyXG5cdFx0aWYgKG5vcm1hbEl0ZW1OdW1iZXIgPD0gNSkge1xyXG5cdFx0XHRub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSByZWQ7XHJcblx0XHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiA1ICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gMzApIHtcclxuXHRcdFx0bm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcGluaztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGdyZXk7XHJcblx0XHR9XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwic3JjXCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXHJcblx0XHRcdFwiYWx0XCIsXHJcblx0XHRcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0XHRub3JtYWxJdGVtVGV4dC50ZXh0Q29udGVudCA9IGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0XHRub3JtYWxJdGVtLmFwcGVuZChub3JtYWxJdGVtSW1nLCBub3JtYWxJdGVtVGV4dCk7XHJcblx0XHRub3JtYWxJdGVtRGl2LmFwcGVuZChub3JtYWxJdGVtKTtcclxuXHRcdGNhc2VCb3guYXBwZW5kKG5vcm1hbEl0ZW1EaXYpO1xyXG5cclxuXHRcdHNldFRpbWVvdXQoKCkgPT4ge1xyXG5cdFx0XHRub3JtYWxJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdFx0fSwgNjUwMCk7XHJcblx0fVxyXG59O1xyXG5cclxuY29uc3QgcmVzZXRPcGVuaW5nID0gKCkgPT4ge1xyXG5cdGNhc2VCb3guY2xhc3NMaXN0LnJlbW92ZShcIm9wZW4tYW5pbVwiKTtcclxufTtcclxuXHJcbm9wZW5CdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuXHRpZiAob3BlbmVkID09PSBmYWxzZSAmJiBwYXJzZUZsb2F0KGJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQpID49IDIwKSB7XHJcblx0XHRzdGFydE9wZW5pbmdBbmltYXRpb24oKTtcclxuXHRcdG9wZW5BdWRpby5wbGF5KCk7XHJcblx0fVxyXG59KTtcclxuIl19
