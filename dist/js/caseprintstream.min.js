"use strict";var currentWinningItemPrice,openBtn=document.querySelector(".open-btn"),caseBox=document.querySelector(".case"),winningItemBox=document.querySelector(".winning-item"),winningImg=document.querySelector(".winning-item img"),winningButton=document.querySelector(".winning-item-button"),openAudio=new Audio("./dist/audio/open.mp3"),itemsAnubisPrice=[[451],[120,87],[.5]],itemsAnubisImg=[["./dist/img/printstream/m4a1-sprintstream.png"],["./dist/img/printstream/uspprintstream.png","./dist/img/printstream/deserteagleprintstream.png"],["./dist/img/printstream/cz-75-autojungledashed.png"]],itemsAnubisName=[["M4A1-S | Printstream"],["USP-S | Printstream","Desert Eagle | Printstream"],["CZ-75 | Jungle Dashed"]],red="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(135,0,0,1) 100%)",pink="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(255,50,240,1) 100%)",purple="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(125,50,255,1) 100%)",lightBlue="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(160,211,255,1) 100%)",blue="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(50,113,255,1) 100%)",grey="linear-gradient(180deg, rgba(0,0,0,1) 50%, rgba(78,78,78,1) 100%)",opened=!1,balanceAmount=document.querySelector(".nav__list-item-balance-amount"),addBalance=(balanceAmount.textContent=localStorage.getItem("Balance"),function(){var e=parseFloat(balanceAmount.textContent)+currentWinningItemPrice;balanceAmount.textContent=e.toFixed(2)}),removeBalanceOnOpen=function(){var e=parseFloat(balanceAmount.textContent)-15;balanceAmount.textContent=e.toFixed(2)},startOpeningAnimation=function(){caseBox.classList.add("open-anim"),addItems(),opened=!0,setTimeout(function(){opened=!1,resetOpening()},6500)},setWinningItem=function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),r=(r=e)<=5?0:5<r&&r<=30?1:2,e=(n.style.background=e<=5?red:5<e&&e<=30?pink:grey,Math.floor(Math.random()*itemsAnubisImg[r].length));n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[r][e]),a.setAttribute("alt",itemsAnubisName[r][e]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[r][e],console.log(itemsAnubisName[r][e]),n.append(a,i),t.append(n),caseBox.append(t),currentWinningItemPrice=itemsAnubisPrice[r][e],removeBalanceOnOpen(),setTimeout(function(){addBalance(),localStorage.setItem("Balance","".concat(balanceAmount.textContent))},5500),setTimeout(function(){t.remove()},6500)},addItems=function(){for(var e=0;e<=10;e++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),r=(r=e)<=5?0:5<r&&r<=30?1:2,m=Math.floor(Math.random()*itemsAnubisImg[r].length);n.style.background=e<=5?red:5<e&&e<=30?pink:grey,n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[r][m]),a.setAttribute("alt",itemsAnubisName[r][m]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[r][m],n.append(a,i),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}();setWinningItem();for(var t=0;t<=4;t++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),r=(r=e)<=5?0:5<r&&r<=30?1:2,m=Math.floor(Math.random()*itemsAnubisImg[r].length);n.style.background=e<=5?red:5<e&&e<=30?pink:grey,n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[r][m]),a.setAttribute("alt",itemsAnubisName[r][m]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[r][m],n.append(a,i),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}()},resetOpening=function(){caseBox.classList.remove("open-anim")};openBtn.addEventListener("click",function(){!1===opened&&1<=parseFloat(balanceAmount.textContent)&&(startOpeningAnimation(),openAudio.play())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhc2VwcmludHN0cmVhbS5qcyJdLCJuYW1lcyI6WyJjYXNlQm94Iiwib3BlbkJ0biIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsIndpbm5pbmdJdGVtQm94Iiwid2lubmluZ0ltZyIsIndpbm5pbmdCdXR0b24iLCJvcGVuQXVkaW8iLCJBdWRpbyIsImJsdWUiLCJiYWxhbmNlQW1vdW50IiwiYWRkQmFsYW5jZSIsInZhbHVlIiwibGlnaHRCbHVlIiwiYW1vdW50VmFsdWUiLCJzdGFydE9wZW5pbmdBbmltYXRpb24iLCJhZGRJdGVtcyIsInJlc2V0T3BlbmluZyIsInRleHRDb250ZW50IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInBhcnNlRmxvYXQiLCJjdXJyZW50V2lubmluZ0l0ZW1QcmljZSIsIndpbm5pbmdJdGVtTnVtYmVyIiwiTWF0aCIsImZsb29yIiwicmFuZG9tIiwid2lubmluZ0l0ZW1JbWciLCJ3aW5uaW5nSXRlbVRleHQiLCJjcmVhdGVFbGVtZW50IiwidG9GaXhlZCIsImNoYW5jZXMiLCJhZGQiLCJvcGVuZWQiLCJzZXRUaW1lb3V0Iiwid2lubmluZ0l0ZW0iLCJzZXRBdHRyaWJ1dGUiLCJpdGVtc0FudWJpc0ltZyIsIml0ZW1zQW51YmlzTmFtZSIsIndpbm5pbmdJdGVtRGl2IiwiYXBwZW5kIiwiaXRlbXNBbnViaXNQcmljZSIsInJlbW92ZUJhbGFuY2VPbk9wZW4iLCJyYW5kb21JdGVtRnJvbUNvbG9yIiwicmVtb3ZlIiwicmVkIiwicGluayIsImdyZXkiLCJub3JtYWxJdGVtSW1nIiwibm9ybWFsSXRlbU51bWJlciIsInN0eWxlIiwiYmFja2dyb3VuZCIsImNvbnNvbGUiLCJub3JtYWxJdGVtIiwibm9ybWFsSXRlbURpdiIsImNvbmNhdCIsIm5vcm1hbEl0ZW1UZXh0IiwibGVuZ3RoIiwiYWRkRXZlbnRMaXN0ZW5lciIsInBsYXkiLCJzZXRXaW5uaW5nSXRlbSIsImkiLCJfbG9vcDIiLCJjbGFzc0xpc3QiXSwibWFwcGluZ3Mi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ekNaLFdBQVdYLGNBQWNRLFdBQVcsSUFDM0RILHNCQUFzQixFQUN0QlIsVUFBVW9ELEtBQUssRUFFakIsQ0FBQyIsImZpbGUiOiJjYXNlcHJpbnRzdHJlYW0ubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qgb3BlbkJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIub3Blbi1idG5cIik7XHJcbmNvbnN0IGNhc2VCb3ggPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhc2VcIik7XHJcbmNvbnN0IHdpbm5pbmdJdGVtQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uaW5nLWl0ZW1cIik7XHJcbmNvbnN0IHdpbm5pbmdJbWcgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbSBpbWdcIik7XHJcbmNvbnN0IHdpbm5pbmdCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLndpbm5pbmctaXRlbS1idXR0b25cIik7XHJcbmNvbnN0IG9wZW5BdWRpbyA9IG5ldyBBdWRpbyhcIi4vZGlzdC9hdWRpby9vcGVuLm1wM1wiKTtcclxuY29uc3QgaXRlbXNBbnViaXNQcmljZSA9IFtbNDUxXSwgWzEyMCwgODddLCBbMC41XV07XHJcbmNvbnN0IGl0ZW1zQW51YmlzSW1nID0gW1xyXG5cdFtcIi4vZGlzdC9pbWcvcHJpbnRzdHJlYW0vbTRhMS1zcHJpbnRzdHJlYW0ucG5nXCJdLFxyXG5cdFtcclxuXHRcdFwiLi9kaXN0L2ltZy9wcmludHN0cmVhbS91c3BwcmludHN0cmVhbS5wbmdcIixcclxuXHRcdFwiLi9kaXN0L2ltZy9wcmludHN0cmVhbS9kZXNlcnRlYWdsZXByaW50c3RyZWFtLnBuZ1wiLFxyXG5cdF0sXHJcblx0W1wiLi9kaXN0L2ltZy9wcmludHN0cmVhbS9jei03NS1hdXRvanVuZ2xlZGFzaGVkLnBuZ1wiXSxcclxuXTtcclxuY29uc3QgaXRlbXNBbnViaXNOYW1lID0gW1xyXG5cdFtcIk00QTEtUyB8IFByaW50c3RyZWFtXCJdLFxyXG5cdFtcIlVTUC1TIHwgUHJpbnRzdHJlYW1cIiwgXCJEZXNlcnQgRWFnbGUgfCBQcmludHN0cmVhbVwiXSxcclxuXHRbXCJDWi03NSB8IEp1bmdsZSBEYXNoZWRcIl0sXHJcbl07XHJcbmNvbnN0IHJlZCA9IFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgcmdiYSgwLDAsMCwxKSA1MCUsIHJnYmEoMTM1LDAsMCwxKSAxMDAlKVwiO1xyXG5jb25zdCBwaW5rID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMCwwLDAsMSkgNTAlLCByZ2JhKDI1NSw1MCwyNDAsMSkgMTAwJSlcIjtcclxuY29uc3QgcHVycGxlID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMCwwLDAsMSkgNTAlLCByZ2JhKDEyNSw1MCwyNTUsMSkgMTAwJSlcIjtcclxuY29uc3QgbGlnaHRCbHVlID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMCwwLDAsMSkgNTAlLCByZ2JhKDE2MCwyMTEsMjU1LDEpIDEwMCUpXCI7XHJcbmNvbnN0IGJsdWUgPVxyXG5cdFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgcmdiYSgwLDAsMCwxKSA1MCUsIHJnYmEoNTAsMTEzLDI1NSwxKSAxMDAlKVwiO1xyXG5jb25zdCBncmV5ID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIHJnYmEoMCwwLDAsMSkgNTAlLCByZ2JhKDc4LDc4LDc4LDEpIDEwMCUpXCI7XHJcbmxldCBvcGVuZWQgPSBmYWxzZTtcclxubGV0IGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlO1xyXG5jb25zdCBiYWxhbmNlQW1vdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX2xpc3QtaXRlbS1iYWxhbmNlLWFtb3VudFwiKTtcclxuXHJcbmJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIik7XHJcblxyXG5jb25zdCBhZGRCYWxhbmNlID0gKCkgPT4ge1xyXG5cdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0bGV0IHZhbHVlID0gYW1vdW50VmFsdWUgKyBjdXJyZW50V2lubmluZ0l0ZW1QcmljZTtcclxuXHJcblx0YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVCYWxhbmNlT25PcGVuID0gKCkgPT4ge1xyXG5cdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0bGV0IHZhbHVlID0gYW1vdW50VmFsdWUgLSAxNTtcclxuXHJcblx0YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcbn07XHJcblxyXG5jb25zdCBzdGFydE9wZW5pbmdBbmltYXRpb24gPSAoKSA9PiB7XHJcblx0Y2FzZUJveC5jbGFzc0xpc3QuYWRkKFwib3Blbi1hbmltXCIpO1xyXG5cdGFkZEl0ZW1zKCk7XHJcblx0b3BlbmVkID0gdHJ1ZTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRvcGVuZWQgPSBmYWxzZTtcclxuXHRcdHJlc2V0T3BlbmluZygpO1xyXG5cdH0sIDY1MDApO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0V2lubmluZ0l0ZW0gPSAoKSA9PiB7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0bGV0IGNoYW5jZXMgPSB3aW5uaW5nSXRlbU51bWJlcjtcclxuXHJcblx0aWYgKGNoYW5jZXMgPD0gNSkge1xyXG5cdFx0Y2hhbmNlcyA9IDA7XHJcblx0fSBlbHNlIGlmIChjaGFuY2VzID4gNSAmJiBjaGFuY2VzIDw9IDMwKSB7XHJcblx0XHRjaGFuY2VzID0gMTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y2hhbmNlcyA9IDI7XHJcblx0fVxyXG5cclxuXHRpZiAod2lubmluZ0l0ZW1OdW1iZXIgPD0gNSkge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHR9IGVsc2UgaWYgKHdpbm5pbmdJdGVtTnVtYmVyID4gNSAmJiB3aW5uaW5nSXRlbU51bWJlciA8PSAzMCkge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHBpbms7XHJcblx0fSBlbHNlIHtcclxuXHRcdHdpbm5pbmdJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBncmV5O1xyXG5cdH1cclxuXHJcblx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRNYXRoLnJhbmRvbSgpICogaXRlbXNBbnViaXNJbWdbY2hhbmNlc10ubGVuZ3RoXHJcblx0KTtcclxuXHJcblx0d2lubmluZ0l0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdHdpbm5pbmdJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFwic3JjXCIsXHJcblx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdCk7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XCJhbHRcIixcclxuXHRcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdCk7XHJcblx0d2lubmluZ0l0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0d2lubmluZ0l0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRjb25zb2xlLmxvZyhpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl0pO1xyXG5cclxuXHR3aW5uaW5nSXRlbS5hcHBlbmQod2lubmluZ0l0ZW1JbWcsIHdpbm5pbmdJdGVtVGV4dCk7XHJcblx0d2lubmluZ0l0ZW1EaXYuYXBwZW5kKHdpbm5pbmdJdGVtKTtcclxuXHRjYXNlQm94LmFwcGVuZCh3aW5uaW5nSXRlbURpdik7XHJcblxyXG5cdGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlID0gaXRlbXNBbnViaXNQcmljZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0cmVtb3ZlQmFsYW5jZU9uT3BlbigpO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGFkZEJhbGFuY2UoKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCBgJHtiYWxhbmNlQW1vdW50LnRleHRDb250ZW50fWApO1xyXG5cdH0sIDU1MDApO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHdpbm5pbmdJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdH0sIDY1MDApO1xyXG59O1xyXG5cclxuY29uc3QgYWRkSXRlbXMgPSAoKSA9PiB7XHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPD0gMTA7IGkrKykge1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG5cdFx0bGV0IGNoYW5jZXMgPSBub3JtYWxJdGVtTnVtYmVyO1xyXG5cclxuICAgICAgICBpZiAoY2hhbmNlcyA8PSA1KSB7XHJcbiAgICAgICAgICAgIGNoYW5jZXMgPSAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbmNlcyA+IDUgJiYgY2hhbmNlcyA8PSAzMCkge1xyXG4gICAgICAgICAgICBjaGFuY2VzID0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjaGFuY2VzID0gMjtcclxuICAgICAgICB9XHJcblxyXG5cdFx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRcdE1hdGgucmFuZG9tKCkgKiBpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXS5sZW5ndGhcclxuXHRcdCk7XHJcblxyXG5cdGlmIChub3JtYWxJdGVtTnVtYmVyIDw9IDUpIHtcclxuXHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiA1ICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gMzApIHtcclxuXHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHBpbms7XHJcblx0fSBlbHNlIHtcclxuXHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGdyZXk7XHJcblx0fVxyXG5cclxuXHRcdG5vcm1hbEl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLWltZ1wiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcInNyY1wiLFxyXG5cdFx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcImFsdFwiLFxyXG5cdFx0XHRpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtVGV4dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1uYW1lXCIpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5hcHBlbmQobm9ybWFsSXRlbUltZywgbm9ybWFsSXRlbVRleHQpO1xyXG5cdFx0bm9ybWFsSXRlbURpdi5hcHBlbmQobm9ybWFsSXRlbSk7XHJcblx0XHRjYXNlQm94LmFwcGVuZChub3JtYWxJdGVtRGl2KTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0bm9ybWFsSXRlbURpdi5yZW1vdmUoKTtcclxuXHRcdH0sIDY1MDApO1xyXG5cdH1cclxuXHJcblx0c2V0V2lubmluZ0l0ZW0oKTtcclxuXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPD0gNDsgaSsrKSB7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcblx0XHRsZXQgY2hhbmNlcyA9IG5vcm1hbEl0ZW1OdW1iZXI7XHJcblxyXG4gICAgICAgIGlmIChjaGFuY2VzIDw9IDUpIHtcclxuICAgICAgICAgICAgY2hhbmNlcyA9IDA7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFuY2VzID4gNSAmJiBjaGFuY2VzIDw9IDMwKSB7XHJcbiAgICAgICAgICAgIGNoYW5jZXMgPSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoYW5jZXMgPSAyO1xyXG4gICAgICAgIH1cclxuXHJcblx0XHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAobm9ybWFsSXRlbU51bWJlciA8PSA1KSB7XHJcbiAgICAgICAgICAgIG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuICAgICAgICB9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiA1ICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gMzApIHtcclxuICAgICAgICAgICAgbm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcGluaztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBncmV5O1xyXG4gICAgICAgIH1cclxuXHJcblx0XHRub3JtYWxJdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1pbWdcIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJzcmNcIixcclxuXHRcdFx0aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJhbHRcIixcclxuXHRcdFx0aXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0tbmFtZVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRcdG5vcm1hbEl0ZW0uYXBwZW5kKG5vcm1hbEl0ZW1JbWcsIG5vcm1hbEl0ZW1UZXh0KTtcclxuXHRcdG5vcm1hbEl0ZW1EaXYuYXBwZW5kKG5vcm1hbEl0ZW0pO1xyXG5cdFx0Y2FzZUJveC5hcHBlbmQobm9ybWFsSXRlbURpdik7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdG5vcm1hbEl0ZW1EaXYucmVtb3ZlKCk7XHJcblx0XHR9LCA2NTAwKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCByZXNldE9wZW5pbmcgPSAoKSA9PiB7XHJcblx0Y2FzZUJveC5jbGFzc0xpc3QucmVtb3ZlKFwib3Blbi1hbmltXCIpO1xyXG59O1xyXG5cclxub3BlbkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdGlmIChvcGVuZWQgPT09IGZhbHNlICYmIHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCkgPj0gMSkge1xyXG5cdFx0c3RhcnRPcGVuaW5nQW5pbWF0aW9uKCk7XHJcblx0XHRvcGVuQXVkaW8ucGxheSgpO1xyXG5cdH1cclxufSk7XHJcbiJdfQ==
