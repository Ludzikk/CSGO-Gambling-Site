"use strict";var currentWinningItemPrice,openBtn=document.querySelector(".open-btn"),caseBox=document.querySelector(".case"),winningItemBox=document.querySelector(".winning-item"),winningImg=document.querySelector(".winning-item img"),winningButton=document.querySelector(".winning-item-button"),openAudio=new Audio("./dist/audio/open.mp3"),itemsAnubisPrice=[[451],[120,87],[.5]],itemsAnubisImg=[["./dist/img/printstream/m4a1-sprintstream.png"],["./dist/img/printstream/uspprintstream.png","./dist/img/printstream/deserteagleprintstream.png"],["./dist/img/printstream/cz-75-autojungledashed.png"]],itemsAnubisName=[["M4A1-S | Printstream"],["USP-S | Printstream","Desert Eagle | Printstream"],["CZ-75 | Jungle Dashed"]],red="linear-gradient(180deg, black 40%, rgba(222, 76, 65, .5) 100%)",pink="linear-gradient(180deg, black 40%, rgba(255, 50, 240, .5) 100%)",purple="linear-gradient(180deg, black 40%, rgba(125, 50, 255, .5) 100%)",lightBlue="linear-gradient(180deg, black 40%, rgba(160, 211, 255, .5) 100%)",blue="linear-gradient(180deg, black 40%, rgba(50, 113, 255, .5) 100%)",grey="linear-gradient(180deg, black 40%, rgba(78, 78, 78, .5) 100%)",opened=!1,balanceAmount=document.querySelector(".nav__list-item-balance-amount"),addBalance=(balanceAmount.textContent=localStorage.getItem("Balance"),function(){var e=parseFloat(balanceAmount.textContent)+currentWinningItemPrice;balanceAmount.textContent=e.toFixed(2)}),removeBalanceOnOpen=function(){var e=parseFloat(balanceAmount.textContent)-20;balanceAmount.textContent=e.toFixed(2)},startOpeningAnimation=function(){caseBox.classList.add("open-anim"),addItems(),opened=!0,setTimeout(function(){opened=!1,resetOpening()},6500)},setWinningItem=function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),r=(r=e)<=5?0:5<r&&r<=30?1:2,e=(n.style.background=e<=5?red:5<e&&e<=30?pink:grey,Math.floor(Math.random()*itemsAnubisImg[r].length));n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[r][e]),a.setAttribute("alt",itemsAnubisName[r][e]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[r][e],console.log(itemsAnubisName[r][e]),n.append(a,i),t.append(n),caseBox.append(t),currentWinningItemPrice=itemsAnubisPrice[r][e],removeBalanceOnOpen(),setTimeout(function(){addBalance(),localStorage.setItem("Balance","".concat(balanceAmount.textContent))},5500),setTimeout(function(){t.remove()},6500)},addItems=function(){for(var e=0;e<=10;e++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),r=(r=e)<=5?0:5<r&&r<=30?1:2,m=Math.floor(Math.random()*itemsAnubisImg[r].length);n.style.background=e<=5?red:5<e&&e<=30?pink:grey,n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[r][m]),a.setAttribute("alt",itemsAnubisName[r][m]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[r][m],n.append(a,i),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}();setWinningItem();for(var t=0;t<=4;t++)!function(){var e=Math.floor(100*Math.random()),t=document.createElement("div"),n=document.createElement("li"),a=document.createElement("img"),i=document.createElement("p"),r=(r=e)<=5?0:5<r&&r<=30?1:2,m=Math.floor(Math.random()*itemsAnubisImg[r].length);n.style.background=e<=5?red:5<e&&e<=30?pink:grey,n.setAttribute("class","case-item"),a.setAttribute("class","case-item-img"),a.setAttribute("src",itemsAnubisImg[r][m]),a.setAttribute("alt",itemsAnubisName[r][m]),i.setAttribute("class","case-item-name"),i.textContent=itemsAnubisName[r][m],n.append(a,i),t.append(n),caseBox.append(t),setTimeout(function(){t.remove()},6500)}()},resetOpening=function(){caseBox.classList.remove("open-anim")};openBtn.addEventListener("click",function(){!1===opened&&15<=parseFloat(balanceAmount.textContent)&&(startOpeningAnimation(),openAudio.play())});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhc2VwcmludHN0cmVhbS5qcyJdLCJuYW1lcyI6WyJhZGRJdGVtcyIsIm9wZW5CdG4iLCJkb2N1bWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJjYXNlQm94Iiwid2lubmluZ0l0ZW1Cb3giLCJ3aW5uaW5nSW1nIiwid2lubmluZ0J1dHRvbiIsIm9wZW5BdWRpbyIsIkF1ZGlvIiwiYmx1ZSIsImJhbGFuY2VBbW91bnQiLCJhbW91bnRWYWx1ZSIsInJlbW92ZUJhbGFuY2VPbk9wZW4iLCJ2YWx1ZSIsImdyZXkiLCJjbGFzc0xpc3QiLCJvcGVuZWQiLCJhZGRCYWxhbmNlIiwidGV4dENvbnRlbnQiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2V0V2lubmluZ0l0ZW0iLCJwYXJzZUZsb2F0IiwiY3VycmVudFdpbm5pbmdJdGVtUHJpY2UiLCJ3aW5uaW5nSXRlbURpdiIsImNyZWF0ZUVsZW1lbnQiLCJ3aW5uaW5nSXRlbVRleHQiLCJ3aW5uaW5nSXRlbU51bWJlciIsImNoYW5jZXMiLCJ0b0ZpeGVkIiwiYWRkIiwid2lubmluZ0l0ZW0iLCJzZXRUaW1lb3V0IiwicmVzZXRPcGVuaW5nIiwid2lubmluZ0l0ZW1JbWciLCJzZXRBdHRyaWJ1dGUiLCJmbG9vciIsIml0ZW1zQW51YmlzSW1nIiwiaXRlbXNBbnViaXNOYW1lIiwiY29uc29sZSIsInJhbmRvbUl0ZW1Gcm9tQ29sb3IiLCJhcHBlbmQiLCJzdHlsZSIsImJhY2tncm91bmQiLCJyZWQiLCJwaW5rIiwiTWF0aCIsInJhbmRvbSIsIm5vcm1hbEl0ZW1UZXh0IiwibG9nIiwibm9ybWFsSXRlbUltZyIsIm5vcm1hbEl0ZW1EaXYiLCJzZXRJdGVtIiwiY29uY2F0IiwicmVtb3ZlIiwibm9ybWFsSXRlbSIsIl9sb29wIiwibm9ybWFsSXRlbU51bWJlciIsImxlbmd0aCIsImFkZEV2ZW50TGlzdGVuZXIiLCJpIiwiX2xvb3AyIiwic3RhcnRPcGVuaW5nQW5pbWF0aW9uIiwicGxheSJdLCJtYXBwaW5ncyI6ImFBQUEs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QixFQUN0QnZELFVBQVV3RCxLQUFLLEVBRWpCLENBQUMiLCJmaWxlIjoiY2FzZXByaW50c3RyZWFtLm1pbi5qcyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IG9wZW5CdG4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLm9wZW4tYnRuXCIpO1xyXG5jb25zdCBjYXNlQm94ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXNlXCIpO1xyXG5jb25zdCB3aW5uaW5nSXRlbUJveCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIud2lubmluZy1pdGVtXCIpO1xyXG5jb25zdCB3aW5uaW5nSW1nID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uaW5nLWl0ZW0gaW1nXCIpO1xyXG5jb25zdCB3aW5uaW5nQnV0dG9uID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi53aW5uaW5nLWl0ZW0tYnV0dG9uXCIpO1xyXG5jb25zdCBvcGVuQXVkaW8gPSBuZXcgQXVkaW8oXCIuL2Rpc3QvYXVkaW8vb3Blbi5tcDNcIik7XHJcbmNvbnN0IGl0ZW1zQW51YmlzUHJpY2UgPSBbWzQ1MV0sIFsxMjAsIDg3XSwgWzAuNV1dO1xyXG5jb25zdCBpdGVtc0FudWJpc0ltZyA9IFtcclxuXHRbXCIuL2Rpc3QvaW1nL3ByaW50c3RyZWFtL200YTEtc3ByaW50c3RyZWFtLnBuZ1wiXSxcclxuXHRbXHJcblx0XHRcIi4vZGlzdC9pbWcvcHJpbnRzdHJlYW0vdXNwcHJpbnRzdHJlYW0ucG5nXCIsXHJcblx0XHRcIi4vZGlzdC9pbWcvcHJpbnRzdHJlYW0vZGVzZXJ0ZWFnbGVwcmludHN0cmVhbS5wbmdcIixcclxuXHRdLFxyXG5cdFtcIi4vZGlzdC9pbWcvcHJpbnRzdHJlYW0vY3otNzUtYXV0b2p1bmdsZWRhc2hlZC5wbmdcIl0sXHJcbl07XHJcbmNvbnN0IGl0ZW1zQW51YmlzTmFtZSA9IFtcclxuXHRbXCJNNEExLVMgfCBQcmludHN0cmVhbVwiXSxcclxuXHRbXCJVU1AtUyB8IFByaW50c3RyZWFtXCIsIFwiRGVzZXJ0IEVhZ2xlIHwgUHJpbnRzdHJlYW1cIl0sXHJcblx0W1wiQ1otNzUgfCBKdW5nbGUgRGFzaGVkXCJdLFxyXG5dO1xyXG5jb25zdCByZWQgPVxyXG5cdFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDIyMiwgNzYsIDY1LCAuNSkgMTAwJSlcIjtcclxuY29uc3QgcGluayA9XHJcblx0XCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoMjU1LCA1MCwgMjQwLCAuNSkgMTAwJSlcIjtcclxuY29uc3QgcHVycGxlID1cclxuXHRcImxpbmVhci1ncmFkaWVudCgxODBkZWcsIGJsYWNrIDQwJSwgcmdiYSgxMjUsIDUwLCAyNTUsIC41KSAxMDAlKVwiO1xyXG5jb25zdCBsaWdodEJsdWUgPVxyXG5cdFwibGluZWFyLWdyYWRpZW50KDE4MGRlZywgYmxhY2sgNDAlLCByZ2JhKDE2MCwgMjExLCAyNTUsIC41KSAxMDAlKVwiOyBcclxuY29uc3QgYmx1ZSA9XHJcblx0XCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoNTAsIDExMywgMjU1LCAuNSkgMTAwJSlcIjtcclxuY29uc3QgZ3JleSA9XHJcblx0XCJsaW5lYXItZ3JhZGllbnQoMTgwZGVnLCBibGFjayA0MCUsIHJnYmEoNzgsIDc4LCA3OCwgLjUpIDEwMCUpXCI7XHJcbmxldCBvcGVuZWQgPSBmYWxzZTtcclxubGV0IGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlO1xyXG5jb25zdCBiYWxhbmNlQW1vdW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5uYXZfX2xpc3QtaXRlbS1iYWxhbmNlLWFtb3VudFwiKTtcclxuXHJcbmJhbGFuY2VBbW91bnQudGV4dENvbnRlbnQgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcIkJhbGFuY2VcIik7XHJcblxyXG5jb25zdCBhZGRCYWxhbmNlID0gKCkgPT4ge1xyXG5cdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0bGV0IHZhbHVlID0gYW1vdW50VmFsdWUgKyBjdXJyZW50V2lubmluZ0l0ZW1QcmljZTtcclxuXHJcblx0YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcbn07XHJcblxyXG5jb25zdCByZW1vdmVCYWxhbmNlT25PcGVuID0gKCkgPT4ge1xyXG5cdGxldCBhbW91bnRWYWx1ZSA9IHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCk7XHJcblx0bGV0IHZhbHVlID0gYW1vdW50VmFsdWUgLSAyMDtcclxuXHJcblx0YmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCA9IHZhbHVlLnRvRml4ZWQoMik7XHJcbn07XHJcblxyXG5jb25zdCBzdGFydE9wZW5pbmdBbmltYXRpb24gPSAoKSA9PiB7XHJcblx0Y2FzZUJveC5jbGFzc0xpc3QuYWRkKFwib3Blbi1hbmltXCIpO1xyXG5cdGFkZEl0ZW1zKCk7XHJcblx0b3BlbmVkID0gdHJ1ZTtcclxuXHJcblx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRvcGVuZWQgPSBmYWxzZTtcclxuXHRcdHJlc2V0T3BlbmluZygpO1xyXG5cdH0sIDY1MDApO1xyXG59O1xyXG5cclxuY29uc3Qgc2V0V2lubmluZ0l0ZW0gPSAoKSA9PiB7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1OdW1iZXIgPSBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAxMDApO1xyXG5cdGNvbnN0IHdpbm5pbmdJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRjb25zdCB3aW5uaW5nSXRlbUltZyA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJpbWdcIik7XHJcblx0Y29uc3Qgd2lubmluZ0l0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblx0bGV0IGNoYW5jZXMgPSB3aW5uaW5nSXRlbU51bWJlcjtcclxuXHJcblx0aWYgKGNoYW5jZXMgPD0gNSkge1xyXG5cdFx0Y2hhbmNlcyA9IDA7XHJcblx0fSBlbHNlIGlmIChjaGFuY2VzID4gNSAmJiBjaGFuY2VzIDw9IDMwKSB7XHJcblx0XHRjaGFuY2VzID0gMTtcclxuXHR9IGVsc2Uge1xyXG5cdFx0Y2hhbmNlcyA9IDI7XHJcblx0fVxyXG5cclxuXHRpZiAod2lubmluZ0l0ZW1OdW1iZXIgPD0gNSkge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHR9IGVsc2UgaWYgKHdpbm5pbmdJdGVtTnVtYmVyID4gNSAmJiB3aW5uaW5nSXRlbU51bWJlciA8PSAzMCkge1xyXG5cdFx0d2lubmluZ0l0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHBpbms7XHJcblx0fSBlbHNlIHtcclxuXHRcdHdpbm5pbmdJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBncmV5O1xyXG5cdH1cclxuXHJcblx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRNYXRoLnJhbmRvbSgpICogaXRlbXNBbnViaXNJbWdbY2hhbmNlc10ubGVuZ3RoXHJcblx0KTtcclxuXHJcblx0d2lubmluZ0l0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0taW1nXCIpO1xyXG5cdHdpbm5pbmdJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFwic3JjXCIsXHJcblx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdCk7XHJcblx0d2lubmluZ0l0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XCJhbHRcIixcclxuXHRcdGl0ZW1zQW51YmlzTmFtZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdCk7XHJcblx0d2lubmluZ0l0ZW1UZXh0LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLW5hbWVcIik7XHJcblx0d2lubmluZ0l0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRjb25zb2xlLmxvZyhpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl0pO1xyXG5cclxuXHR3aW5uaW5nSXRlbS5hcHBlbmQod2lubmluZ0l0ZW1JbWcsIHdpbm5pbmdJdGVtVGV4dCk7XHJcblx0d2lubmluZ0l0ZW1EaXYuYXBwZW5kKHdpbm5pbmdJdGVtKTtcclxuXHRjYXNlQm94LmFwcGVuZCh3aW5uaW5nSXRlbURpdik7XHJcblxyXG5cdGN1cnJlbnRXaW5uaW5nSXRlbVByaWNlID0gaXRlbXNBbnViaXNQcmljZVtjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXTtcclxuXHJcblx0cmVtb3ZlQmFsYW5jZU9uT3BlbigpO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdGFkZEJhbGFuY2UoKTtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiQmFsYW5jZVwiLCBgJHtiYWxhbmNlQW1vdW50LnRleHRDb250ZW50fWApO1xyXG5cdH0sIDU1MDApO1xyXG5cclxuXHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdHdpbm5pbmdJdGVtRGl2LnJlbW92ZSgpO1xyXG5cdH0sIDY1MDApO1xyXG59O1xyXG5cclxuY29uc3QgYWRkSXRlbXMgPSAoKSA9PiB7XHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPD0gMTA7IGkrKykge1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbU51bWJlciA9IE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqIDEwMCk7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtRGl2ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW0gPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwibGlcIik7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtSW1nID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1UZXh0ID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInBcIik7XHJcblxyXG5cdFx0bGV0IGNoYW5jZXMgPSBub3JtYWxJdGVtTnVtYmVyO1xyXG5cclxuICAgICAgICBpZiAoY2hhbmNlcyA8PSA1KSB7XHJcbiAgICAgICAgICAgIGNoYW5jZXMgPSAwO1xyXG4gICAgICAgIH0gZWxzZSBpZiAoY2hhbmNlcyA+IDUgJiYgY2hhbmNlcyA8PSAzMCkge1xyXG4gICAgICAgICAgICBjaGFuY2VzID0gMTtcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBjaGFuY2VzID0gMjtcclxuICAgICAgICB9XHJcblxyXG5cdFx0Y29uc3QgcmFuZG9tSXRlbUZyb21Db2xvciA9IE1hdGguZmxvb3IoXHJcblx0XHRcdE1hdGgucmFuZG9tKCkgKiBpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXS5sZW5ndGhcclxuXHRcdCk7XHJcblxyXG5cdGlmIChub3JtYWxJdGVtTnVtYmVyIDw9IDUpIHtcclxuXHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuXHR9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiA1ICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gMzApIHtcclxuXHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHBpbms7XHJcblx0fSBlbHNlIHtcclxuXHRcdG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IGdyZXk7XHJcblx0fVxyXG5cclxuXHRcdG5vcm1hbEl0ZW0uc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW1cIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtLWltZ1wiKTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcInNyY1wiLFxyXG5cdFx0XHRpdGVtc0FudWJpc0ltZ1tjaGFuY2VzXVtyYW5kb21JdGVtRnJvbUNvbG9yXVxyXG5cdFx0KTtcclxuXHRcdG5vcm1hbEl0ZW1JbWcuc2V0QXR0cmlidXRlKFxyXG5cdFx0XHRcImFsdFwiLFxyXG5cdFx0XHRpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtVGV4dC5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1uYW1lXCIpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQudGV4dENvbnRlbnQgPSBpdGVtc0FudWJpc05hbWVbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl07XHJcblxyXG5cdFx0bm9ybWFsSXRlbS5hcHBlbmQobm9ybWFsSXRlbUltZywgbm9ybWFsSXRlbVRleHQpO1xyXG5cdFx0bm9ybWFsSXRlbURpdi5hcHBlbmQobm9ybWFsSXRlbSk7XHJcblx0XHRjYXNlQm94LmFwcGVuZChub3JtYWxJdGVtRGl2KTtcclxuXHJcblx0XHRzZXRUaW1lb3V0KCgpID0+IHtcclxuXHRcdFx0bm9ybWFsSXRlbURpdi5yZW1vdmUoKTtcclxuXHRcdH0sIDY1MDApO1xyXG5cdH1cclxuXHJcblx0c2V0V2lubmluZ0l0ZW0oKTtcclxuXHJcblx0Zm9yIChsZXQgaSA9IDA7IGkgPD0gNDsgaSsrKSB7XHJcblx0XHRjb25zdCBub3JtYWxJdGVtTnVtYmVyID0gTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpICogMTAwKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1EaXYgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbSA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJsaVwiKTtcclxuXHRcdGNvbnN0IG5vcm1hbEl0ZW1JbWcgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO1xyXG5cdFx0Y29uc3Qgbm9ybWFsSXRlbVRleHQgPSBkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwicFwiKTtcclxuXHJcblx0XHRsZXQgY2hhbmNlcyA9IG5vcm1hbEl0ZW1OdW1iZXI7XHJcblxyXG4gICAgICAgIGlmIChjaGFuY2VzIDw9IDUpIHtcclxuICAgICAgICAgICAgY2hhbmNlcyA9IDA7XHJcbiAgICAgICAgfSBlbHNlIGlmIChjaGFuY2VzID4gNSAmJiBjaGFuY2VzIDw9IDMwKSB7XHJcbiAgICAgICAgICAgIGNoYW5jZXMgPSAxO1xyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGNoYW5jZXMgPSAyO1xyXG4gICAgICAgIH1cclxuXHJcblx0XHRjb25zdCByYW5kb21JdGVtRnJvbUNvbG9yID0gTWF0aC5mbG9vcihcclxuXHRcdFx0TWF0aC5yYW5kb20oKSAqIGl0ZW1zQW51YmlzSW1nW2NoYW5jZXNdLmxlbmd0aFxyXG5cdFx0KTtcclxuXHJcblx0XHRpZiAobm9ybWFsSXRlbU51bWJlciA8PSA1KSB7XHJcbiAgICAgICAgICAgIG5vcm1hbEl0ZW0uc3R5bGUuYmFja2dyb3VuZCA9IHJlZDtcclxuICAgICAgICB9IGVsc2UgaWYgKG5vcm1hbEl0ZW1OdW1iZXIgPiA1ICYmIG5vcm1hbEl0ZW1OdW1iZXIgPD0gMzApIHtcclxuICAgICAgICAgICAgbm9ybWFsSXRlbS5zdHlsZS5iYWNrZ3JvdW5kID0gcGluaztcclxuICAgICAgICB9IGVsc2Uge1xyXG4gICAgICAgICAgICBub3JtYWxJdGVtLnN0eWxlLmJhY2tncm91bmQgPSBncmV5O1xyXG4gICAgICAgIH1cclxuXHJcblx0XHRub3JtYWxJdGVtLnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwiY2FzZS1pdGVtXCIpO1xyXG5cdFx0bm9ybWFsSXRlbUltZy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcImNhc2UtaXRlbS1pbWdcIik7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJzcmNcIixcclxuXHRcdFx0aXRlbXNBbnViaXNJbWdbY2hhbmNlc11bcmFuZG9tSXRlbUZyb21Db2xvcl1cclxuXHRcdCk7XHJcblx0XHRub3JtYWxJdGVtSW1nLnNldEF0dHJpYnV0ZShcclxuXHRcdFx0XCJhbHRcIixcclxuXHRcdFx0aXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdXHJcblx0XHQpO1xyXG5cdFx0bm9ybWFsSXRlbVRleHQuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJjYXNlLWl0ZW0tbmFtZVwiKTtcclxuXHRcdG5vcm1hbEl0ZW1UZXh0LnRleHRDb250ZW50ID0gaXRlbXNBbnViaXNOYW1lW2NoYW5jZXNdW3JhbmRvbUl0ZW1Gcm9tQ29sb3JdO1xyXG5cclxuXHRcdG5vcm1hbEl0ZW0uYXBwZW5kKG5vcm1hbEl0ZW1JbWcsIG5vcm1hbEl0ZW1UZXh0KTtcclxuXHRcdG5vcm1hbEl0ZW1EaXYuYXBwZW5kKG5vcm1hbEl0ZW0pO1xyXG5cdFx0Y2FzZUJveC5hcHBlbmQobm9ybWFsSXRlbURpdik7XHJcblxyXG5cdFx0c2V0VGltZW91dCgoKSA9PiB7XHJcblx0XHRcdG5vcm1hbEl0ZW1EaXYucmVtb3ZlKCk7XHJcblx0XHR9LCA2NTAwKTtcclxuXHR9XHJcbn07XHJcblxyXG5jb25zdCByZXNldE9wZW5pbmcgPSAoKSA9PiB7XHJcblx0Y2FzZUJveC5jbGFzc0xpc3QucmVtb3ZlKFwib3Blbi1hbmltXCIpO1xyXG59O1xyXG5cclxub3BlbkJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG5cdGlmIChvcGVuZWQgPT09IGZhbHNlICYmIHBhcnNlRmxvYXQoYmFsYW5jZUFtb3VudC50ZXh0Q29udGVudCkgPj0gMTUpIHtcclxuXHRcdHN0YXJ0T3BlbmluZ0FuaW1hdGlvbigpO1xyXG5cdFx0b3BlbkF1ZGlvLnBsYXkoKTtcclxuXHR9XHJcbn0pO1xyXG4iXX0=
